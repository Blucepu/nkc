#### 整体结构
![github.com/kccd/nkc/blob/master/document.png]()

#### 规范

1. api设计应遵循restful的思想, 层级明确划分, 动词准确一致

2. 函数归类放置(例: tools, middlewares)

3. 业务层(routers)应仅包含对应数据的操作, 不应负责维护数据关系

4. 数据模型(dataModels)应尽可能包括相关数据模型的
    + 同步(例: 统计数据, 发帖之后板块帖子数量增加; at用户之后被@人的未读消息增加等)
    + 校验(例: 用户名密码长度, 邮箱格式等)
    + 相关方法(例: getThreadsByQuery(), extend...())

5. http状态码应该准确对应响应类型,所有可以预料的错误都应该被catch所捕获并处理为相应的错误码

#### 备注
+ 以上内容仅是期望, 实际情况代码中可能存在与规范冲突的地方, 列出来的目的是希望不要产生新错误,
已经有的内容在修改时尽量满足规范
+ 应持续补充此内容

#### 已有问题
1. 权限中间件功能有限
2. view层(pages)代码较乱
3. 错误处理不一致

#### 待解决的问题
+ 订阅模式
+ 内容聚合