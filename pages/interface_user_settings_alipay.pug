extends bootstrap_base
block title
  title 绑定支付宝账号
block content
  .container-fluid.max-width
    .hidden#data=JSON.stringify({alipayAccounts: data.alipayAccounts, user: data.user})
    .row
      .col-xs-12.col-md-2
        include module_user_settings
      .col-xs-12.col-md-10#app(v-cloak)
        .panel.panel-primary
          .panel-heading
            span 绑定支付宝账号
          .panel-body
            h5.text-danger 注意事项：
            ul
              li 每个用户最多可绑定5个支付宝账号
            //- 已绑定的支付宝账号信息
            .bound.m-t-3
              //-h4 编辑绑定
              table.table
                thead
                  tr
                    th
                    th 支付宝账号
                    th 真实姓名
                    //-th 绑定日期
                    th 其他
                tbody
                  tr(v-for="alipay in alipayAccounts")
                    th.h4
                      strong.text-success(v-if="alipay.default") 默认
                    th
                      input.form-control(v-if="account === alipay" type="text" v-model="alipay.account")
                      span(v-else) {{alipay.account}}
                    th
                      input.form-control(v-if="account === alipay" type="text" v-model="alipay.name")
                      span(v-else) {{alipay.name}}
                    //-th
                      span(v-if="alipay.time") {{format("YYYY-MM-DD HH:mm:ss", alipay.time)}}
                    th
                      span(v-if="account === alipay" )
                        button.btn-sm.btn.btn-success(@click="saveAccounts") 保存
                        button.btn-sm.btn.btn-default(@click="cancelAccounts(alipay)") 取消
                      span(v-else)
                        button.btn-sm.btn.btn-primary(@click="modifyAccount(alipay)") 修改
                        button.btn-sm.btn.btn-danger(@click="deleteAccount(alipay)") 删除
                        button.btn.btn-sm.btn-default(v-if="!alipay.default" @click="setDefault(alipay)") 设为默认
              .m-t-1
                button.btn.btn-default(@click="addAccount") 添加





block scripts
  include publicModules/moment.pug
  +includeJS("/interface_user_settings_alipay.js")
