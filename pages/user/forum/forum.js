!function n(o,s,u){function i(t,e){if(!s[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(a)return a(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=s[t]={exports:{}},o[t][0].call(r.exports,function(e){return i(o[t][1][e]||e)},r,r.exports,n,o,s,u)}return s[t].exports}for(var a="function"==typeof require&&require,e=0;e<u.length;e++)i(u[e]);return i}({1:[function(e,t,r){"use strict";function u(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n=NKC.methods.getDataById("data"),o=new Map([["protocol",function(e){return e.protocol.haveReadProtocol?{passed:!0}:{passed:!1,message:"请先仔细阅读开办指南"}}],["enter_info",function(e){e=e.enterInfo;return e.newForumName&&e.reason&&e.youWantToDo?{passed:!0}:{passed:!1,message:"请先完整填写"}}],["send_invite",function(e){return e.sendInvite.userId.length<3?{passed:!1,message:"至少选择3个人"}:(e.commitData(),{passed:!0})}],["sucess_section",function(e){}]]),s=Array.from(o.keys());new Vue({el:"#app",data:{step:0,protocol:{haveReadProtocol:!1},enterInfo:{newForumName:"",reason:"",youWantToDo:""},sendInvite:{userId:[],users:[]},process:!0,myPForums:n.myPForums,reviewNewForumGuide:n.reviewNewForumGuide},computed:{stepName:function(){return s[this.step]||s[0]}},methods:{toStep:function(e){var t=(0,this.checker)(this.stepName),r=t.passed,t=t.message;return r?this.step=e:sweetError(t)},checker:function(e){if(o.has(e)){e=o.get(e);return"function"==typeof e?e(this):{}}return{}},selectUsers:function(){var s=this;a.open(function(e){var t=u(e.users);try{for(t.s();!(o=t.n()).done;){var r=o.value,n=r.uid,o=r.username,r=r.avatar;s.sendInvite.userId.includes(n)||(s.sendInvite.users.push({username:o,avatarUrl:NKC.methods.tools.getUrl("userAvatar",r),uid:n}),s.sendInvite.userId.push(n))}}catch(e){t.e(e)}finally{t.f()}},{userCount:99})},deleteFounder:function(e){this.sendInvite.users.splice(e,1),this.sendInvite.userId.splice(e,1)},commitData:function(){var e=this.enterInfo,t=this.sendInvite,r=this;return nkcAPI("/u/".concat(NKC.configs.uid,"/forum"),"POST",{info:e,invites:t.userId}).then(function(){console.log("提交成功"),r.process=!1}).catch(sweetError)}}});var a=new NKC.modules.SelectUser},{}]},{},[1]);