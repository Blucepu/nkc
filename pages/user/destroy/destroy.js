(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var data = NKC.methods.getDataById("data");
var app = new Vue({
  el: "#app",
  data: {
    verifyEmail: data.verifyEmail,
    verifyMobile: data.verifyMobile,
    verifyPassword: data.verifyPassword,
    mobileCode: "",
    emailCode: "",
    password: "",
    passed: !data.verifyEmail && !data.verifyMobile && !data.verifyPassword,
    mobileTime: 0,
    emailTime: 0
  },
  methods: {
    reduceTime: function reduceTime(type) {
      var self = this;
      setTimeout(function () {
        self[type]--;

        if (self[type] > 0) {
          self.reduceTime(type);
        }
      }, 1000);
    },
    sendEmailCode: function sendEmailCode() {
      if (this.emailTime > 0) return;
      var self = this;
      NKC.methods.sendEmailCode("destroy").then(function () {
        sweetSuccess("验证码已发送");
        self.emailTime = 120;
        self.reduceTime("emailTime");
      })["catch"](sweetError);
    },
    sendMobileCode: function sendMobileCode() {
      if (this.mobileTime > 0) return;
      var self = this;
      NKC.methods.sendMobileCode("destroy").then(function () {
        sweetSuccess("验证码已发送");
        self.mobileTime = 120;
        self.reduceTime("mobileTime");
      })["catch"](sweetError);
    },
    verify: function verify() {
      var self = this;
      var emailCode = this.emailCode,
          mobileCode = this.mobileCode,
          password = this.password;
      nkcAPI("/u/".concat(NKC.configs.uid, "/destroy"), "POST", {
        type: "verify",
        form: {
          emailCode: emailCode,
          mobileCode: mobileCode,
          password: password
        }
      }).then(function () {
        self.passed = true;
      })["catch"](sweetError);
    },
    submit: function submit() {
      var emailCode = this.emailCode,
          mobileCode = this.mobileCode,
          password = this.password;
      sweetQuestion("确定即会注销，注销后不可以用相同用户名重新注册，你将不能再对该账号及其发表的内容进行任何处置，你想好了吗？").then(function () {
        return nkcAPI("/u/".concat(NKC.configs.uid, "/destroy"), "POST", {
          type: "destroy",
          form: {
            emailCode: emailCode,
            mobileCode: mobileCode,
            password: password
          }
        });
      }).then(function () {
        // 注销完成
        window.location.href = "/";
      })["catch"](sweetError);
    }
  }
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9fYnJvd3Nlci1wYWNrQDYuMS4wQGJyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInBhZ2VzL3VzZXIvZGVzdHJveS9kZXN0cm95Lm1qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLE9BQUosQ0FBWSxXQUFaLENBQXdCLE1BQXhCLENBQWI7QUFDQSxJQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUosQ0FBUTtBQUNsQixFQUFBLEVBQUUsRUFBRSxNQURjO0FBRWxCLEVBQUEsSUFBSSxFQUFFO0FBQ0osSUFBQSxXQUFXLEVBQUUsSUFBSSxDQUFDLFdBRGQ7QUFFSixJQUFBLFlBQVksRUFBRSxJQUFJLENBQUMsWUFGZjtBQUdKLElBQUEsY0FBYyxFQUFFLElBQUksQ0FBQyxjQUhqQjtBQUtKLElBQUEsVUFBVSxFQUFFLEVBTFI7QUFNSixJQUFBLFNBQVMsRUFBRSxFQU5QO0FBT0osSUFBQSxRQUFRLEVBQUUsRUFQTjtBQVNKLElBQUEsTUFBTSxFQUFHLENBQUMsSUFBSSxDQUFDLFdBQU4sSUFBcUIsQ0FBQyxJQUFJLENBQUMsWUFBM0IsSUFBMkMsQ0FBQyxJQUFJLENBQUMsY0FUdEQ7QUFXSixJQUFBLFVBQVUsRUFBRSxDQVhSO0FBWUosSUFBQSxTQUFTLEVBQUc7QUFaUixHQUZZO0FBZ0JsQixFQUFBLE9BQU8sRUFBRTtBQUNQLElBQUEsVUFETyxzQkFDSSxJQURKLEVBQ1U7QUFDZixVQUFNLElBQUksR0FBRyxJQUFiO0FBQ0EsTUFBQSxVQUFVLENBQUMsWUFBTTtBQUNmLFFBQUEsSUFBSSxDQUFDLElBQUQsQ0FBSjs7QUFDQSxZQUFHLElBQUksQ0FBQyxJQUFELENBQUosR0FBYSxDQUFoQixFQUFtQjtBQUNqQixVQUFBLElBQUksQ0FBQyxVQUFMLENBQWdCLElBQWhCO0FBQ0Q7QUFDRixPQUxTLEVBS1AsSUFMTyxDQUFWO0FBTUQsS0FUTTtBQVVQLElBQUEsYUFWTywyQkFVUztBQUNkLFVBQUcsS0FBSyxTQUFMLEdBQWlCLENBQXBCLEVBQXVCO0FBQ3ZCLFVBQU0sSUFBSSxHQUFHLElBQWI7QUFDQSxNQUFBLEdBQUcsQ0FBQyxPQUFKLENBQVksYUFBWixDQUEwQixTQUExQixFQUNHLElBREgsQ0FDUSxZQUFNO0FBQ1YsUUFBQSxZQUFZLENBQUMsUUFBRCxDQUFaO0FBQ0EsUUFBQSxJQUFJLENBQUMsU0FBTCxHQUFpQixHQUFqQjtBQUNBLFFBQUEsSUFBSSxDQUFDLFVBQUwsQ0FBZ0IsV0FBaEI7QUFDRCxPQUxILFdBTVMsVUFOVDtBQU9ELEtBcEJNO0FBcUJQLElBQUEsY0FyQk8sNEJBcUJVO0FBQ2YsVUFBRyxLQUFLLFVBQUwsR0FBa0IsQ0FBckIsRUFBd0I7QUFDeEIsVUFBTSxJQUFJLEdBQUcsSUFBYjtBQUNBLE1BQUEsR0FBRyxDQUFDLE9BQUosQ0FBWSxjQUFaLENBQTJCLFNBQTNCLEVBQ0csSUFESCxDQUNRLFlBQU07QUFDVixRQUFBLFlBQVksQ0FBQyxRQUFELENBQVo7QUFDQSxRQUFBLElBQUksQ0FBQyxVQUFMLEdBQWtCLEdBQWxCO0FBQ0EsUUFBQSxJQUFJLENBQUMsVUFBTCxDQUFnQixZQUFoQjtBQUNELE9BTEgsV0FNUyxVQU5UO0FBT0QsS0EvQk07QUFnQ1AsSUFBQSxNQWhDTyxvQkFnQ0U7QUFDUCxVQUFNLElBQUksR0FBRyxJQUFiO0FBRE8sVUFHTCxTQUhLLEdBSUgsSUFKRyxDQUdMLFNBSEs7QUFBQSxVQUdNLFVBSE4sR0FJSCxJQUpHLENBR00sVUFITjtBQUFBLFVBR2tCLFFBSGxCLEdBSUgsSUFKRyxDQUdrQixRQUhsQjtBQUtQLE1BQUEsTUFBTSxjQUFPLEdBQUcsQ0FBQyxPQUFKLENBQVksR0FBbkIsZUFBa0MsTUFBbEMsRUFBMEM7QUFDOUMsUUFBQSxJQUFJLEVBQUUsUUFEd0M7QUFFOUMsUUFBQSxJQUFJLEVBQUU7QUFDSixVQUFBLFNBQVMsRUFBVCxTQURJO0FBRUosVUFBQSxVQUFVLEVBQVYsVUFGSTtBQUdKLFVBQUEsUUFBUSxFQUFSO0FBSEk7QUFGd0MsT0FBMUMsQ0FBTixDQVFHLElBUkgsQ0FRUSxZQUFNO0FBQ1YsUUFBQSxJQUFJLENBQUMsTUFBTCxHQUFjLElBQWQ7QUFDRCxPQVZILFdBV1MsVUFYVDtBQVlELEtBakRNO0FBa0RQLElBQUEsTUFsRE8sb0JBa0RFO0FBQUEsVUFDQSxTQURBLEdBQ21DLElBRG5DLENBQ0EsU0FEQTtBQUFBLFVBQ1csVUFEWCxHQUNtQyxJQURuQyxDQUNXLFVBRFg7QUFBQSxVQUN1QixRQUR2QixHQUNtQyxJQURuQyxDQUN1QixRQUR2QjtBQUVQLE1BQUEsYUFBYSxDQUFDLHVEQUFELENBQWIsQ0FDRyxJQURILENBQ1EsWUFBTTtBQUNWLGVBQU8sTUFBTSxjQUFPLEdBQUcsQ0FBQyxPQUFKLENBQVksR0FBbkIsZUFBa0MsTUFBbEMsRUFBMEM7QUFDckQsVUFBQSxJQUFJLEVBQUUsU0FEK0M7QUFFckQsVUFBQSxJQUFJLEVBQUU7QUFDSixZQUFBLFNBQVMsRUFBVCxTQURJO0FBRUosWUFBQSxVQUFVLEVBQVYsVUFGSTtBQUdKLFlBQUEsUUFBUSxFQUFSO0FBSEk7QUFGK0MsU0FBMUMsQ0FBYjtBQVFELE9BVkgsRUFXRyxJQVhILENBV1EsWUFBTTtBQUNWO0FBQ0EsUUFBQSxNQUFNLENBQUMsUUFBUCxDQUFnQixJQUFoQixHQUF1QixHQUF2QjtBQUNELE9BZEgsV0FlUyxVQWZUO0FBZ0JEO0FBcEVNO0FBaEJTLENBQVIsQ0FBWiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImNvbnN0IGRhdGEgPSBOS0MubWV0aG9kcy5nZXREYXRhQnlJZChcImRhdGFcIik7XHJcbmNvbnN0IGFwcCA9IG5ldyBWdWUoe1xyXG4gIGVsOiBcIiNhcHBcIixcclxuICBkYXRhOiB7XHJcbiAgICB2ZXJpZnlFbWFpbDogZGF0YS52ZXJpZnlFbWFpbCxcclxuICAgIHZlcmlmeU1vYmlsZTogZGF0YS52ZXJpZnlNb2JpbGUsXHJcbiAgICB2ZXJpZnlQYXNzd29yZDogZGF0YS52ZXJpZnlQYXNzd29yZCxcclxuXHJcbiAgICBtb2JpbGVDb2RlOiBcIlwiLFxyXG4gICAgZW1haWxDb2RlOiBcIlwiLFxyXG4gICAgcGFzc3dvcmQ6IFwiXCIsXHJcblxyXG4gICAgcGFzc2VkOiAoIWRhdGEudmVyaWZ5RW1haWwgJiYgIWRhdGEudmVyaWZ5TW9iaWxlICYmICFkYXRhLnZlcmlmeVBhc3N3b3JkKSxcclxuXHJcbiAgICBtb2JpbGVUaW1lOiAwLFxyXG4gICAgZW1haWxUaW1lOiAgMFxyXG4gIH0sXHJcbiAgbWV0aG9kczoge1xyXG4gICAgcmVkdWNlVGltZSh0eXBlKSB7XHJcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBzZWxmW3R5cGVdIC0tO1xyXG4gICAgICAgIGlmKHNlbGZbdHlwZV0gPiAwKSB7XHJcbiAgICAgICAgICBzZWxmLnJlZHVjZVRpbWUodHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAxMDAwKVxyXG4gICAgfSxcclxuICAgIHNlbmRFbWFpbENvZGUoKSB7XHJcbiAgICAgIGlmKHRoaXMuZW1haWxUaW1lID4gMCkgcmV0dXJuO1xyXG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgTktDLm1ldGhvZHMuc2VuZEVtYWlsQ29kZShcImRlc3Ryb3lcIilcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBzd2VldFN1Y2Nlc3MoXCLpqozor4HnoIHlt7Llj5HpgIFcIik7XHJcbiAgICAgICAgICBzZWxmLmVtYWlsVGltZSA9IDEyMDtcclxuICAgICAgICAgIHNlbGYucmVkdWNlVGltZShcImVtYWlsVGltZVwiKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChzd2VldEVycm9yKTtcclxuICAgIH0sXHJcbiAgICBzZW5kTW9iaWxlQ29kZSgpIHtcclxuICAgICAgaWYodGhpcy5tb2JpbGVUaW1lID4gMCkgcmV0dXJuO1xyXG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgTktDLm1ldGhvZHMuc2VuZE1vYmlsZUNvZGUoXCJkZXN0cm95XCIpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgc3dlZXRTdWNjZXNzKFwi6aqM6K+B56CB5bey5Y+R6YCBXCIpO1xyXG4gICAgICAgICAgc2VsZi5tb2JpbGVUaW1lID0gMTIwO1xyXG4gICAgICAgICAgc2VsZi5yZWR1Y2VUaW1lKFwibW9iaWxlVGltZVwiKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChzd2VldEVycm9yKTtcclxuICAgIH0sXHJcbiAgICB2ZXJpZnkoKSB7XHJcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgZW1haWxDb2RlLCBtb2JpbGVDb2RlLCBwYXNzd29yZFxyXG4gICAgICB9ID0gdGhpcztcclxuICAgICAgbmtjQVBJKGAvdS8ke05LQy5jb25maWdzLnVpZH0vZGVzdHJveWAsIFwiUE9TVFwiLCB7XHJcbiAgICAgICAgdHlwZTogXCJ2ZXJpZnlcIixcclxuICAgICAgICBmb3JtOiB7XHJcbiAgICAgICAgICBlbWFpbENvZGUsXHJcbiAgICAgICAgICBtb2JpbGVDb2RlLFxyXG4gICAgICAgICAgcGFzc3dvcmRcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgc2VsZi5wYXNzZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKHN3ZWV0RXJyb3IpXHJcbiAgICB9LFxyXG4gICAgc3VibWl0KCkge1xyXG4gICAgICBjb25zdCB7ZW1haWxDb2RlLCBtb2JpbGVDb2RlLCBwYXNzd29yZH0gPSB0aGlzO1xyXG4gICAgICBzd2VldFF1ZXN0aW9uKFwi56Gu5a6a5Y2z5Lya5rOo6ZSA77yM5rOo6ZSA5ZCO5LiN5Y+v5Lul55So55u45ZCM55So5oi35ZCN6YeN5paw5rOo5YaM77yM5L2g5bCG5LiN6IO95YaN5a+56K+l6LSm5Y+35Y+K5YW25Y+R6KGo55qE5YaF5a656L+b6KGM5Lu75L2V5aSE572u77yM5L2g5oOz5aW95LqG5ZCX77yfXCIpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIG5rY0FQSShgL3UvJHtOS0MuY29uZmlncy51aWR9L2Rlc3Ryb3lgLCBcIlBPU1RcIiwge1xyXG4gICAgICAgICAgICB0eXBlOiBcImRlc3Ryb3lcIixcclxuICAgICAgICAgICAgZm9ybToge1xyXG4gICAgICAgICAgICAgIGVtYWlsQ29kZSxcclxuICAgICAgICAgICAgICBtb2JpbGVDb2RlLFxyXG4gICAgICAgICAgICAgIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgLy8g5rOo6ZSA5a6M5oiQXHJcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1wiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKHN3ZWV0RXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxufSk7Il19
