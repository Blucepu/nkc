!function r(c,o,s){function d(n,e){if(!o[n]){if(!c[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(m)return m(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var a=o[n]={exports:{}};c[n][0].call(a.exports,function(e){return d(c[n][1][e]||e)},a,a.exports,r,c,o,s)}return o[n].exports}for(var m="function"==typeof require&&require,e=0;e<s.length;e++)d(s[e]);return d}({1:[function(e,n,t){"use strict";var i=NKC.methods.getDataById("data").dealInfo||{},a=i.address,r=i.dealDescription,c=void 0===r?"":r,o=i.dealAnnouncement,s=void 0===o?"":o,d=i.templates,m=void 0===d?[]:d,h="",p=(u=void 0===a?"":a).indexOf("&"),u=-1===p?(h=u,""):(h=u.slice(0,p),u.slice(p+1));window.app=new Vue({el:"#address",data:{dealDescription:c,dealAnnouncement:s,address:u,templates:m,location:h},mounted:function(){window.SelectAddress=new NKC.modules.SelectAddress},methods:{selectAddress:function(){SelectAddress.open(function(e){app.location=e.join("/")},{onlyChina:!0})},checkString:NKC.methods.checkData.checkString,checkNumber:NKC.methods.checkData.checkNumber,save:function(){var e=this.dealDescription,n=this.dealAnnouncement,t=this.address,i=this.templates,a=this.location;Promise.resolve().then(function(){if(app.checkString(e,{name:"供货说明",minLength:0,maxLength:500}),app.checkString(n,{name:"全局公告",minLength:0,maxLength:500}),!a)throw"请选择区域";if(app.checkString(a,{name:"区域",minLength:1,maxLength:500}),!t)throw"请输入详细地址";return app.checkString(t,{name:"详细地址",minLength:1,maxLength:500}),i.map(function(e){e.firstPrice=parseFloat(e.firstPrice),e.addPrice=parseFloat(e.addPrice);var n=e.name,t=e.firstPrice,i=e.addPrice;app.checkString(n,{name:"模板名称",minLength:1,maxLength:100}),app.checkNumber(t,{name:"首件价格",min:0,fractionDigits:2}),app.checkNumber(i,{name:"首件后每件价格",min:0,fractionDigits:2})}),nkcAPI("/shop/manage/settings","PUT",{dealDescription:e,dealAnnouncement:n,address:t,templates:i,location:a})}).then(function(){sweetSuccess("保存成功")}).catch(sweetError)},addTemplate:function(){this.templates.push({name:"新建模板",firstPrice:0,addPrice:0})},removeTemplate:function(e){this.templates.splice(e,1)}}})},{}]},{},[1]);