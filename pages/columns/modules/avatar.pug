mixin mixinColumnAvatar(user, column, subColumnsId, hideBanner)
  -subColumnsId = subColumnsId || []
  .column-avatar-body(class=hideBanner?'hide-banner':"")
    .column
      .column-avatar-container
        .column-avatar
          img(src=tools.getUrl('columnAvatar', column.avatar))
        .column-name-info
          .column-name=column.name
          .column-abbr=column.abbr
          .hidden-md.hidden-lg
            include ../modules/buttons_sm
        // 关注按钮
        -var subscribed = subColumnsId.includes(column._id);
        .column-subscribe(
          data-subscribed=subscribed?'true':'false'
          data-number=column.subCount
          data-column-id=column._id
        )
          .column-subscribe-container
            .column-button
            .column-number(class=!column.subCount? 'hidden':'')=column.subCount

        //-.column-subscribe
          -var subscribed = false;
          if user
            -subscribed = subColumnsId.includes(column._id)
          .column-subscribe-container(class=subscribed? 'subscribed': '')
            if !user
              .column-button(onclick=`Login.open('login')`)
            else if subColumnsId.includes(column._id)
              .column-button.subscribed(onclick=`SubscribeTypes.subscribeColumn(${column._id}, false)`)
            else
              .column-button(onclick=`SubscribeTypes.subscribeColumn(${column._id}, true)`)
            if column.subCount
              .column-number(class=subscribed?'subscribed':'' title=`关注量`)
                span=column.subCount

