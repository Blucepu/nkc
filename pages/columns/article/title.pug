//-  文章的标题,作者等

  @params {Array} authorInfos 文章作者
  @params {String} type 文章类型
  @params {String} uid 发表用户id
  @params {String} username 文章发表用户名称
  @params {String} avatarUrl 文章发表用户头像url
  @params {String} toc  文章创建时间YYYY-MM-DD
  @params {String} allToc  文章创建时间YYYY-MM-DD HH:mm:ss
  @params {String} originState  文章源
  @params {String} columnId 专栏ID(旧的_id)
  @params {String} columnName 专栏名
  @params {String} addr Ip
  @params {String} title 文章标题

mixin title(data)
  -var {authorInfos, type, article} = data;
  -var {title, uid, username, avatarUrl, toc, allToc, originState, columnId, columnName, addr} = data;
  if authorInfos && authorInfos.length  && type !== "product"
    -var agencyIndex = 1;
    -var agencyArray = [];
    -var agencyAddArray = [];
    -for(var i=0;i<authorInfos.length;i++) {
      -if(authorInfos[i].agency){
        -if(agencyArray.indexOf(authorInfos[i].agency) == -1){
          -agencyArray.push(authorInfos[i].agency);
          -if(authorInfos[i].agencyCountry && authorInfos[i].agencyCountry.length > 0){
            -authorInfos[i].agencyAdd = authorInfos[i].agencyAdd.replace(/\//igm, " ");
            -agencyAddArray.push(authorInfos[i].agency+"，"+authorInfos[i].agencyCountry+" "+authorInfos[i].agencyAdd);
          -} else if(authorInfos[i].agencyAdd){
            -agencyAddArray.push(authorInfos[i].agency+"，" + authorInfos[i].agencyAdd);
          -}else{
            -agencyAddArray.push(authorInfos[i].agency);
          -}
          -authorInfos[i].agencyIndex = agencyIndex;
          -agencyIndex++;
        -}else{
          -authorInfos[i].agencyIndex = agencyArray.indexOf(authorInfos[i].agency)+1;
        -};
      -};
    -};
  +includeCSS('/columns/article/title.css')
  .common-article-head
    //-  hover显示作者信息
    h1.common-article-title=title
    p
      if authorInfos && authorInfos.length
        for authorInfo in authorInfos
          if authorInfo.kcid.length
            span.common-article-author-name(style="cursor: pointer;" onclick=`turnUser(${authorInfo.kcid})`)!=`${authorInfo.name}`
          else
            span.common-article-author-name!=`${authorInfo.name}`
          if authorInfos.length > 1 && authorInfo.agencyIndex && agencyAddArray.length > 1
            sup!=`${authorInfo.agencyIndex}`
          //- span.common-article-author-name=authorInfo.name
          if authorInfo.isContract && authorInfo.contractObj && authorInfo.contractObj.contractEmail
            span.common-article-author.fa.fa-envelope-open-o(onclick="displayAuthor('"+objToStr(authorInfo.contractObj)+"')")
    p
      if authorInfos && authorInfos.length
        if authorInfos.length > 1
          for agad,index in agencyAddArray
            span.common-article-author!=`${index+1}.${agad}`
        if authorInfos.length <= 1
          for agad,index in agencyAddArray
            span.common-article-author!=`${agad}`
    .common-article-info
      a.common-article-author.jump.m-r-05(href=`/u/${uid}` target="_blank"
        data-global-mouseover="showUserPanel"
        data-global-mouseout="hideUserPanel"
        data-global-data=objToStr({uid})
      )
        img(src=avatarUrl style='width: 1.5rem;height: 1.5rem;border-radius:50%;')
        //- if authorInfos && authorInfos[0]
        span.kcid=username
      span.modify-time.m-r-05(title=allToc)=toc
      if ['3','4','5','6'].includes(String(originState))
        span.m-r-1.origin.fa.fa-caret-square-o-down.origin-icon.dropdown() 原创
          .dropdown-menu(aria-labelledby='dropdown-level')
            span(style="padding:5px")!=`${getOriginLevel(originState)}`
      if columnId
        a.column.jump.m-r-1(href=`/m/${columnId}` target="_blank")=columnName
      if addr
        span=` IP:${addr}`
