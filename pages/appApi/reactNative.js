!function r(i,o,a){function u(e,t){if(!o[e]){if(!i[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(s)return s(e,!0);throw(n=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",n}n=o[e]={exports:{}},i[e][0].call(n.exports,function(t){return u(i[e][1][t]||t)},n,n.exports,r,i,o,a)}return o[e].exports}for(var s="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,n){"use strict";function p(t,e){e||(e=t,t=location.href);t=new URL(t,location.origin);return new URL(e,t).href}NKC.methods.rn={index:0,callback:{}},NKC.methods.rn.postMessage=function(t){window.ReactNativeWebView.postMessage(JSON.stringify(t))},NKC.methods.rn.emit=function(t,e,n){e=e||{};var r=NKC.methods.rn.index++;NKC.methods.rn.callback[r]=n,NKC.methods.rn.postMessage({type:t,data:e,webFunctionId:r})},NKC.methods.rn.onMessage=function(t){var e=t.webFunctionId,t=t.data,e=NKC.methods.rn.callback[e];e&&e(t)},NKC.methods.rn.updateMusicListAndPlay=function(t){for(var e=$('span[data-tag="nkcsource"][data-type="audio"]'),n=[],r=[],i=0;i<e.length;i++){var o=e.eq(i),a=o.attr("data-id"),o=o.find(".app-audio-title");o.length&&(o=o.text()),-1===n.indexOf(a)&&(n.push(a),r.push(o))}var u=n.indexOf(t);0<u&&(t=n.splice(0,u),u=r.splice(0,u),n=n.concat(t),r=r.concat(u));for(var s=[],d=0;d<n.length;d++)s.push({url:window.location.origin+"/r/"+n[d],name:r[d],from:window.location.href});NKC.methods.rn.emit("updateMusicListAndPlay",{list:s})},document.addEventListener("click",function(t){var e=t.target,n=e.nodeName.toLowerCase(),r=e.getAttribute("data-type");if(o=(o=e.getAttribute("data-src"))||e.getAttribute("src"),"img"===n&&"view"===r&&o){for(var i,o=window.location.origin+o,a=document.querySelectorAll('img[data-type="view"]'),u=[],s=0;s<a.length;s++){var d=a[s],c=d.getAttribute("alt"),l=d.getAttribute("data-src");if(!(l=l||d.getAttribute("src")))return;(l=window.location.origin+l)===o&&(i=s),u.push({url:l,name:c})}NKC.methods.rn.emit("viewImage",{urls:u,index:i}),t.preventDefault()}else{var f,r=null;if("a"===n?r=e:(r=$(e).parents("a")).length&&(r=r[0]),r&&(h=r.getAttribute("href"),f=r.getAttribute("title")),h){var h,e=r.getAttribute("data-type"),r=r.getAttribute("data-title");if("download"===e){t.preventDefault();var m=p(location.href,h),g=r||Date.now()+"_"+Math.floor(1e3*Math.random())+".file";return sweetQuestion("确定要下载「".concat(g,"」?")).then(function(){NKC.methods.rn.emit("downloadFile",{url:m,filename:g})})}"reload"!==e&&(t.preventDefault(),h=p(location.href,h),NKC.methods.rn.emit("openNewPage",{href:h,title:f}))}}}),NKC.methods.rn.emit("syncPageInfo",{uid:NKC.configs.uid}),NKC.methods.rn.alert=function(t){NKC.methods.rn.emit("alert_message",{message:t})}},{}]},{},[1]);