!function o(a,u,d){function s(e,t){if(!u[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=u[e]={exports:{}};a[e][0].call(i.exports,function(t){return s(a[e][1][t]||t)},i,i.exports,o,a,u,d)}return u[e].exports}for(var c="function"==typeof require&&require,t=0;t<d.length;t++)s(d[t]);return s}({1:[function(t,e,n){"use strict";function C(t,e){e||(e=t,t=location.href);var n=new URL(t,location.origin);return new URL(e,n).href}NKC.methods.rn={index:0,callback:{}},NKC.methods.rn.postMessage=function(t){window.ReactNativeWebView.postMessage(JSON.stringify(t))},NKC.methods.rn.emit=function(t,e,n){e=e||{};var r=NKC.methods.rn.index++;NKC.methods.rn.callback[r]=n,NKC.methods.rn.postMessage({type:t,data:e,webFunctionId:r})},NKC.methods.rn.onMessage=function(t){var e=t.webFunctionId,n=t.data,r=NKC.methods.rn.callback[e];r&&r(n)},NKC.methods.rn.updateMusicListAndPlay=function(t){for(var e=$('span[data-tag="nkcsource"][data-type="audio"]'),n=[],r=[],i=0;i<e.length;i++){var o=e.eq(i),a=o.attr("data-id"),u=o.find(".app-audio-title");u.length&&(u=u.text()),-1===n.indexOf(a)&&(n.push(a),r.push(u))}var d,s,c=n.indexOf(t);0<c&&(d=n.splice(0,c),s=r.splice(0,c),n=n.concat(d),r=r.concat(s));for(var l=[],f=0;f<n.length;f++)l.push({url:window.location.origin+"/r/"+n[f],name:r[f],from:window.location.href});NKC.methods.rn.emit("updateMusicListAndPlay",{list:l})},document.addEventListener("click",function(t){var e=t.target,n=e.nodeName.toLowerCase(),r=e.getAttribute("data-type"),i=(i=e.getAttribute("data-src"))||e.getAttribute("src");if("img"===n&&"view"===r&&i){i=window.location.origin+i;for(var o,a=document.querySelectorAll('img[data-type="view"]'),u=[],d=0;d<a.length;d++){var s=a[d],c=s.getAttribute("alt"),l=s.getAttribute("data-src");if(!(l=l||s.getAttribute("src")))return;(l=window.location.origin+l)===i&&(o=d),u.push({url:l,name:c})}NKC.methods.rn.emit("viewImage",{urls:u,index:o}),t.preventDefault()}else{var f,h,g=null;if("a"===n?g=e:(g=$(e).parents("a")).length&&(g=g[0]),g&&(f=g.getAttribute("href"),h=g.getAttribute("title")),!f)return;var m,p=g.getAttribute("data-type"),w=g.getAttribute("data-title");if("download"===p){t.preventDefault();var v=C(location.href,f),N=w||Date.now()+"_"+Math.floor(1e3*Math.random())+".file";return sweetQuestion("确定要下载「".concat(N,"」?")).then(function(){NKC.methods.rn.emit("downloadFile",{url:v,filename:N})})}"reload"!==p&&(t.preventDefault(),m=C(location.href,f),NKC.methods.rn.emit("openNewPage",{href:m,title:h}))}}),NKC.methods.rn.emit("syncPageInfo",{uid:NKC.configs.uid})},{}]},{},[1]);