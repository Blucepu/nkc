!function a(o,u,s){function d(e,t){if(!u[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=u[e]={exports:{}};o[e][0].call(i.exports,function(t){return d(o[e][1][t]||t)},i,i.exports,a,o,u,s)}return u[e].exports}for(var c="function"==typeof require&&require,t=0;t<s.length;t++)d(s[t]);return d}({1:[function(t,e,n){"use strict";function C(t,e){e||(e=t,t=location.href);var n=new URL(t,location.origin);return new URL(e,n).href}NKC.methods.rn={index:0,callback:{}},NKC.methods.rn.postMessage=function(t){window.ReactNativeWebView.postMessage(JSON.stringify(t))},NKC.methods.rn.emit=function(t,e,n){e=e||{};var r=NKC.methods.rn.index++;NKC.methods.rn.callback[r]=n,NKC.methods.rn.postMessage({type:t,data:e,webFunctionId:r})},NKC.methods.rn.onMessage=function(t){var e=t.webFunctionId,n=t.data,r=NKC.methods.rn.callback[e];r&&r(n)},NKC.methods.rn.updateMusicListAndPlay=function(t){for(var e=$('span[data-tag="nkcsource"][data-type="audio"]'),n=[],r=[],i=0;i<e.length;i++){var a=e.eq(i),o=a.attr("data-id"),u=a.find(".app-audio-title");u.length&&(u=u.text()),-1===n.indexOf(o)&&(n.push(o),r.push(u))}var s,d,c=n.indexOf(t);0<c&&(s=n.splice(0,c),d=r.splice(0,c),n=n.concat(s),r=r.concat(d));for(var l=[],f=0;f<n.length;f++)l.push({url:window.location.origin+"/r/"+n[f],name:r[f],from:window.location.href});NKC.methods.rn.emit("updateMusicListAndPlay",{list:l})},document.addEventListener("click",function(t){var e=t.target,n=e.nodeName.toLowerCase(),r=e.getAttribute("data-type"),i=(i=e.getAttribute("data-src"))||e.getAttribute("src");if("img"===n&&"view"===r&&i){i=window.location.origin+i;for(var a,o=document.querySelectorAll('img[data-type="view"]'),u=[],s=0;s<o.length;s++){var d=o[s],c=d.getAttribute("alt"),l=d.getAttribute("data-src");if(!(l=l||d.getAttribute("src")))return;(l=window.location.origin+l)===i&&(a=s),u.push({url:l,name:c})}NKC.methods.rn.emit("viewImage",{urls:u,index:a}),t.preventDefault()}else{var f,h,m=null;if("a"===n?m=e:(m=$(e).parents("a")).length&&(m=m[0]),m&&(f=m.getAttribute("href"),h=m.getAttribute("title")),!f)return;var g,p=m.getAttribute("data-type"),w=m.getAttribute("data-title");if("download"===p){t.preventDefault();var v=C(location.href,f),N=w||Date.now()+"_"+Math.floor(1e3*Math.random())+".file";return sweetQuestion("确定要下载「".concat(N,"」?")).then(function(){NKC.methods.rn.emit("downloadFile",{url:v,filename:N})})}"reload"!==p&&(t.preventDefault(),g=C(location.href,f),NKC.methods.rn.emit("openNewPage",{href:g,title:h}))}}),NKC.methods.rn.emit("syncPageInfo",{uid:NKC.configs.uid}),NKC.methods.rn.alert=function(t){NKC.methods.rn.emit("alert_message",{message:t})}},{}]},{},[1]);