<<<<<<< HEAD
!function a(o,u,d){function s(e,t){if(!u[e]){if(!o[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(l)return l(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var i=u[e]={exports:{}};o[e][0].call(i.exports,function(t){return s(o[e][1][t]||t)},i,i.exports,a,o,u,d)}return u[e].exports}for(var l="function"==typeof require&&require,t=0;t<d.length;t++)s(d[t]);return s}({1:[function(t,e,r){"use strict";function N(t,e){e||(e=t,t=location.href);var r=new URL(t,location.origin);return new URL(e,r).href}NKC.methods.rn={index:0,callback:{}},NKC.methods.rn.postMessage=function(t){window.ReactNativeWebView.postMessage(JSON.stringify(t))},NKC.methods.rn.emit=function(t,e,r){e=e||{};var n=NKC.methods.rn.index++;NKC.methods.rn.callback[n]=r,NKC.methods.rn.postMessage({type:t,data:e,webFunctionId:n})},NKC.methods.rn.onMessage=function(t){var e=t.webFunctionId,r=t.data,n=NKC.methods.rn.callback[e];n&&n(r)},NKC.methods.rn.updateMusicListAndPlay=function(t){for(var e=$('span[data-tag="nkcsource"][data-type="audio"]'),r=[],n=0;n<e.length;n++){var i=e.eq(n).attr("data-id");-1===r.indexOf(i)&&r.push(i)}var a,o=r.indexOf(t);0<o&&(a=r.splice(0,o),r=r.concat(a));for(var u=[],n=0;n<r.length;n++)u.push({url:window.location.origin+"/r/"+r[n]});NKC.methods.rn.emit("updateMusicListAndPlay",{list:u})},document.addEventListener("click",function(t){var e=t.target,r=e.nodeName.toLowerCase(),n=e.getAttribute("data-type"),i=(i=e.getAttribute("data-src"))||e.getAttribute("src");if("img"===r&&"view"===n&&i){i=window.location.origin+i;for(var a,o=document.querySelectorAll('img[data-type="view"]'),u=[],d=0;d<o.length;d++){var s=o[d],l=s.getAttribute("alt"),c=s.getAttribute("data-src");if(!(c=c||s.getAttribute("src")))return;(c=window.location.origin+c)===i&&(a=d),u.push({url:c,name:l})}NKC.methods.rn.emit("viewImage",{urls:u,index:a}),t.preventDefault()}else{var f,m,g=null;if("a"===r?g=e:(g=$(e).parents("a")).length&&(g=g[0]),g&&(f=g.getAttribute("href"),m=g.getAttribute("title")),!f)return;var h,p,v=g.getAttribute("data-type"),w=g.getAttribute("data-title");"download"===v?(t.preventDefault(),h=N(location.href,f),NKC.methods.rn.emit("downloadFile",{url:h,filename:w||Date.now()+"_"+Math.floor(1e3*Math.random())+".file"})):"reload"!==v&&(t.preventDefault(),p=N(location.href,f),NKC.methods.rn.emit("openNewPage",{href:p,title:m}))}}),NKC.methods.rn.emit("syncPageInfo",{uid:NKC.configs.uid}),NKC.methods.rn.alert=function(t){NKC.methods.rn.emit("alert_message",{message:t})}},{}]},{},[1]);
=======
!function r(i,o,a){function u(e,t){if(!o[e]){if(!i[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(d)return d(e,!0);throw(n=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",n}n=o[e]={exports:{}},i[e][0].call(n.exports,function(t){return u(i[e][1][t]||t)},n,n.exports,r,i,o,a)}return o[e].exports}for(var d="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,n){"use strict";function p(t,e){e||(e=t,t=location.href);t=new URL(t,location.origin);return new URL(e,t).href}NKC.methods.rn={index:0,callback:{}},NKC.methods.rn.postMessage=function(t){window.ReactNativeWebView.postMessage(JSON.stringify(t))},NKC.methods.rn.emit=function(t,e,n){e=e||{};var r=NKC.methods.rn.index++;NKC.methods.rn.callback[r]=n,NKC.methods.rn.postMessage({type:t,data:e,webFunctionId:r})},NKC.methods.rn.onMessage=function(t){var e=t.webFunctionId,t=t.data,e=NKC.methods.rn.callback[e];e&&e(t)},NKC.methods.rn.updateMusicListAndPlay=function(t){for(var e=$('span[data-tag="nkcsource"][data-type="audio"]'),n=[],r=[],i=0;i<e.length;i++){var o=e.eq(i),a=o.attr("data-id"),o=o.find(".app-audio-title");o.length&&(o=o.text()),-1===n.indexOf(a)&&(n.push(a),r.push(o))}var u=n.indexOf(t);0<u&&(t=n.splice(0,u),u=r.splice(0,u),n=n.concat(t),r=r.concat(u));for(var d=[],s=0;s<n.length;s++)d.push({url:window.location.origin+"/r/"+n[s],name:r[s],from:window.location.href});NKC.methods.rn.emit("updateMusicListAndPlay",{list:d})},document.addEventListener("click",function(t){var e=t.target,n=e.nodeName.toLowerCase(),r=e.getAttribute("data-type");if(o=(o=e.getAttribute("data-src"))||e.getAttribute("src"),"img"===n&&"view"===r&&o){for(var i,o=window.location.origin+o,a=document.querySelectorAll('img[data-type="view"]'),u=[],d=0;d<a.length;d++){var s=a[d],c=s.getAttribute("alt"),l=s.getAttribute("data-src");if(!(l=l||s.getAttribute("src")))return;(l=window.location.origin+l)===o&&(i=d),u.push({url:l,name:c})}NKC.methods.rn.emit("viewImage",{urls:u,index:i}),t.preventDefault()}else{var f,r=null;if("a"===n?r=e:(r=$(e).parents("a")).length&&(r=r[0]),r&&(h=r.getAttribute("href"),f=r.getAttribute("title")),h){var h,e=r.getAttribute("data-type"),r=r.getAttribute("data-title");if("download"===e){t.preventDefault();var g=p(location.href,h),m=r||Date.now()+"_"+Math.floor(1e3*Math.random())+".file";return sweetQuestion("确定要下载「".concat(m,"」?")).then(function(){NKC.methods.rn.emit("downloadFile",{url:g,filename:m})})}"reload"!==e&&(t.preventDefault(),h=p(location.href,h),NKC.methods.rn.emit("openNewPage",{href:h,title:f}))}}}),NKC.methods.rn.emit("syncPageInfo",{uid:NKC.configs.uid})},{}]},{},[1]);
>>>>>>> 95e272bf9bee146c3b52cab46ffa81d7a7eef1bc
