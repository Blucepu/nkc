extends ../bootstrap_base
block title
  title=`${data.serverSettings.websiteName} - ${data.serverSettings.brief}`
  +includeCSS("/publicModules/thread_panel/thread_panel.css")
  +includeCSS("/swiper/dist/css/swiper.css")
  +includeCSS("/home/subscription.css")
  include ../publicModules/vue_forums_nav/vue_forums_nav_css
  +includeCSS("/publicModules/vue_user_panel/vue_user_panel_float.css")

block content
  .container-fluid.max-width
    .row
      .col-xs-12.col-md-2
        div.home-post-button.hidden-xs.hidden-sm
          a.btn-lg.btn-block(href=data.user ? `/editor` : '/login' style=`margin-bottom: 0.5rem;`)
            if data.user
              span.fa.fa-edit &nbsp;发表文章
            else
              span.fa.fa-login &nbsp;登录
        include ../publicModules/vue_forums_nav/vue_forums_nav_dom
      .col-xs-12.col-md-7
        .row
          .col-xs-12.col-md-12
            .swiper-container.swiper-home
              .swiper-wrapper
                for thread in data.ads
                  a.swiper-slide(href=`/t/${thread.tid}` target="_blank" style={
                    'background-image': `url(/cover/${thread.tid})`
                  })
                    .swiper-title= `${thread.firstPost.t}`
              .swiper-pagination
              .swiper-button-next.swiper-button(style='background-image: none;')
                .fa.fa-angle-right
              .swiper-button-prev.swiper-button(style='background-image: none;')
                .fa.fa-angle-left
          .col-xs-12.col-md-12.m-t-2
            .hidden-xs.hidden-sm
              include ../publicModules/paging/paging
            for thread in data.threads
              include ../publicModules/thread_panel/thread_panel
            include ../publicModules/paging/paging
      .col-xs-12.col-md-3
        include ../publicModules/canvas_logo
        //-include ../publicModules/notice
          include ../publicModules/active_users
          include ../publicModules/web_info_side.pug
block footer
  include ../publicModules/footer/footer
block scripts
  +includeJS("/swiper/dist/js/swiper.js")
  include ../publicModules/vue_forums_nav/vue_forums_nav_js
  +includeJS("/home/newHome.js")
  include ../publicModules/vue_user_panel/vue_user_panel_float_js
  +includeJS("/socket/homeSocket.js")

