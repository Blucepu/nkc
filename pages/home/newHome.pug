extends ../bootstrap_base
block title
  title=`${data.serverSettings.websiteName} - ${data.serverSettings.brief}`
  +includeCSS("/publicModules/thread_panel/thread_panel.css")
  +includeCSS("/swiper/dist/css/swiper.css")
  +includeCSS("/home/subscription.css")
  include ../publicModules/vue_forums_nav/vue_forums_nav_css
  +includeCSS("/publicModules/vue_user_panel/vue_user_panel_float.css")

block content
  .container-fluid.max-width
    .row
      .col-xs-12.col-md-2
        include ../publicModules/post_button
        include ../publicModules/vue_forums_nav/vue_forums_nav_dom
      .col-xs-12.col-md-7
        .row
          .col-xs-12.col-md-12
            .m-b-1
              -let showPagingSortButton = true;
              -let showHomeButton = true;
              include ../publicModules/paging/paging
            for thread in data.threads
              include ../publicModules/thread_panel/thread_panel
            -showPagingSortButton = false;
            include ../publicModules/paging/paging_input
      .col-xs-12.col-md-3
        include ../publicModules/canvas_logo
        .swiper-container.swiper-home
          .swiper-wrapper
            for thread in data.ads
              a.swiper-slide(href=`/t/${thread.tid}` target="_blank" style={
                'background-image': `url(/cover/${thread.tid})`
              })
                .swiper-title= `${thread.firstPost.t}`
          .swiper-pagination
          .swiper-button-next.swiper-button(style='background-image: none;')
            .fa.fa-angle-right
          .swiper-button-prev.swiper-button(style='background-image: none;')
            .fa.fa-angle-left
        .m-t-1
          -let sideThreads = data.noticeThreads
          -let sideThreadsHideInfo = true;
          -let sideThreadsHeader= "公告通知"
          include ../publicModules/side_thread_list
        .m-t-1
          -sideThreads = data.featuredThreads
          -sideThreadsHideInfo = false;
          -sideThreadsHeader= "精选文章"
          include ../publicModules/side_thread_list
        include ../publicModules/active_users
        //include ../publicModules/web_info_side.pug
block footer
  include ../publicModules/footer/footer
block scripts
  +includeJS("/swiper/dist/js/swiper.js")
  include ../publicModules/vue_forums_nav/vue_forums_nav_js
  +includeJS("/home/newHome.js")
  include ../publicModules/vue_user_panel/vue_user_panel_float_js
  +includeJS("/socket/homeSocket.js")

