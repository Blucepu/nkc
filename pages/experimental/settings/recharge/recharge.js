!function n(r,a,m){function o(t,e){if(!a[t]){if(!r[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(u)return u(t,!0);throw(i=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",i}i=a[t]={exports:{}},r[t][0].call(i.exports,function(e){return o(r[t][1][e]||e)},i,i.exports,n,r,a,m)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<m.length;e++)o(m[e]);return o}({1:[function(e,t,i){"use strict";var n=NKC.methods.getDataById("data");new Vue({el:"#app",data:{submitting:!1,recharge:null,withdraw:null},mounted:function(){var e=n.rechargeSettings,t=e.recharge,e=e.withdraw;e._startingTime=this.getHMS(e.startingTime),e._endTime=this.getHMS(e.endTime),this.convertNumber(e,"toPage"),this.convertNumber(t,"toPage"),this.recharge=t,this.withdraw=e},methods:{getHMS:function(e){return{hour:Math.floor(e/36e5),min:Math.floor(e/6e4)%60,sec:Math.floor(e/1e3)%60}},HMSToNumber:function(e){return 60*e.hour*60*1e3+60*e.min*1e3+1e3*e.sec},checkNumber:NKC.methods.checkData.checkNumber,checkString:NKC.methods.checkData.checkString,bigNumber:NKC.modules.math.bignumber,convertNumber:function(e,t){"toPage"===t?(e._min=e.min/100,e._max=e.max/100,e.aliPay._fee=NKC.modules.math.chain(this.bigNumber(e.aliPay.fee)).multiply(100).done().toNumber(),e.weChat._fee=NKC.modules.math.chain(this.bigNumber(e.weChat.fee)).multiply(100).done().toNumber()):(e.min=100*e._min,e.max=100*e._max,e.aliPay.fee=NKC.modules.math.chain(this.bigNumber(e.aliPay._fee)).multiply(this.bigNumber(.01)).done().toNumber(),e.weChat.fee=NKC.modules.math.chain(this.bigNumber(e.weChat._fee)).multiply(this.bigNumber(.01)).done().toNumber(),delete e.aliPay._fee,delete e.weChat._fee,delete e._min,delete e._max)},save:function(){var e=this,t=JSON.parse(JSON.stringify(this.recharge)),i=JSON.parse(JSON.stringify(this.withdraw)),n=this.checkNumber,r=this;Promise.resolve().then(function(){if(n(t._min,{name:"单次最小充值金额",min:.01,fractionDigits:2}),n(t._max,{name:"单次最大充值金额",min:.01,fractionDigits:2}),t._min>t._max)throw"单次充值金额设置错误";if(n(t.aliPay._fee,{name:"支付宝充值手续费",min:0,max:100,fractionDigits:2}),n(t.weChat._fee,{name:"微信支付充值手续费",min:0,max:100,fractionDigits:2}),n(i._min,{name:"单次最小提现金额",min:.01,fractionDigits:2}),n(i._max,{name:"单次最大提现金额",min:.01,fractionDigits:2}),i._min>i._max)throw"单次提现金额设置错误";return n(i.countOneDay,{name:"每天最大提现次数",min:0}),n(i.aliPay._fee,{name:"支付宝提现手续费",min:0,max:100,fractionDigits:2}),n(i.weChat._fee,{name:"微信支付提现手续费",min:0,max:100,fractionDigits:2}),i.startingTime=e.HMSToNumber(i._startingTime),i.endTime=e.HMSToNumber(i._endTime),delete i._startingTime,delete i._endTime,e.convertNumber(i,"toServer"),e.convertNumber(t,"toServer"),e.submitting=!0,nkcAPI("/e/settings/recharge","PUT",{recharge:t,withdraw:i})}).then(function(){r.submitting=!1,sweetSuccess("保存成功")}).catch(function(e){r.submitting=!1,sweetError(e)})}}})},{}]},{},[1]);