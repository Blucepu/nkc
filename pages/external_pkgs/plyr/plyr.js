(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

(typeof navigator === "undefined" ? "undefined" : _typeof(navigator)) === "object" && function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();
}

function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }

    return arr2;
  }
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

function _iterableToArray(iter) {
  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);
}

function _iterableToArrayLimit(arr, i) {
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance");
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance");
}

var defaults = {
  addCSS: true,
  // Add CSS to the element to improve usability (required here or in your CSS!)
  thumbWidth: 15,
  // The width of the thumb handle
  watch: true // Watch for new elements that match a string target

}; // Element matches a selector

function matches(element, selector) {
  function match() {
    return Array.from(document.querySelectorAll(selector)).includes(this);
  }

  var matches = match;
  return matches.call(element, selector);
} // Trigger event


function trigger(element, type) {
  if (!element || !type) {
    return;
  } // Create and dispatch the event


  var event = new Event(type); // Dispatch the event

  element.dispatchEvent(event);
} // ==========================================================================
// Type checking utils
// ==========================================================================


var getConstructor = function getConstructor(input) {
  return input !== null && typeof input !== 'undefined' ? input.constructor : null;
};

var instanceOf = function instanceOf(input, constructor) {
  return Boolean(input && constructor && input instanceof constructor);
};

var isNullOrUndefined = function isNullOrUndefined(input) {
  return input === null || typeof input === 'undefined';
};

var isObject = function isObject(input) {
  return getConstructor(input) === Object;
};

var isNumber = function isNumber(input) {
  return getConstructor(input) === Number && !Number.isNaN(input);
};

var isString = function isString(input) {
  return getConstructor(input) === String;
};

var isBoolean = function isBoolean(input) {
  return getConstructor(input) === Boolean;
};

var isFunction = function isFunction(input) {
  return getConstructor(input) === Function;
};

var isArray = function isArray(input) {
  return Array.isArray(input);
};

var isNodeList = function isNodeList(input) {
  return instanceOf(input, NodeList);
};

var isElement = function isElement(input) {
  return instanceOf(input, Element);
};

var isEvent = function isEvent(input) {
  return instanceOf(input, Event);
};

var isEmpty = function isEmpty(input) {
  return isNullOrUndefined(input) || (isString(input) || isArray(input) || isNodeList(input)) && !input.length || isObject(input) && !Object.keys(input).length;
};

var is = {
  nullOrUndefined: isNullOrUndefined,
  object: isObject,
  number: isNumber,
  string: isString,
  "boolean": isBoolean,
  "function": isFunction,
  array: isArray,
  nodeList: isNodeList,
  element: isElement,
  event: isEvent,
  empty: isEmpty
}; // Get the number of decimal places

function getDecimalPlaces(value) {
  var match = "".concat(value).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);

  if (!match) {
    return 0;
  }

  return Math.max(0, // Number of digits right of decimal point.
  (match[1] ? match[1].length : 0) - ( // Adjust for scientific notation.
  match[2] ? +match[2] : 0));
} // Round to the nearest step


function round(number, step) {
  if (step < 1) {
    var places = getDecimalPlaces(step);
    return parseFloat(number.toFixed(places));
  }

  return Math.round(number / step) * step;
}

var RangeTouch =
/*#__PURE__*/
function () {
  /**
   * Setup a new instance
   * @param {String|Element} target
   * @param {Object} options
   */
  function RangeTouch(target, options) {
    _classCallCheck(this, RangeTouch);

    if (is.element(target)) {
      // An Element is passed, use it directly
      this.element = target;
    } else if (is.string(target)) {
      // A CSS Selector is passed, fetch it from the DOM
      this.element = document.querySelector(target);
    }

    if (!is.element(this.element) || !is.empty(this.element.rangeTouch)) {
      return;
    }

    this.config = Object.assign({}, defaults, options);
    this.init();
  }

  _createClass(RangeTouch, [{
    key: "init",
    value: function init() {
      // Bail if not a touch enabled device
      if (!RangeTouch.enabled) {
        return;
      } // Add useful CSS


      if (this.config.addCSS) {
        // TODO: Restore original values on destroy
        this.element.style.userSelect = 'none';
        this.element.style.webKitUserSelect = 'none';
        this.element.style.touchAction = 'manipulation';
      }

      this.listeners(true);
      this.element.rangeTouch = this;
    }
  }, {
    key: "destroy",
    value: function destroy() {
      // Bail if not a touch enabled device
      if (!RangeTouch.enabled) {
        return;
      }

      this.listeners(false);
      this.element.rangeTouch = null;
    }
  }, {
    key: "listeners",
    value: function listeners(toggle) {
      var _this = this;

      var method = toggle ? 'addEventListener' : 'removeEventListener'; // Listen for events

      ['touchstart', 'touchmove', 'touchend'].forEach(function (type) {
        _this.element[method](type, function (event) {
          return _this.set(event);
        }, false);
      });
    }
    /**
     * Get the value based on touch position
     * @param {Event} event
     */

  }, {
    key: "get",
    value: function get(event) {
      if (!RangeTouch.enabled || !is.event(event)) {
        return null;
      }

      var input = event.target;
      var touch = event.changedTouches[0];
      var min = parseFloat(input.getAttribute('min')) || 0;
      var max = parseFloat(input.getAttribute('max')) || 100;
      var step = parseFloat(input.getAttribute('step')) || 1;
      var delta = max - min; // Calculate percentage

      var percent;
      var clientRect = input.getBoundingClientRect();
      var thumbWidth = 100 / clientRect.width * (this.config.thumbWidth / 2) / 100; // Determine left percentage

      percent = 100 / clientRect.width * (touch.clientX - clientRect.left); // Don't allow outside bounds

      if (percent < 0) {
        percent = 0;
      } else if (percent > 100) {
        percent = 100;
      } // Factor in the thumb offset


      if (percent < 50) {
        percent -= (100 - percent * 2) * thumbWidth;
      } else if (percent > 50) {
        percent += (percent - 50) * 2 * thumbWidth;
      } // Find the closest step to the mouse position


      return min + round(delta * (percent / 100), step);
    }
    /**
     * Update range value based on position
     * @param {Event} event
     */

  }, {
    key: "set",
    value: function set(event) {
      if (!RangeTouch.enabled || !is.event(event) || event.target.disabled) {
        return;
      } // Prevent text highlight on iOS


      event.preventDefault(); // Set value

      event.target.value = this.get(event); // Trigger event

      trigger(event.target, event.type === 'touchend' ? 'change' : 'input');
    }
  }], [{
    key: "setup",

    /**
     * Setup multiple instances
     * @param {String|Element|NodeList|Array} target
     * @param {Object} options
     */
    value: function setup(target) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var targets = null;

      if (is.empty(target) || is.string(target)) {
        targets = Array.from(document.querySelectorAll(is.string(target) ? target : 'input[type="range"]'));
      } else if (is.element(target)) {
        targets = [target];
      } else if (is.nodeList(target)) {
        targets = Array.from(target);
      } else if (is.array(target)) {
        targets = target.filter(is.element);
      }

      if (is.empty(targets)) {
        return null;
      }

      var config = Object.assign({}, defaults, options);

      if (is.string(target) && config.watch) {
        // Create an observer instance
        var observer = new MutationObserver(function (mutations) {
          Array.from(mutations).forEach(function (mutation) {
            Array.from(mutation.addedNodes).forEach(function (node) {
              if (!is.element(node) || !matches(node, target)) {
                return;
              } // eslint-disable-next-line no-unused-vars


              var range = new RangeTouch(node, config);
            });
          });
        }); // Pass in the target node, as well as the observer options

        observer.observe(document.body, {
          childList: true,
          subtree: true
        });
      }

      return targets.map(function (t) {
        return new RangeTouch(t, options);
      });
    }
  }, {
    key: "enabled",
    get: function get() {
      return 'ontouchstart' in document.documentElement;
    }
  }]);

  return RangeTouch;
}(); // ==========================================================================
// Type checking utils
// ==========================================================================


var getConstructor$1 = function getConstructor(input) {
  return input !== null && typeof input !== 'undefined' ? input.constructor : null;
};

var instanceOf$1 = function instanceOf(input, constructor) {
  return Boolean(input && constructor && input instanceof constructor);
};

var isNullOrUndefined$1 = function isNullOrUndefined(input) {
  return input === null || typeof input === 'undefined';
};

var isObject$1 = function isObject(input) {
  return getConstructor$1(input) === Object;
};

var isNumber$1 = function isNumber(input) {
  return getConstructor$1(input) === Number && !Number.isNaN(input);
};

var isString$1 = function isString(input) {
  return getConstructor$1(input) === String;
};

var isBoolean$1 = function isBoolean(input) {
  return getConstructor$1(input) === Boolean;
};

var isFunction$1 = function isFunction(input) {
  return getConstructor$1(input) === Function;
};

var isArray$1 = function isArray(input) {
  return Array.isArray(input);
};

var isWeakMap = function isWeakMap(input) {
  return instanceOf$1(input, WeakMap);
};

var isNodeList$1 = function isNodeList(input) {
  return instanceOf$1(input, NodeList);
};

var isElement$1 = function isElement(input) {
  return instanceOf$1(input, Element);
};

var isTextNode = function isTextNode(input) {
  return getConstructor$1(input) === Text;
};

var isEvent$1 = function isEvent(input) {
  return instanceOf$1(input, Event);
};

var isKeyboardEvent = function isKeyboardEvent(input) {
  return instanceOf$1(input, KeyboardEvent);
};

var isCue = function isCue(input) {
  return instanceOf$1(input, window.TextTrackCue) || instanceOf$1(input, window.VTTCue);
};

var isTrack = function isTrack(input) {
  return instanceOf$1(input, TextTrack) || !isNullOrUndefined$1(input) && isString$1(input.kind);
};

var isPromise = function isPromise(input) {
  return instanceOf$1(input, Promise);
};

var isEmpty$1 = function isEmpty(input) {
  return isNullOrUndefined$1(input) || (isString$1(input) || isArray$1(input) || isNodeList$1(input)) && !input.length || isObject$1(input) && !Object.keys(input).length;
};

var isUrl = function isUrl(input) {
  // Accept a URL object
  if (instanceOf$1(input, window.URL)) {
    return true;
  } // Must be string from here


  if (!isString$1(input)) {
    return false;
  } // Add the protocol if required


  var string = input;

  if (!input.startsWith('http://') || !input.startsWith('https://')) {
    string = "http://".concat(input);
  }

  try {
    return !isEmpty$1(new URL(string).hostname);
  } catch (e) {
    return false;
  }
};

var is$1 = {
  nullOrUndefined: isNullOrUndefined$1,
  object: isObject$1,
  number: isNumber$1,
  string: isString$1,
  "boolean": isBoolean$1,
  "function": isFunction$1,
  array: isArray$1,
  weakMap: isWeakMap,
  nodeList: isNodeList$1,
  element: isElement$1,
  textNode: isTextNode,
  event: isEvent$1,
  keyboardEvent: isKeyboardEvent,
  cue: isCue,
  track: isTrack,
  promise: isPromise,
  url: isUrl,
  empty: isEmpty$1
}; // ==========================================================================

var transitionEndEvent = function () {
  var element = document.createElement('span');
  var events = {
    WebkitTransition: 'webkitTransitionEnd',
    MozTransition: 'transitionend',
    OTransition: 'oTransitionEnd otransitionend',
    transition: 'transitionend'
  };
  var type = Object.keys(events).find(function (event) {
    return element.style[event] !== undefined;
  });
  return is$1.string(type) ? events[type] : false;
}(); // Force repaint of element


function repaint(element, delay) {
  setTimeout(function () {
    try {
      // eslint-disable-next-line no-param-reassign
      element.hidden = true; // eslint-disable-next-line no-unused-expressions

      element.offsetHeight; // eslint-disable-next-line no-param-reassign

      element.hidden = false;
    } catch (e) {// Do nothing
    }
  }, delay);
} // ==========================================================================
// Browser sniffing
// Unfortunately, due to mixed support, UA sniffing is required
// ==========================================================================


var browser = {
  isIE:
  /* @cc_on!@ */
  !!document.documentMode,
  isEdge: window.navigator.userAgent.includes('Edge'),
  isWebkit: 'WebkitAppearance' in document.documentElement.style && !/Edge/.test(navigator.userAgent),
  isIPhone: /(iPhone|iPod)/gi.test(navigator.platform),
  isIos: /(iPad|iPhone|iPod)/gi.test(navigator.platform)
}; // ==========================================================================
// https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md
// https://www.youtube.com/watch?v=NPM6172J22g

var supportsPassiveListeners = function () {
  // Test via a getter in the options object to see if the passive property is accessed
  var supported = false;

  try {
    var options = Object.defineProperty({}, 'passive', {
      get: function get() {
        supported = true;
        return null;
      }
    });
    window.addEventListener('test', null, options);
    window.removeEventListener('test', null, options);
  } catch (e) {// Do nothing
  }

  return supported;
}(); // Toggle event listener


function toggleListener(element, event, callback) {
  var _this = this;

  var toggle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;
  var capture = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false; // Bail if no element, event, or callback

  if (!element || !('addEventListener' in element) || is$1.empty(event) || !is$1["function"](callback)) {
    return;
  } // Allow multiple events


  var events = event.split(' '); // Build options
  // Default to just the capture boolean for browsers with no passive listener support

  var options = capture; // If passive events listeners are supported

  if (supportsPassiveListeners) {
    options = {
      // Whether the listener can be passive (i.e. default never prevented)
      passive: passive,
      // Whether the listener is a capturing listener or not
      capture: capture
    };
  } // If a single node is passed, bind the event listener


  events.forEach(function (type) {
    if (_this && _this.eventListeners && toggle) {
      // Cache event listener
      _this.eventListeners.push({
        element: element,
        type: type,
        callback: callback,
        options: options
      });
    }

    element[toggle ? 'addEventListener' : 'removeEventListener'](type, callback, options);
  });
} // Bind event handler


function on(element) {
  var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  var callback = arguments.length > 2 ? arguments[2] : undefined;
  var passive = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
  var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  toggleListener.call(this, element, events, callback, true, passive, capture);
} // Unbind event handler


function off(element) {
  var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  var callback = arguments.length > 2 ? arguments[2] : undefined;
  var passive = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
  var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  toggleListener.call(this, element, events, callback, false, passive, capture);
} // Bind once-only event handler


function once(element) {
  var _this2 = this;

  var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  var callback = arguments.length > 2 ? arguments[2] : undefined;
  var passive = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
  var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;

  var onceCallback = function onceCallback() {
    off(element, events, onceCallback, passive, capture);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    callback.apply(_this2, args);
  };

  toggleListener.call(this, element, events, onceCallback, true, passive, capture);
} // Trigger event


function triggerEvent(element) {
  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  var bubbles = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var detail = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {}; // Bail if no element

  if (!is$1.element(element) || is$1.empty(type)) {
    return;
  } // Create and dispatch the event


  var event = new CustomEvent(type, {
    bubbles: bubbles,
    detail: Object.assign({}, detail, {
      plyr: this
    })
  }); // Dispatch the event

  element.dispatchEvent(event);
} // Unbind all cached event listeners


function unbindListeners() {
  if (this && this.eventListeners) {
    this.eventListeners.forEach(function (item) {
      var element = item.element,
          type = item.type,
          callback = item.callback,
          options = item.options;
      element.removeEventListener(type, callback, options);
    });
    this.eventListeners = [];
  }
} // Run method when / if player is ready


function ready() {
  var _this3 = this;

  return new Promise(function (resolve) {
    return _this3.ready ? setTimeout(resolve, 0) : on.call(_this3, _this3.elements.container, 'ready', resolve);
  }).then(function () {});
}

function cloneDeep(object) {
  return JSON.parse(JSON.stringify(object));
} // Get a nested value in an object


function getDeep(object, path) {
  return path.split('.').reduce(function (obj, key) {
    return obj && obj[key];
  }, object);
} // Deep extend destination object with N more objects


function extend() {
  var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    sources[_key - 1] = arguments[_key];
  }

  if (!sources.length) {
    return target;
  }

  var source = sources.shift();

  if (!is$1.object(source)) {
    return target;
  }

  Object.keys(source).forEach(function (key) {
    if (is$1.object(source[key])) {
      if (!Object.keys(target).includes(key)) {
        Object.assign(target, _defineProperty({}, key, {}));
      }

      extend(target[key], source[key]);
    } else {
      Object.assign(target, _defineProperty({}, key, source[key]));
    }
  });
  return extend.apply(void 0, [target].concat(sources));
}

function wrap(elements, wrapper) {
  // Convert `elements` to an array, if necessary.
  var targets = elements.length ? elements : [elements]; // Loops backwards to prevent having to clone the wrapper on the
  // first element (see `child` below).

  Array.from(targets).reverse().forEach(function (element, index) {
    var child = index > 0 ? wrapper.cloneNode(true) : wrapper; // Cache the current parent and sibling.

    var parent = element.parentNode;
    var sibling = element.nextSibling; // Wrap the element (is automatically removed from its current
    // parent).

    child.appendChild(element); // If the element had a sibling, insert the wrapper before
    // the sibling to maintain the HTML structure; otherwise, just
    // append it to the parent.

    if (sibling) {
      parent.insertBefore(child, sibling);
    } else {
      parent.appendChild(child);
    }
  });
} // Set attributes


function setAttributes(element, attributes) {
  if (!is$1.element(element) || is$1.empty(attributes)) {
    return;
  } // Assume null and undefined attributes should be left out,
  // Setting them would otherwise convert them to "null" and "undefined"


  Object.entries(attributes).filter(function (_ref) {
    var _ref2 = _slicedToArray(_ref, 2),
        value = _ref2[1];

    return !is$1.nullOrUndefined(value);
  }).forEach(function (_ref3) {
    var _ref4 = _slicedToArray(_ref3, 2),
        key = _ref4[0],
        value = _ref4[1];

    return element.setAttribute(key, value);
  });
} // Create a DocumentFragment


function createElement(type, attributes, text) {
  // Create a new <element>
  var element = document.createElement(type); // Set all passed attributes

  if (is$1.object(attributes)) {
    setAttributes(element, attributes);
  } // Add text node


  if (is$1.string(text)) {
    element.innerText = text;
  } // Return built element


  return element;
} // Inaert an element after another


function insertAfter(element, target) {
  if (!is$1.element(element) || !is$1.element(target)) {
    return;
  }

  target.parentNode.insertBefore(element, target.nextSibling);
} // Insert a DocumentFragment


function insertElement(type, parent, attributes, text) {
  if (!is$1.element(parent)) {
    return;
  }

  parent.appendChild(createElement(type, attributes, text));
} // Remove element(s)


function removeElement(element) {
  if (is$1.nodeList(element) || is$1.array(element)) {
    Array.from(element).forEach(removeElement);
    return;
  }

  if (!is$1.element(element) || !is$1.element(element.parentNode)) {
    return;
  }

  element.parentNode.removeChild(element);
} // Remove all child elements


function emptyElement(element) {
  if (!is$1.element(element)) {
    return;
  }

  var length = element.childNodes.length;

  while (length > 0) {
    element.removeChild(element.lastChild);
    length -= 1;
  }
} // Replace element


function replaceElement(newChild, oldChild) {
  if (!is$1.element(oldChild) || !is$1.element(oldChild.parentNode) || !is$1.element(newChild)) {
    return null;
  }

  oldChild.parentNode.replaceChild(newChild, oldChild);
  return newChild;
} // Get an attribute object from a string selector


function getAttributesFromSelector(sel, existingAttributes) {
  // For example:
  // '.test' to { class: 'test' }
  // '#test' to { id: 'test' }
  // '[data-test="test"]' to { 'data-test': 'test' }
  if (!is$1.string(sel) || is$1.empty(sel)) {
    return {};
  }

  var attributes = {};
  var existing = extend({}, existingAttributes);
  sel.split(',').forEach(function (s) {
    // Remove whitespace
    var selector = s.trim();
    var className = selector.replace('.', '');
    var stripped = selector.replace(/[[\]]/g, ''); // Get the parts and value

    var parts = stripped.split('=');

    var _parts = _slicedToArray(parts, 1),
        key = _parts[0];

    var value = parts.length > 1 ? parts[1].replace(/["']/g, '') : ''; // Get the first character

    var start = selector.charAt(0);

    switch (start) {
      case '.':
        // Add to existing classname
        if (is$1.string(existing["class"])) {
          attributes["class"] = "".concat(existing["class"], " ").concat(className);
        } else {
          attributes["class"] = className;
        }

        break;

      case '#':
        // ID selector
        attributes.id = selector.replace('#', '');
        break;

      case '[':
        // Attribute selector
        attributes[key] = value;
        break;

      default:
        break;
    }
  });
  return extend(existing, attributes);
} // Toggle hidden


function toggleHidden(element, hidden) {
  if (!is$1.element(element)) {
    return;
  }

  var hide = hidden;

  if (!is$1["boolean"](hide)) {
    hide = !element.hidden;
  } // eslint-disable-next-line no-param-reassign


  element.hidden = hide;
} // Mirror Element.classList.toggle, with IE compatibility for "force" argument


function toggleClass(element, className, force) {
  if (is$1.nodeList(element)) {
    return Array.from(element).map(function (e) {
      return toggleClass(e, className, force);
    });
  }

  if (is$1.element(element)) {
    var method = 'toggle';

    if (typeof force !== 'undefined') {
      method = force ? 'add' : 'remove';
    }

    element.classList[method](className);
    return element.classList.contains(className);
  }

  return false;
} // Has class name


function hasClass(element, className) {
  return is$1.element(element) && element.classList.contains(className);
} // Element matches selector


function matches$1(element, selector) {
  function match() {
    return Array.from(document.querySelectorAll(selector)).includes(this);
  }

  var method = match;
  return method.call(element, selector);
} // Find all elements


function getElements(selector) {
  return this.elements.container.querySelectorAll(selector);
} // Find a single element


function getElement(selector) {
  return this.elements.container.querySelector(selector);
} // Trap focus inside container


function trapFocus() {
  var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var toggle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  if (!is$1.element(element)) {
    return;
  }

  var focusable = getElements.call(this, 'button:not(:disabled), input:not(:disabled), [tabindex]');
  var first = focusable[0];
  var last = focusable[focusable.length - 1];

  var trap = function trap(event) {
    // Bail if not tab key or not fullscreen
    if (event.key !== 'Tab' || event.keyCode !== 9) {
      return;
    } // Get the current focused element


    var focused = document.activeElement;

    if (focused === last && !event.shiftKey) {
      // Move focus to first element that can be tabbed if Shift isn't used
      first.focus();
      event.preventDefault();
    } else if (focused === first && event.shiftKey) {
      // Move focus to last element that can be tabbed if Shift is used
      last.focus();
      event.preventDefault();
    }
  };

  toggleListener.call(this, this.elements.container, 'keydown', trap, toggle, false);
} // Set focus and tab focus class


function setFocus() {
  var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var tabFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  if (!is$1.element(element)) {
    return;
  } // Set regular focus


  element.focus({
    preventScroll: true
  }); // If we want to mimic keyboard focus via tab

  if (tabFocus) {
    toggleClass(element, this.config.classNames.tabFocus);
  }
}

var defaultCodecs = {
  'audio/ogg': 'vorbis',
  'audio/wav': '1',
  'video/webm': 'vp8, vorbis',
  'video/mp4': 'avc1.42E01E, mp4a.40.2',
  'video/ogg': 'theora'
}; // Check for feature support

var support = {
  // Basic support
  audio: 'canPlayType' in document.createElement('audio'),
  video: 'canPlayType' in document.createElement('video'),
  // Check for support
  // Basic functionality vs full UI
  check: function check(type, provider, playsinline) {
    var canPlayInline = browser.isIPhone && playsinline && support.playsinline;
    var api = support[type] || provider !== 'html5';
    var ui = api && support.rangeInput && (type !== 'video' || !browser.isIPhone || canPlayInline);
    return {
      api: api,
      ui: ui
    };
  },
  // Picture-in-picture support
  // Safari & Chrome only currently
  pip: function () {
    if (browser.isIPhone) {
      return false;
    } // Safari
    // https://developer.apple.com/documentation/webkitjs/adding_picture_in_picture_to_your_safari_media_controls


    if (is$1["function"](createElement('video').webkitSetPresentationMode)) {
      return true;
    } // Chrome
    // https://developers.google.com/web/updates/2018/10/watch-video-using-picture-in-picture


    if (document.pictureInPictureEnabled && !createElement('video').disablePictureInPicture) {
      return true;
    }

    return false;
  }(),
  // Airplay support
  // Safari only currently
  airplay: is$1["function"](window.WebKitPlaybackTargetAvailabilityEvent),
  // Inline playback support
  // https://webkit.org/blog/6784/new-video-policies-for-ios/
  playsinline: 'playsInline' in document.createElement('video'),
  // Check for mime type support against a player instance
  // Credits: http://diveintohtml5.info/everything.html
  // Related: http://www.leanbackplayer.com/test/h5mt.html
  mime: function mime(input) {
    if (is$1.empty(input)) {
      return false;
    }

    var _input$split = input.split('/'),
        _input$split2 = _slicedToArray(_input$split, 1),
        mediaType = _input$split2[0];

    var type = input; // Verify we're using HTML5 and there's no media type mismatch

    if (!this.isHTML5 || mediaType !== this.type) {
      return false;
    } // Add codec if required


    if (Object.keys(defaultCodecs).includes(type)) {
      type += "; codecs=\"".concat(defaultCodecs[input], "\"");
    }

    try {
      return Boolean(type && this.media.canPlayType(type).replace(/no/, ''));
    } catch (e) {
      return false;
    }
  },
  // Check for textTracks support
  textTracks: 'textTracks' in document.createElement('video'),
  // <input type="range"> Sliders
  rangeInput: function () {
    var range = document.createElement('input');
    range.type = 'range';
    return range.type === 'range';
  }(),
  // Touch
  // NOTE: Remember a device can be mouse + touch enabled so we check on first touch event
  touch: 'ontouchstart' in document.documentElement,
  // Detect transitions support
  transitions: transitionEndEvent !== false,
  // Reduced motion iOS & MacOS setting
  // https://webkit.org/blog/7551/responsive-design-for-motion/
  reducedMotion: 'matchMedia' in window && window.matchMedia('(prefers-reduced-motion)').matches
};

function validateRatio(input) {
  if (!is$1.array(input) && (!is$1.string(input) || !input.includes(':'))) {
    return false;
  }

  var ratio = is$1.array(input) ? input : input.split(':');
  return ratio.map(Number).every(is$1.number);
}

function reduceAspectRatio(ratio) {
  if (!is$1.array(ratio) || !ratio.every(is$1.number)) {
    return null;
  }

  var _ratio = _slicedToArray(ratio, 2),
      width = _ratio[0],
      height = _ratio[1];

  var getDivider = function getDivider(w, h) {
    return h === 0 ? w : getDivider(h, w % h);
  };

  var divider = getDivider(width, height);
  return [width / divider, height / divider];
}

function getAspectRatio(input) {
  var parse = function parse(ratio) {
    return validateRatio(ratio) ? ratio.split(':').map(Number) : null;
  }; // Try provided ratio


  var ratio = parse(input); // Get from config

  if (ratio === null) {
    ratio = parse(this.config.ratio);
  } // Get from embed


  if (ratio === null && !is$1.empty(this.embed) && is$1.array(this.embed.ratio)) {
    ratio = this.embed.ratio;
  } // Get from HTML5 video


  if (ratio === null && this.isHTML5) {
    var _this$media = this.media,
        videoWidth = _this$media.videoWidth,
        videoHeight = _this$media.videoHeight;
    ratio = reduceAspectRatio([videoWidth, videoHeight]);
  }

  return ratio;
} // Set aspect ratio for responsive container


function setAspectRatio(input) {
  if (!this.isVideo) {
    return {};
  }

  var ratio = getAspectRatio.call(this, input);

  var _ref = is$1.array(ratio) ? ratio : [0, 0],
      _ref2 = _slicedToArray(_ref, 2),
      w = _ref2[0],
      h = _ref2[1];

  var padding = 100 / w * h;
  this.elements.wrapper.style.paddingBottom = "".concat(padding, "%"); // For Vimeo we have an extra <div> to hide the standard controls and UI

  if (this.isVimeo && this.supported.ui) {
    var height = 240;
    var offset = (height - padding) / (height / 50);
    this.media.style.transform = "translateY(-".concat(offset, "%)");
  } else if (this.isHTML5) {
    this.elements.wrapper.classList.toggle(this.config.classNames.videoFixedRatio, ratio !== null);
  }

  return {
    padding: padding,
    ratio: ratio
  };
} // ==========================================================================


var html5 = {
  getSources: function getSources() {
    var _this = this;

    if (!this.isHTML5) {
      return [];
    }

    var sources = Array.from(this.media.querySelectorAll('source')); // Filter out unsupported sources (if type is specified)

    return sources.filter(function (source) {
      var type = source.getAttribute('type');

      if (is$1.empty(type)) {
        return true;
      }

      return support.mime.call(_this, type);
    });
  },
  // Get quality levels
  getQualityOptions: function getQualityOptions() {
    // Get sizes from <source> elements
    return html5.getSources.call(this).map(function (source) {
      return Number(source.getAttribute('size'));
    }).filter(Boolean);
  },
  extend: function extend() {
    if (!this.isHTML5) {
      return;
    }

    var player = this; // Set aspect ratio if fixed

    if (!is$1.empty(this.config.ratio)) {
      setAspectRatio.call(player);
    } // Quality


    Object.defineProperty(player.media, 'quality', {
      get: function get() {
        // Get sources
        var sources = html5.getSources.call(player);
        var source = sources.find(function (s) {
          return s.getAttribute('src') === player.source;
        }); // Return size, if match is found

        return source && Number(source.getAttribute('size'));
      },
      set: function set(input) {
        // Get sources
        var sources = html5.getSources.call(player); // Get first match for requested size

        var source = sources.find(function (s) {
          return Number(s.getAttribute('size')) === input;
        }); // No matching source found

        if (!source) {
          return;
        } // Get current state


        var _player$media = player.media,
            currentTime = _player$media.currentTime,
            paused = _player$media.paused,
            preload = _player$media.preload,
            readyState = _player$media.readyState; // Set new source

        player.media.src = source.getAttribute('src'); // Prevent loading if preload="none" and the current source isn't loaded (#1044)

        if (preload !== 'none' || readyState) {
          // Restore time
          player.once('loadedmetadata', function () {
            player.currentTime = currentTime; // Resume playing

            if (!paused) {
              player.play();
            }
          }); // Load new source

          player.media.load();
        } // Trigger change event


        triggerEvent.call(player, player.media, 'qualitychange', false, {
          quality: input
        });
      }
    });
  },
  // Cancel current network requests
  // See https://github.com/sampotts/plyr/issues/174
  cancelRequests: function cancelRequests() {
    if (!this.isHTML5) {
      return;
    } // Remove child sources


    removeElement(html5.getSources.call(this)); // Set blank video src attribute
    // This is to prevent a MEDIA_ERR_SRC_NOT_SUPPORTED error
    // Info: http://stackoverflow.com/questions/32231579/how-to-properly-dispose-of-an-html5-video-and-close-socket-or-connection

    this.media.setAttribute('src', this.config.blankVideo); // Load the new empty source
    // This will cancel existing requests
    // See https://github.com/sampotts/plyr/issues/174

    this.media.load(); // Debugging

    this.debug.log('Cancelled network requests');
  }
}; // ==========================================================================

function dedupe(array) {
  if (!is$1.array(array)) {
    return array;
  }

  return array.filter(function (item, index) {
    return array.indexOf(item) === index;
  });
} // Get the closest value in an array


function closest(array, value) {
  if (!is$1.array(array) || !array.length) {
    return null;
  }

  return array.reduce(function (prev, curr) {
    return Math.abs(curr - value) < Math.abs(prev - value) ? curr : prev;
  });
} // ==========================================================================


function generateId(prefix) {
  return "".concat(prefix, "-").concat(Math.floor(Math.random() * 10000));
} // Format string


function format(input) {
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }

  if (is$1.empty(input)) {
    return input;
  }

  return input.toString().replace(/{(\d+)}/g, function (match, i) {
    return args[i].toString();
  });
} // Get percentage


function getPercentage(current, max) {
  if (current === 0 || max === 0 || Number.isNaN(current) || Number.isNaN(max)) {
    return 0;
  }

  return (current / max * 100).toFixed(2);
} // Replace all occurances of a string in a string


function replaceAll() {
  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  var find = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  var replace = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';
  return input.replace(new RegExp(find.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g, '\\$1'), 'g'), replace.toString());
} // Convert to title case


function toTitleCase() {
  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  return input.toString().replace(/\w\S*/g, function (text) {
    return text.charAt(0).toUpperCase() + text.substr(1).toLowerCase();
  });
} // Convert string to pascalCase


function toPascalCase() {
  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  var string = input.toString(); // Convert kebab case

  string = replaceAll(string, '-', ' '); // Convert snake case

  string = replaceAll(string, '_', ' '); // Convert to title case

  string = toTitleCase(string); // Convert to pascal case

  return replaceAll(string, ' ', '');
} // Convert string to pascalCase


function toCamelCase() {
  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  var string = input.toString(); // Convert to pascal case

  string = toPascalCase(string); // Convert first character to lowercase

  return string.charAt(0).toLowerCase() + string.slice(1);
} // Remove HTML from a string


function stripHTML(source) {
  var fragment = document.createDocumentFragment();
  var element = document.createElement('div');
  fragment.appendChild(element);
  element.innerHTML = source;
  return fragment.firstChild.innerText;
} // Like outerHTML, but also works for DocumentFragment


function getHTML(element) {
  var wrapper = document.createElement('div');
  wrapper.appendChild(element);
  return wrapper.innerHTML;
}

var resources = {
  pip: 'PIP',
  airplay: 'AirPlay',
  html5: 'HTML5',
  vimeo: 'Vimeo',
  youtube: 'YouTube'
};
var i18n = {
  get: function get() {
    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    if (is$1.empty(key) || is$1.empty(config)) {
      return '';
    }

    var string = getDeep(config.i18n, key);

    if (is$1.empty(string)) {
      if (Object.keys(resources).includes(key)) {
        return resources[key];
      }

      return '';
    }

    var replace = {
      '{seektime}': config.seekTime,
      '{title}': config.title
    };
    Object.entries(replace).forEach(function (_ref) {
      var _ref2 = _slicedToArray(_ref, 2),
          k = _ref2[0],
          v = _ref2[1];

      string = replaceAll(string, k, v);
    });
    return string;
  }
};

var Storage =
/*#__PURE__*/
function () {
  function Storage(player) {
    _classCallCheck(this, Storage);

    this.enabled = player.config.storage.enabled;
    this.key = player.config.storage.key;
  } // Check for actual support (see if we can use it)


  _createClass(Storage, [{
    key: "get",
    value: function get(key) {
      if (!Storage.supported || !this.enabled) {
        return null;
      }

      var store = window.localStorage.getItem(this.key);

      if (is$1.empty(store)) {
        return null;
      }

      var json = JSON.parse(store);
      return is$1.string(key) && key.length ? json[key] : json;
    }
  }, {
    key: "set",
    value: function set(object) {
      // Bail if we don't have localStorage support or it's disabled
      if (!Storage.supported || !this.enabled) {
        return;
      } // Can only store objectst


      if (!is$1.object(object)) {
        return;
      } // Get current storage


      var storage = this.get(); // Default to empty object

      if (is$1.empty(storage)) {
        storage = {};
      } // Update the working copy of the values


      extend(storage, object); // Update storage

      window.localStorage.setItem(this.key, JSON.stringify(storage));
    }
  }], [{
    key: "supported",
    get: function get() {
      try {
        if (!('localStorage' in window)) {
          return false;
        }

        var test = '___test'; // Try to use it (it might be disabled, e.g. user is in private mode)
        // see: https://github.com/sampotts/plyr/issues/131

        window.localStorage.setItem(test, test);
        window.localStorage.removeItem(test);
        return true;
      } catch (e) {
        return false;
      }
    }
  }]);

  return Storage;
}(); // ==========================================================================
// Fetch wrapper
// Using XHR to avoid issues with older browsers
// ==========================================================================


function fetch(url) {
  var responseType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'text';
  return new Promise(function (resolve, reject) {
    try {
      var request = new XMLHttpRequest(); // Check for CORS support

      if (!('withCredentials' in request)) {
        return;
      }

      request.addEventListener('load', function () {
        if (responseType === 'text') {
          try {
            resolve(JSON.parse(request.responseText));
          } catch (e) {
            resolve(request.responseText);
          }
        } else {
          resolve(request.response);
        }
      });
      request.addEventListener('error', function () {
        throw new Error(request.status);
      });
      request.open('GET', url, true); // Set the required response type

      request.responseType = responseType;
      request.send();
    } catch (e) {
      reject(e);
    }
  });
} // ==========================================================================


function loadSprite(url, id) {
  if (!is$1.string(url)) {
    return;
  }

  var prefix = 'cache';
  var hasId = is$1.string(id);
  var isCached = false;

  var exists = function exists() {
    return document.getElementById(id) !== null;
  };

  var update = function update(container, data) {
    // eslint-disable-next-line no-param-reassign
    container.innerHTML = data; // Check again incase of race condition

    if (hasId && exists()) {
      return;
    } // Inject the SVG to the body


    document.body.insertAdjacentElement('afterbegin', container);
  }; // Only load once if ID set


  if (!hasId || !exists()) {
    var useStorage = Storage.supported; // Create container

    var container = document.createElement('div');
    container.setAttribute('hidden', '');

    if (hasId) {
      container.setAttribute('id', id);
    } // Check in cache


    if (useStorage) {
      var cached = window.localStorage.getItem("".concat(prefix, "-").concat(id));
      isCached = cached !== null;

      if (isCached) {
        var data = JSON.parse(cached);
        update(container, data.content);
      }
    } // Get the sprite


    fetch(url).then(function (result) {
      if (is$1.empty(result)) {
        return;
      }

      if (useStorage) {
        window.localStorage.setItem("".concat(prefix, "-").concat(id), JSON.stringify({
          content: result
        }));
      }

      update(container, result);
    })["catch"](function () {});
  }
} // ==========================================================================


var getHours = function getHours(value) {
  return Math.trunc(value / 60 / 60 % 60, 10);
};

var getMinutes = function getMinutes(value) {
  return Math.trunc(value / 60 % 60, 10);
};

var getSeconds = function getSeconds(value) {
  return Math.trunc(value % 60, 10);
}; // Format time to UI friendly string


function formatTime() {
  var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var displayHours = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var inverted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false; // Bail if the value isn't a number

  if (!is$1.number(time)) {
    return formatTime(null, displayHours, inverted);
  } // Format time component to add leading zero


  var format = function format(value) {
    return "0".concat(value).slice(-2);
  }; // Breakdown to hours, mins, secs


  var hours = getHours(time);
  var mins = getMinutes(time);
  var secs = getSeconds(time); // Do we need to display hours?

  if (displayHours || hours > 0) {
    hours = "".concat(hours, ":");
  } else {
    hours = '';
  } // Render


  return "".concat(inverted && time > 0 ? '-' : '').concat(hours).concat(format(mins), ":").concat(format(secs));
}

var controls = {
  // Get icon URL
  getIconUrl: function getIconUrl() {
    var url = new URL(this.config.iconUrl, window.location);
    var cors = url.host !== window.location.host || browser.isIE && !window.svg4everybody;
    return {
      url: this.config.iconUrl,
      cors: cors
    };
  },
  // Find the UI controls
  findElements: function findElements() {
    try {
      this.elements.controls = getElement.call(this, this.config.selectors.controls.wrapper); // Buttons

      this.elements.buttons = {
        play: getElements.call(this, this.config.selectors.buttons.play),
        pause: getElement.call(this, this.config.selectors.buttons.pause),
        restart: getElement.call(this, this.config.selectors.buttons.restart),
        rewind: getElement.call(this, this.config.selectors.buttons.rewind),
        fastForward: getElement.call(this, this.config.selectors.buttons.fastForward),
        mute: getElement.call(this, this.config.selectors.buttons.mute),
        pip: getElement.call(this, this.config.selectors.buttons.pip),
        airplay: getElement.call(this, this.config.selectors.buttons.airplay),
        settings: getElement.call(this, this.config.selectors.buttons.settings),
        captions: getElement.call(this, this.config.selectors.buttons.captions),
        fullscreen: getElement.call(this, this.config.selectors.buttons.fullscreen)
      }; // Progress

      this.elements.progress = getElement.call(this, this.config.selectors.progress); // Inputs

      this.elements.inputs = {
        seek: getElement.call(this, this.config.selectors.inputs.seek),
        volume: getElement.call(this, this.config.selectors.inputs.volume)
      }; // Display

      this.elements.display = {
        buffer: getElement.call(this, this.config.selectors.display.buffer),
        currentTime: getElement.call(this, this.config.selectors.display.currentTime),
        duration: getElement.call(this, this.config.selectors.display.duration)
      }; // Seek tooltip

      if (is$1.element(this.elements.progress)) {
        this.elements.display.seekTooltip = this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip));
      }

      return true;
    } catch (error) {
      // Log it
      this.debug.warn('It looks like there is a problem with your custom controls HTML', error); // Restore native video controls

      this.toggleNativeControls(true);
      return false;
    }
  },
  // Create <svg> icon
  createIcon: function createIcon(type, attributes) {
    var namespace = 'http://www.w3.org/2000/svg';
    var iconUrl = controls.getIconUrl.call(this);
    var iconPath = "".concat(!iconUrl.cors ? iconUrl.url : '', "#").concat(this.config.iconPrefix); // Create <svg>

    var icon = document.createElementNS(namespace, 'svg');
    setAttributes(icon, extend(attributes, {
      role: 'presentation',
      focusable: 'false'
    })); // Create the <use> to reference sprite

    var use = document.createElementNS(namespace, 'use');
    var path = "".concat(iconPath, "-").concat(type); // Set `href` attributes
    // https://github.com/sampotts/plyr/issues/460
    // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/xlink:href

    if ('href' in use) {
      use.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);
    } // Always set the older attribute even though it's "deprecated" (it'll be around for ages)


    use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', path); // Add <use> to <svg>

    icon.appendChild(use);
    return icon;
  },
  // Create hidden text label
  createLabel: function createLabel(key) {
    var attr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var text = i18n.get(key, this.config);
    var attributes = Object.assign({}, attr, {
      "class": [attr["class"], this.config.classNames.hidden].filter(Boolean).join(' ')
    });
    return createElement('span', attributes, text);
  },
  // Create a badge
  createBadge: function createBadge(text) {
    if (is$1.empty(text)) {
      return null;
    }

    var badge = createElement('span', {
      "class": this.config.classNames.menu.value
    });
    badge.appendChild(createElement('span', {
      "class": this.config.classNames.menu.badge
    }, text));
    return badge;
  },
  // Create a <button>
  createButton: function createButton(buttonType, attr) {
    var _this = this;

    var attributes = extend({}, attr);
    var type = toCamelCase(buttonType);
    var props = {
      element: 'button',
      toggle: false,
      label: null,
      icon: null,
      labelPressed: null,
      iconPressed: null
    };
    ['element', 'icon', 'label'].forEach(function (key) {
      if (Object.keys(attributes).includes(key)) {
        props[key] = attributes[key];
        delete attributes[key];
      }
    }); // Default to 'button' type to prevent form submission

    if (props.element === 'button' && !Object.keys(attributes).includes('type')) {
      attributes.type = 'button';
    } // Set class name


    if (Object.keys(attributes).includes('class')) {
      if (!attributes["class"].split(' ').some(function (c) {
        return c === _this.config.classNames.control;
      })) {
        extend(attributes, {
          "class": "".concat(attributes["class"], " ").concat(this.config.classNames.control)
        });
      }
    } else {
      attributes["class"] = this.config.classNames.control;
    } // Large play button


    switch (buttonType) {
      case 'play':
        props.toggle = true;
        props.label = 'play';
        props.labelPressed = 'pause';
        props.icon = 'play';
        props.iconPressed = 'pause';
        break;

      case 'mute':
        props.toggle = true;
        props.label = 'mute';
        props.labelPressed = 'unmute';
        props.icon = 'volume';
        props.iconPressed = 'muted';
        break;

      case 'captions':
        props.toggle = true;
        props.label = 'enableCaptions';
        props.labelPressed = 'disableCaptions';
        props.icon = 'captions-off';
        props.iconPressed = 'captions-on';
        break;

      case 'fullscreen':
        props.toggle = true;
        props.label = 'enterFullscreen';
        props.labelPressed = 'exitFullscreen';
        props.icon = 'enter-fullscreen';
        props.iconPressed = 'exit-fullscreen';
        break;

      case 'play-large':
        attributes["class"] += " ".concat(this.config.classNames.control, "--overlaid");
        type = 'play';
        props.label = 'play';
        props.icon = 'play';
        break;

      default:
        if (is$1.empty(props.label)) {
          props.label = type;
        }

        if (is$1.empty(props.icon)) {
          props.icon = buttonType;
        }

    }

    var button = createElement(props.element); // Setup toggle icon and labels

    if (props.toggle) {
      // Icon
      button.appendChild(controls.createIcon.call(this, props.iconPressed, {
        "class": 'icon--pressed'
      }));
      button.appendChild(controls.createIcon.call(this, props.icon, {
        "class": 'icon--not-pressed'
      })); // Label/Tooltip

      button.appendChild(controls.createLabel.call(this, props.labelPressed, {
        "class": 'label--pressed'
      }));
      button.appendChild(controls.createLabel.call(this, props.label, {
        "class": 'label--not-pressed'
      }));
    } else {
      button.appendChild(controls.createIcon.call(this, props.icon));
      button.appendChild(controls.createLabel.call(this, props.label));
    } // Merge and set attributes


    extend(attributes, getAttributesFromSelector(this.config.selectors.buttons[type], attributes));
    setAttributes(button, attributes); // We have multiple play buttons

    if (type === 'play') {
      if (!is$1.array(this.elements.buttons[type])) {
        this.elements.buttons[type] = [];
      }

      this.elements.buttons[type].push(button);
    } else {
      this.elements.buttons[type] = button;
    }

    return button;
  },
  // Create an <input type='range'>
  createRange: function createRange(type, attributes) {
    // Seek input
    var input = createElement('input', extend(getAttributesFromSelector(this.config.selectors.inputs[type]), {
      type: 'range',
      min: 0,
      max: 100,
      step: 0.01,
      value: 0,
      autocomplete: 'off',
      // A11y fixes for https://github.com/sampotts/plyr/issues/905
      role: 'slider',
      'aria-label': i18n.get(type, this.config),
      'aria-valuemin': 0,
      'aria-valuemax': 100,
      'aria-valuenow': 0
    }, attributes));
    this.elements.inputs[type] = input; // Set the fill for webkit now

    controls.updateRangeFill.call(this, input); // Improve support on touch devices

    RangeTouch.setup(input);
    return input;
  },
  // Create a <progress>
  createProgress: function createProgress(type, attributes) {
    var progress = createElement('progress', extend(getAttributesFromSelector(this.config.selectors.display[type]), {
      min: 0,
      max: 100,
      value: 0,
      role: 'progressbar',
      'aria-hidden': true
    }, attributes)); // Create the label inside

    if (type !== 'volume') {
      progress.appendChild(createElement('span', null, '0'));
      var suffixKey = {
        played: 'played',
        buffer: 'buffered'
      }[type];
      var suffix = suffixKey ? i18n.get(suffixKey, this.config) : '';
      progress.innerText = "% ".concat(suffix.toLowerCase());
    }

    this.elements.display[type] = progress;
    return progress;
  },
  // Create time display
  createTime: function createTime(type, attrs) {
    var attributes = getAttributesFromSelector(this.config.selectors.display[type], attrs);
    var container = createElement('div', extend(attributes, {
      "class": "".concat(attributes["class"] ? attributes["class"] : '', " ").concat(this.config.classNames.display.time, " ").trim(),
      'aria-label': i18n.get(type, this.config)
    }), '00:00'); // Reference for updates

    this.elements.display[type] = container;
    return container;
  },
  // Bind keyboard shortcuts for a menu item
  // We have to bind to keyup otherwise Firefox triggers a click when a keydown event handler shifts focus
  // https://bugzilla.mozilla.org/show_bug.cgi?id=1220143
  bindMenuItemShortcuts: function bindMenuItemShortcuts(menuItem, type) {
    var _this2 = this; // Navigate through menus via arrow keys and space


    on(menuItem, 'keydown keyup', function (event) {
      // We only care about space and ⬆️ ⬇️️ ➡️
      if (![32, 38, 39, 40].includes(event.which)) {
        return;
      } // Prevent play / seek


      event.preventDefault();
      event.stopPropagation(); // We're just here to prevent the keydown bubbling

      if (event.type === 'keydown') {
        return;
      }

      var isRadioButton = matches$1(menuItem, '[role="menuitemradio"]'); // Show the respective menu

      if (!isRadioButton && [32, 39].includes(event.which)) {
        controls.showMenuPanel.call(_this2, type, true);
      } else {
        var target;

        if (event.which !== 32) {
          if (event.which === 40 || isRadioButton && event.which === 39) {
            target = menuItem.nextElementSibling;

            if (!is$1.element(target)) {
              target = menuItem.parentNode.firstElementChild;
            }
          } else {
            target = menuItem.previousElementSibling;

            if (!is$1.element(target)) {
              target = menuItem.parentNode.lastElementChild;
            }
          }

          setFocus.call(_this2, target, true);
        }
      }
    }, false); // Enter will fire a `click` event but we still need to manage focus
    // So we bind to keyup which fires after and set focus here

    on(menuItem, 'keyup', function (event) {
      if (event.which !== 13) {
        return;
      }

      controls.focusFirstMenuItem.call(_this2, null, true);
    });
  },
  // Create a settings menu item
  createMenuItem: function createMenuItem(_ref) {
    var _this3 = this;

    var value = _ref.value,
        list = _ref.list,
        type = _ref.type,
        title = _ref.title,
        _ref$badge = _ref.badge,
        badge = _ref$badge === void 0 ? null : _ref$badge,
        _ref$checked = _ref.checked,
        checked = _ref$checked === void 0 ? false : _ref$checked;
    var attributes = getAttributesFromSelector(this.config.selectors.inputs[type]);
    var menuItem = createElement('button', extend(attributes, {
      type: 'button',
      role: 'menuitemradio',
      "class": "".concat(this.config.classNames.control, " ").concat(attributes["class"] ? attributes["class"] : '').trim(),
      'aria-checked': checked,
      value: value
    }));
    var flex = createElement('span'); // We have to set as HTML incase of special characters

    flex.innerHTML = title;

    if (is$1.element(badge)) {
      flex.appendChild(badge);
    }

    menuItem.appendChild(flex); // Replicate radio button behaviour

    Object.defineProperty(menuItem, 'checked', {
      enumerable: true,
      get: function get() {
        return menuItem.getAttribute('aria-checked') === 'true';
      },
      set: function set(check) {
        // Ensure exclusivity
        if (check) {
          Array.from(menuItem.parentNode.children).filter(function (node) {
            return matches$1(node, '[role="menuitemradio"]');
          }).forEach(function (node) {
            return node.setAttribute('aria-checked', 'false');
          });
        }

        menuItem.setAttribute('aria-checked', check ? 'true' : 'false');
      }
    });
    this.listeners.bind(menuItem, 'click keyup', function (event) {
      if (is$1.keyboardEvent(event) && event.which !== 32) {
        return;
      }

      event.preventDefault();
      event.stopPropagation();
      menuItem.checked = true;

      switch (type) {
        case 'language':
          _this3.currentTrack = Number(value);
          break;

        case 'quality':
          _this3.quality = value;
          break;

        case 'speed':
          _this3.speed = parseFloat(value);
          break;

        default:
          break;
      }

      controls.showMenuPanel.call(_this3, 'home', is$1.keyboardEvent(event));
    }, type, false);
    controls.bindMenuItemShortcuts.call(this, menuItem, type);
    list.appendChild(menuItem);
  },
  // Format a time for display
  formatTime: function formatTime$1() {
    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
    var inverted = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false; // Bail if the value isn't a number

    if (!is$1.number(time)) {
      return time;
    } // Always display hours if duration is over an hour


    var forceHours = getHours(this.duration) > 0;
    return formatTime(time, forceHours, inverted);
  },
  // Update the displayed time
  updateTimeDisplay: function updateTimeDisplay() {
    var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    var inverted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false; // Bail if there's no element to display or the value isn't a number

    if (!is$1.element(target) || !is$1.number(time)) {
      return;
    } // eslint-disable-next-line no-param-reassign


    target.innerText = controls.formatTime(time, inverted);
  },
  // Update volume UI and storage
  updateVolume: function updateVolume() {
    if (!this.supported.ui) {
      return;
    } // Update range


    if (is$1.element(this.elements.inputs.volume)) {
      controls.setRange.call(this, this.elements.inputs.volume, this.muted ? 0 : this.volume);
    } // Update mute state


    if (is$1.element(this.elements.buttons.mute)) {
      this.elements.buttons.mute.pressed = this.muted || this.volume === 0;
    }
  },
  // Update seek value and lower fill
  setRange: function setRange(target) {
    var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

    if (!is$1.element(target)) {
      return;
    } // eslint-disable-next-line


    target.value = value; // Webkit range fill

    controls.updateRangeFill.call(this, target);
  },
  // Update <progress> elements
  updateProgress: function updateProgress(event) {
    var _this4 = this;

    if (!this.supported.ui || !is$1.event(event)) {
      return;
    }

    var value = 0;

    var setProgress = function setProgress(target, input) {
      var val = is$1.number(input) ? input : 0;
      var progress = is$1.element(target) ? target : _this4.elements.display.buffer; // Update value and label

      if (is$1.element(progress)) {
        progress.value = val; // Update text label inside

        var label = progress.getElementsByTagName('span')[0];

        if (is$1.element(label)) {
          label.childNodes[0].nodeValue = val;
        }
      }
    };

    if (event) {
      switch (event.type) {
        // Video playing
        case 'timeupdate':
        case 'seeking':
        case 'seeked':
          value = getPercentage(this.currentTime, this.duration); // Set seek range value only if it's a 'natural' time event

          if (event.type === 'timeupdate') {
            controls.setRange.call(this, this.elements.inputs.seek, value);
          }

          break;
        // Check buffer status

        case 'playing':
        case 'progress':
          setProgress(this.elements.display.buffer, this.buffered * 100);
          break;

        default:
          break;
      }
    }
  },
  // Webkit polyfill for lower fill range
  updateRangeFill: function updateRangeFill(target) {
    // Get range from event if event passed
    var range = is$1.event(target) ? target.target : target; // Needs to be a valid <input type='range'>

    if (!is$1.element(range) || range.getAttribute('type') !== 'range') {
      return;
    } // Set aria values for https://github.com/sampotts/plyr/issues/905


    if (matches$1(range, this.config.selectors.inputs.seek)) {
      range.setAttribute('aria-valuenow', this.currentTime);
      var currentTime = controls.formatTime(this.currentTime);
      var duration = controls.formatTime(this.duration);
      var format = i18n.get('seekLabel', this.config);
      range.setAttribute('aria-valuetext', format.replace('{currentTime}', currentTime).replace('{duration}', duration));
    } else if (matches$1(range, this.config.selectors.inputs.volume)) {
      var percent = range.value * 100;
      range.setAttribute('aria-valuenow', percent);
      range.setAttribute('aria-valuetext', "".concat(percent.toFixed(1), "%"));
    } else {
      range.setAttribute('aria-valuenow', range.value);
    } // WebKit only


    if (!browser.isWebkit) {
      return;
    } // Set CSS custom property


    range.style.setProperty('--value', "".concat(range.value / range.max * 100, "%"));
  },
  // Update hover tooltip for seeking
  updateSeekTooltip: function updateSeekTooltip(event) {
    var _this5 = this; // Bail if setting not true


    if (!this.config.tooltips.seek || !is$1.element(this.elements.inputs.seek) || !is$1.element(this.elements.display.seekTooltip) || this.duration === 0) {
      return;
    }

    var visible = "".concat(this.config.classNames.tooltip, "--visible");

    var toggle = function toggle(show) {
      return toggleClass(_this5.elements.display.seekTooltip, visible, show);
    }; // Hide on touch


    if (this.touch) {
      toggle(false);
      return;
    } // Determine percentage, if already visible


    var percent = 0;
    var clientRect = this.elements.progress.getBoundingClientRect();

    if (is$1.event(event)) {
      percent = 100 / clientRect.width * (event.pageX - clientRect.left);
    } else if (hasClass(this.elements.display.seekTooltip, visible)) {
      percent = parseFloat(this.elements.display.seekTooltip.style.left, 10);
    } else {
      return;
    } // Set bounds


    if (percent < 0) {
      percent = 0;
    } else if (percent > 100) {
      percent = 100;
    } // Display the time a click would seek to


    controls.updateTimeDisplay.call(this, this.elements.display.seekTooltip, this.duration / 100 * percent); // Set position

    this.elements.display.seekTooltip.style.left = "".concat(percent, "%"); // Show/hide the tooltip
    // If the event is a moues in/out and percentage is inside bounds

    if (is$1.event(event) && ['mouseenter', 'mouseleave'].includes(event.type)) {
      toggle(event.type === 'mouseenter');
    }
  },
  // Handle time change event
  timeUpdate: function timeUpdate(event) {
    // Only invert if only one time element is displayed and used for both duration and currentTime
    var invert = !is$1.element(this.elements.display.duration) && this.config.invertTime; // Duration

    controls.updateTimeDisplay.call(this, this.elements.display.currentTime, invert ? this.duration - this.currentTime : this.currentTime, invert); // Ignore updates while seeking

    if (event && event.type === 'timeupdate' && this.media.seeking) {
      return;
    } // Playing progress


    controls.updateProgress.call(this, event);
  },
  // Show the duration on metadataloaded or durationchange events
  durationUpdate: function durationUpdate() {
    // Bail if no UI or durationchange event triggered after playing/seek when invertTime is false
    if (!this.supported.ui || !this.config.invertTime && this.currentTime) {
      return;
    } // If duration is the 2**32 (shaka), Infinity (HLS), DASH-IF (Number.MAX_SAFE_INTEGER || Number.MAX_VALUE) indicating live we hide the currentTime and progressbar.
    // https://github.com/video-dev/hls.js/blob/5820d29d3c4c8a46e8b75f1e3afa3e68c1a9a2db/src/controller/buffer-controller.js#L415
    // https://github.com/google/shaka-player/blob/4d889054631f4e1cf0fbd80ddd2b71887c02e232/lib/media/streaming_engine.js#L1062
    // https://github.com/Dash-Industry-Forum/dash.js/blob/69859f51b969645b234666800d4cb596d89c602d/src/dash/models/DashManifestModel.js#L338


    if (this.duration >= Math.pow(2, 32)) {
      toggleHidden(this.elements.display.currentTime, true);
      toggleHidden(this.elements.progress, true);
      return;
    } // Update ARIA values


    if (is$1.element(this.elements.inputs.seek)) {
      this.elements.inputs.seek.setAttribute('aria-valuemax', this.duration);
    } // If there's a spot to display duration


    var hasDuration = is$1.element(this.elements.display.duration); // If there's only one time display, display duration there

    if (!hasDuration && this.config.displayDuration && this.paused) {
      controls.updateTimeDisplay.call(this, this.elements.display.currentTime, this.duration);
    } // If there's a duration element, update content


    if (hasDuration) {
      controls.updateTimeDisplay.call(this, this.elements.display.duration, this.duration);
    } // Update the tooltip (if visible)


    controls.updateSeekTooltip.call(this);
  },
  // Hide/show a tab
  toggleMenuButton: function toggleMenuButton(setting, toggle) {
    toggleHidden(this.elements.settings.buttons[setting], !toggle);
  },
  // Update the selected setting
  updateSetting: function updateSetting(setting, container, input) {
    var pane = this.elements.settings.panels[setting];
    var value = null;
    var list = container;

    if (setting === 'captions') {
      value = this.currentTrack;
    } else {
      value = !is$1.empty(input) ? input : this[setting]; // Get default

      if (is$1.empty(value)) {
        value = this.config[setting]["default"];
      } // Unsupported value


      if (!is$1.empty(this.options[setting]) && !this.options[setting].includes(value)) {
        this.debug.warn("Unsupported value of '".concat(value, "' for ").concat(setting));
        return;
      } // Disabled value


      if (!this.config[setting].options.includes(value)) {
        this.debug.warn("Disabled value of '".concat(value, "' for ").concat(setting));
        return;
      }
    } // Get the list if we need to


    if (!is$1.element(list)) {
      list = pane && pane.querySelector('[role="menu"]');
    } // If there's no list it means it's not been rendered...


    if (!is$1.element(list)) {
      return;
    } // Update the label


    var label = this.elements.settings.buttons[setting].querySelector(".".concat(this.config.classNames.menu.value));
    label.innerHTML = controls.getLabel.call(this, setting, value); // Find the radio option and check it

    var target = list && list.querySelector("[value=\"".concat(value, "\"]"));

    if (is$1.element(target)) {
      target.checked = true;
    }
  },
  // Translate a value into a nice label
  getLabel: function getLabel(setting, value) {
    switch (setting) {
      case 'speed':
        return value === 1 ? i18n.get('normal', this.config) : "".concat(value, "&times;");

      case 'quality':
        if (is$1.number(value)) {
          var label = i18n.get("qualityLabel.".concat(value), this.config);

          if (!label.length) {
            return "".concat(value, "p");
          }

          return label;
        }

        return toTitleCase(value);

      case 'captions':
        return captions.getLabel.call(this);

      default:
        return null;
    }
  },
  // Set the quality menu
  setQualityMenu: function setQualityMenu(options) {
    var _this6 = this; // Menu required


    if (!is$1.element(this.elements.settings.panels.quality)) {
      return;
    }

    var type = 'quality';
    var list = this.elements.settings.panels.quality.querySelector('[role="menu"]'); // Set options if passed and filter based on uniqueness and config

    if (is$1.array(options)) {
      this.options.quality = dedupe(options).filter(function (quality) {
        return _this6.config.quality.options.includes(quality);
      });
    } // Toggle the pane and tab


    var toggle = !is$1.empty(this.options.quality) && this.options.quality.length > 1;
    controls.toggleMenuButton.call(this, type, toggle); // Empty the menu

    emptyElement(list); // Check if we need to toggle the parent

    controls.checkMenu.call(this); // If we're hiding, nothing more to do

    if (!toggle) {
      return;
    } // Get the badge HTML for HD, 4K etc


    var getBadge = function getBadge(quality) {
      var label = i18n.get("qualityBadge.".concat(quality), _this6.config);

      if (!label.length) {
        return null;
      }

      return controls.createBadge.call(_this6, label);
    }; // Sort options by the config and then render options


    this.options.quality.sort(function (a, b) {
      var sorting = _this6.config.quality.options;
      return sorting.indexOf(a) > sorting.indexOf(b) ? 1 : -1;
    }).forEach(function (quality) {
      controls.createMenuItem.call(_this6, {
        value: quality,
        list: list,
        type: type,
        title: controls.getLabel.call(_this6, 'quality', quality),
        badge: getBadge(quality)
      });
    });
    controls.updateSetting.call(this, type, list);
  },
  // Set the looping options

  /* setLoopMenu() {
      // Menu required
      if (!is.element(this.elements.settings.panels.loop)) {
          return;
      }
       const options = ['start', 'end', 'all', 'reset'];
      const list = this.elements.settings.panels.loop.querySelector('[role="menu"]');
       // Show the pane and tab
      toggleHidden(this.elements.settings.buttons.loop, false);
      toggleHidden(this.elements.settings.panels.loop, false);
       // Toggle the pane and tab
      const toggle = !is.empty(this.loop.options);
      controls.toggleMenuButton.call(this, 'loop', toggle);
       // Empty the menu
      emptyElement(list);
       options.forEach(option => {
          const item = createElement('li');
           const button = createElement(
              'button',
              extend(getAttributesFromSelector(this.config.selectors.buttons.loop), {
                  type: 'button',
                  class: this.config.classNames.control,
                  'data-plyr-loop-action': option,
              }),
              i18n.get(option, this.config)
          );
           if (['start', 'end'].includes(option)) {
              const badge = controls.createBadge.call(this, '00:00');
              button.appendChild(badge);
          }
           item.appendChild(button);
          list.appendChild(item);
      });
  }, */
  // Get current selected caption language
  // TODO: rework this to user the getter in the API?
  // Set a list of available captions languages
  setCaptionsMenu: function setCaptionsMenu() {
    var _this7 = this; // Menu required


    if (!is$1.element(this.elements.settings.panels.captions)) {
      return;
    } // TODO: Captions or language? Currently it's mixed


    var type = 'captions';
    var list = this.elements.settings.panels.captions.querySelector('[role="menu"]');
    var tracks = captions.getTracks.call(this);
    var toggle = Boolean(tracks.length); // Toggle the pane and tab

    controls.toggleMenuButton.call(this, type, toggle); // Empty the menu

    emptyElement(list); // Check if we need to toggle the parent

    controls.checkMenu.call(this); // If there's no captions, bail

    if (!toggle) {
      return;
    } // Generate options data


    var options = tracks.map(function (track, value) {
      return {
        value: value,
        checked: _this7.captions.toggled && _this7.currentTrack === value,
        title: captions.getLabel.call(_this7, track),
        badge: track.language && controls.createBadge.call(_this7, track.language.toUpperCase()),
        list: list,
        type: 'language'
      };
    }); // Add the "Disabled" option to turn off captions

    options.unshift({
      value: -1,
      checked: !this.captions.toggled,
      title: i18n.get('disabled', this.config),
      list: list,
      type: 'language'
    }); // Generate options

    options.forEach(controls.createMenuItem.bind(this));
    controls.updateSetting.call(this, type, list);
  },
  // Set a list of available captions languages
  setSpeedMenu: function setSpeedMenu(options) {
    var _this8 = this; // Menu required


    if (!is$1.element(this.elements.settings.panels.speed)) {
      return;
    }

    var type = 'speed';
    var list = this.elements.settings.panels.speed.querySelector('[role="menu"]'); // Set the speed options

    if (is$1.array(options)) {
      this.options.speed = options;
    } else if (this.isHTML5 || this.isVimeo) {
      this.options.speed = [0.5, 0.75, 1, 1.25, 1.5, 1.75, 2];
    } // Set options if passed and filter based on config


    this.options.speed = this.options.speed.filter(function (speed) {
      return _this8.config.speed.options.includes(speed);
    }); // Toggle the pane and tab

    var toggle = !is$1.empty(this.options.speed) && this.options.speed.length > 1;
    controls.toggleMenuButton.call(this, type, toggle); // Empty the menu

    emptyElement(list); // Check if we need to toggle the parent

    controls.checkMenu.call(this); // If we're hiding, nothing more to do

    if (!toggle) {
      return;
    } // Create items


    this.options.speed.forEach(function (speed) {
      controls.createMenuItem.call(_this8, {
        value: speed,
        list: list,
        type: type,
        title: controls.getLabel.call(_this8, 'speed', speed)
      });
    });
    controls.updateSetting.call(this, type, list);
  },
  // Check if we need to hide/show the settings menu
  checkMenu: function checkMenu() {
    var buttons = this.elements.settings.buttons;
    var visible = !is$1.empty(buttons) && Object.values(buttons).some(function (button) {
      return !button.hidden;
    });
    toggleHidden(this.elements.settings.menu, !visible);
  },
  // Focus the first menu item in a given (or visible) menu
  focusFirstMenuItem: function focusFirstMenuItem(pane) {
    var tabFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

    if (this.elements.settings.popup.hidden) {
      return;
    }

    var target = pane;

    if (!is$1.element(target)) {
      target = Object.values(this.elements.settings.panels).find(function (p) {
        return !p.hidden;
      });
    }

    var firstItem = target.querySelector('[role^="menuitem"]');
    setFocus.call(this, firstItem, tabFocus);
  },
  // Show/hide menu
  toggleMenu: function toggleMenu(input) {
    var popup = this.elements.settings.popup;
    var button = this.elements.buttons.settings; // Menu and button are required

    if (!is$1.element(popup) || !is$1.element(button)) {
      return;
    } // True toggle by default


    var hidden = popup.hidden;
    var show = hidden;

    if (is$1["boolean"](input)) {
      show = input;
    } else if (is$1.keyboardEvent(input) && input.which === 27) {
      show = false;
    } else if (is$1.event(input)) {
      // If Plyr is in a shadowDOM, the event target is set to the component, instead of the
      // Element in the shadowDOM. The path, if available, is complete.
      var target = is$1["function"](input.composedPath) ? input.composedPath()[0] : input.target;
      var isMenuItem = popup.contains(target); // If the click was inside the menu or if the click
      // wasn't the button or menu item and we're trying to
      // show the menu (a doc click shouldn't show the menu)

      if (isMenuItem || !isMenuItem && input.target !== button && show) {
        return;
      }
    } // Set button attributes


    button.setAttribute('aria-expanded', show); // Show the actual popup

    toggleHidden(popup, !show); // Add class hook

    toggleClass(this.elements.container, this.config.classNames.menu.open, show); // Focus the first item if key interaction

    if (show && is$1.keyboardEvent(input)) {
      controls.focusFirstMenuItem.call(this, null, true);
    } else if (!show && !hidden) {
      // If closing, re-focus the button
      setFocus.call(this, button, is$1.keyboardEvent(input));
    }
  },
  // Get the natural size of a menu panel
  getMenuSize: function getMenuSize(tab) {
    var clone = tab.cloneNode(true);
    clone.style.position = 'absolute';
    clone.style.opacity = 0;
    clone.removeAttribute('hidden'); // Append to parent so we get the "real" size

    tab.parentNode.appendChild(clone); // Get the sizes before we remove

    var width = clone.scrollWidth;
    var height = clone.scrollHeight; // Remove from the DOM

    removeElement(clone);
    return {
      width: width,
      height: height
    };
  },
  // Show a panel in the menu
  showMenuPanel: function showMenuPanel() {
    var _this9 = this;

    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
    var tabFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    var target = this.elements.container.querySelector("#plyr-settings-".concat(this.id, "-").concat(type)); // Nothing to show, bail

    if (!is$1.element(target)) {
      return;
    } // Hide all other panels


    var container = target.parentNode;
    var current = Array.from(container.children).find(function (node) {
      return !node.hidden;
    }); // If we can do fancy animations, we'll animate the height/width

    if (support.transitions && !support.reducedMotion) {
      // Set the current width as a base
      container.style.width = "".concat(current.scrollWidth, "px");
      container.style.height = "".concat(current.scrollHeight, "px"); // Get potential sizes

      var size = controls.getMenuSize.call(this, target); // Restore auto height/width

      var restore = function restore(event) {
        // We're only bothered about height and width on the container
        if (event.target !== container || !['width', 'height'].includes(event.propertyName)) {
          return;
        } // Revert back to auto


        container.style.width = '';
        container.style.height = ''; // Only listen once

        off.call(_this9, container, transitionEndEvent, restore);
      }; // Listen for the transition finishing and restore auto height/width


      on.call(this, container, transitionEndEvent, restore); // Set dimensions to target

      container.style.width = "".concat(size.width, "px");
      container.style.height = "".concat(size.height, "px");
    } // Set attributes on current tab


    toggleHidden(current, true); // Set attributes on target

    toggleHidden(target, false); // Focus the first item

    controls.focusFirstMenuItem.call(this, target, tabFocus);
  },
  // Set the download URL
  setDownloadUrl: function setDownloadUrl() {
    var button = this.elements.buttons.download; // Bail if no button

    if (!is$1.element(button)) {
      return;
    } // Set attribute


    button.setAttribute('href', this.download);
  },
  // Build the default HTML
  create: function create(data) {
    var _this10 = this;

    var bindMenuItemShortcuts = controls.bindMenuItemShortcuts,
        createButton = controls.createButton,
        createProgress = controls.createProgress,
        createRange = controls.createRange,
        createTime = controls.createTime,
        setQualityMenu = controls.setQualityMenu,
        setSpeedMenu = controls.setSpeedMenu,
        showMenuPanel = controls.showMenuPanel;
    this.elements.controls = null; // Larger overlaid play button

    if (this.config.controls.includes('play-large')) {
      this.elements.container.appendChild(createButton.call(this, 'play-large'));
    } // Create the container


    var container = createElement('div', getAttributesFromSelector(this.config.selectors.controls.wrapper));
    this.elements.controls = container; // Default item attributes

    var defaultAttributes = {
      "class": 'plyr__controls__item'
    }; // Loop through controls in order

    dedupe(this.config.controls).forEach(function (control) {
      // Restart button
      if (control === 'restart') {
        container.appendChild(createButton.call(_this10, 'restart', defaultAttributes));
      } // Rewind button


      if (control === 'rewind') {
        container.appendChild(createButton.call(_this10, 'rewind', defaultAttributes));
      } // Play/Pause button


      if (control === 'play') {
        container.appendChild(createButton.call(_this10, 'play', defaultAttributes));
      } // Fast forward button


      if (control === 'fast-forward') {
        container.appendChild(createButton.call(_this10, 'fast-forward', defaultAttributes));
      } // Progress


      if (control === 'progress') {
        var progressContainer = createElement('div', {
          "class": "".concat(defaultAttributes["class"], " plyr__progress__container")
        });
        var progress = createElement('div', getAttributesFromSelector(_this10.config.selectors.progress)); // Seek range slider

        progress.appendChild(createRange.call(_this10, 'seek', {
          id: "plyr-seek-".concat(data.id)
        })); // Buffer progress

        progress.appendChild(createProgress.call(_this10, 'buffer')); // TODO: Add loop display indicator
        // Seek tooltip

        if (_this10.config.tooltips.seek) {
          var tooltip = createElement('span', {
            "class": _this10.config.classNames.tooltip
          }, '00:00');
          progress.appendChild(tooltip);
          _this10.elements.display.seekTooltip = tooltip;
        }

        _this10.elements.progress = progress;
        progressContainer.appendChild(_this10.elements.progress);
        container.appendChild(progressContainer);
      } // Media current time display


      if (control === 'current-time') {
        container.appendChild(createTime.call(_this10, 'currentTime', defaultAttributes));
      } // Media duration display


      if (control === 'duration') {
        container.appendChild(createTime.call(_this10, 'duration', defaultAttributes));
      } // Volume controls


      if (control === 'mute' || control === 'volume') {
        var volume = _this10.elements.volume; // Create the volume container if needed

        if (!is$1.element(volume) || !container.contains(volume)) {
          volume = createElement('div', extend({}, defaultAttributes, {
            "class": "".concat(defaultAttributes["class"], " plyr__volume").trim()
          }));
          _this10.elements.volume = volume;
          container.appendChild(volume);
        } // Toggle mute button


        if (control === 'mute') {
          volume.appendChild(createButton.call(_this10, 'mute'));
        } // Volume range control


        if (control === 'volume') {
          // Set the attributes
          var attributes = {
            max: 1,
            step: 0.05,
            value: _this10.config.volume
          }; // Create the volume range slider

          volume.appendChild(createRange.call(_this10, 'volume', extend(attributes, {
            id: "plyr-volume-".concat(data.id)
          })));
        }
      } // Toggle captions button


      if (control === 'captions') {
        container.appendChild(createButton.call(_this10, 'captions', defaultAttributes));
      } // Settings button / menu


      if (control === 'settings' && !is$1.empty(_this10.config.settings)) {
        var wrapper = createElement('div', extend({}, defaultAttributes, {
          "class": "".concat(defaultAttributes["class"], " plyr__menu").trim(),
          hidden: ''
        }));
        wrapper.appendChild(createButton.call(_this10, 'settings', {
          'aria-haspopup': true,
          'aria-controls': "plyr-settings-".concat(data.id),
          'aria-expanded': false
        }));
        var popup = createElement('div', {
          "class": 'plyr__menu__container',
          id: "plyr-settings-".concat(data.id),
          hidden: ''
        });
        var inner = createElement('div');
        var home = createElement('div', {
          id: "plyr-settings-".concat(data.id, "-home")
        }); // Create the menu

        var menu = createElement('div', {
          role: 'menu'
        });
        home.appendChild(menu);
        inner.appendChild(home);
        _this10.elements.settings.panels.home = home; // Build the menu items

        _this10.config.settings.forEach(function (type) {
          // TODO: bundle this with the createMenuItem helper and bindings
          var menuItem = createElement('button', extend(getAttributesFromSelector(_this10.config.selectors.buttons.settings), {
            type: 'button',
            "class": "".concat(_this10.config.classNames.control, " ").concat(_this10.config.classNames.control, "--forward"),
            role: 'menuitem',
            'aria-haspopup': true,
            hidden: ''
          })); // Bind menu shortcuts for keyboard users

          bindMenuItemShortcuts.call(_this10, menuItem, type); // Show menu on click

          on(menuItem, 'click', function () {
            showMenuPanel.call(_this10, type, false);
          });
          var flex = createElement('span', null, i18n.get(type, _this10.config));
          var value = createElement('span', {
            "class": _this10.config.classNames.menu.value
          }); // Speed contains HTML entities

          value.innerHTML = data[type];
          flex.appendChild(value);
          menuItem.appendChild(flex);
          menu.appendChild(menuItem); // Build the panes

          var pane = createElement('div', {
            id: "plyr-settings-".concat(data.id, "-").concat(type),
            hidden: ''
          }); // Back button

          var backButton = createElement('button', {
            type: 'button',
            "class": "".concat(_this10.config.classNames.control, " ").concat(_this10.config.classNames.control, "--back")
          }); // Visible label

          backButton.appendChild(createElement('span', {
            'aria-hidden': true
          }, i18n.get(type, _this10.config))); // Screen reader label

          backButton.appendChild(createElement('span', {
            "class": _this10.config.classNames.hidden
          }, i18n.get('menuBack', _this10.config))); // Go back via keyboard

          on(pane, 'keydown', function (event) {
            // We only care about <-
            if (event.which !== 37) {
              return;
            } // Prevent seek


            event.preventDefault();
            event.stopPropagation(); // Show the respective menu

            showMenuPanel.call(_this10, 'home', true);
          }, false); // Go back via button click

          on(backButton, 'click', function () {
            showMenuPanel.call(_this10, 'home', false);
          }); // Add to pane

          pane.appendChild(backButton); // Menu

          pane.appendChild(createElement('div', {
            role: 'menu'
          }));
          inner.appendChild(pane);
          _this10.elements.settings.buttons[type] = menuItem;
          _this10.elements.settings.panels[type] = pane;
        });

        popup.appendChild(inner);
        wrapper.appendChild(popup);
        container.appendChild(wrapper);
        _this10.elements.settings.popup = popup;
        _this10.elements.settings.menu = wrapper;
      } // Picture in picture button


      if (control === 'pip' && support.pip) {
        container.appendChild(createButton.call(_this10, 'pip', defaultAttributes));
      } // Airplay button


      if (control === 'airplay' && support.airplay) {
        container.appendChild(createButton.call(_this10, 'airplay', defaultAttributes));
      } // Download button


      if (control === 'download') {
        var _attributes = extend({}, defaultAttributes, {
          element: 'a',
          href: _this10.download,
          target: '_blank'
        });

        var download = _this10.config.urls.download;

        if (!is$1.url(download) && _this10.isEmbed) {
          extend(_attributes, {
            icon: "logo-".concat(_this10.provider),
            label: _this10.provider
          });
        }

        container.appendChild(createButton.call(_this10, 'download', _attributes));
      } // Toggle fullscreen button


      if (control === 'fullscreen') {
        container.appendChild(createButton.call(_this10, 'fullscreen', defaultAttributes));
      }
    }); // Set available quality levels

    if (this.isHTML5) {
      setQualityMenu.call(this, html5.getQualityOptions.call(this));
    }

    setSpeedMenu.call(this);
    return container;
  },
  // Insert controls
  inject: function inject() {
    var _this11 = this; // Sprite


    if (this.config.loadSprite) {
      var icon = controls.getIconUrl.call(this); // Only load external sprite using AJAX

      if (icon.cors) {
        loadSprite(icon.url, 'sprite-plyr');
      }
    } // Create a unique ID


    this.id = Math.floor(Math.random() * 10000); // Null by default

    var container = null;
    this.elements.controls = null; // Set template properties

    var props = {
      id: this.id,
      seektime: this.config.seekTime,
      title: this.config.title
    };
    var update = true; // If function, run it and use output

    if (is$1["function"](this.config.controls)) {
      this.config.controls = this.config.controls.call(this, props);
    } // Convert falsy controls to empty array (primarily for empty strings)


    if (!this.config.controls) {
      this.config.controls = [];
    }

    if (is$1.element(this.config.controls) || is$1.string(this.config.controls)) {
      // HTMLElement or Non-empty string passed as the option
      container = this.config.controls;
    } else {
      // Create controls
      container = controls.create.call(this, {
        id: this.id,
        seektime: this.config.seekTime,
        speed: this.speed,
        quality: this.quality,
        captions: captions.getLabel.call(this) // TODO: Looping
        // loop: 'None',

      });
      update = false;
    } // Replace props with their value


    var replace = function replace(input) {
      var result = input;
      Object.entries(props).forEach(function (_ref2) {
        var _ref3 = _slicedToArray(_ref2, 2),
            key = _ref3[0],
            value = _ref3[1];

        result = replaceAll(result, "{".concat(key, "}"), value);
      });
      return result;
    }; // Update markup


    if (update) {
      if (is$1.string(this.config.controls)) {
        container = replace(container);
      } else if (is$1.element(container)) {
        container.innerHTML = replace(container.innerHTML);
      }
    } // Controls container


    var target; // Inject to custom location

    if (is$1.string(this.config.selectors.controls.container)) {
      target = document.querySelector(this.config.selectors.controls.container);
    } // Inject into the container by default


    if (!is$1.element(target)) {
      target = this.elements.container;
    } // Inject controls HTML (needs to be before captions, hence "afterbegin")


    var insertMethod = is$1.element(container) ? 'insertAdjacentElement' : 'insertAdjacentHTML';
    target[insertMethod]('afterbegin', container); // Find the elements if need be

    if (!is$1.element(this.elements.controls)) {
      controls.findElements.call(this);
    } // Add pressed property to buttons


    if (!is$1.empty(this.elements.buttons)) {
      var addProperty = function addProperty(button) {
        var className = _this11.config.classNames.controlPressed;
        Object.defineProperty(button, 'pressed', {
          enumerable: true,
          get: function get() {
            return hasClass(button, className);
          },
          set: function set() {
            var pressed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
            toggleClass(button, className, pressed);
          }
        });
      }; // Toggle classname when pressed property is set


      Object.values(this.elements.buttons).filter(Boolean).forEach(function (button) {
        if (is$1.array(button) || is$1.nodeList(button)) {
          Array.from(button).filter(Boolean).forEach(addProperty);
        } else {
          addProperty(button);
        }
      });
    } // Edge sometimes doesn't finish the paint so force a repaint


    if (browser.isEdge) {
      repaint(target);
    } // Setup tooltips


    if (this.config.tooltips.controls) {
      var _this$config = this.config,
          classNames = _this$config.classNames,
          selectors = _this$config.selectors;
      var selector = "".concat(selectors.controls.wrapper, " ").concat(selectors.labels, " .").concat(classNames.hidden);
      var labels = getElements.call(this, selector);
      Array.from(labels).forEach(function (label) {
        toggleClass(label, _this11.config.classNames.hidden, false);
        toggleClass(label, _this11.config.classNames.tooltip, true);
      });
    }
  }
};
/**
 * Parse a string to a URL object
 * @param {String} input - the URL to be parsed
 * @param {Boolean} safe - failsafe parsing
 */

function parseUrl(input) {
  var safe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  var url = input;

  if (safe) {
    var parser = document.createElement('a');
    parser.href = url;
    url = parser.href;
  }

  try {
    return new URL(url);
  } catch (e) {
    return null;
  }
} // Convert object to URLSearchParams


function buildUrlParams(input) {
  var params = new URLSearchParams();

  if (is$1.object(input)) {
    Object.entries(input).forEach(function (_ref) {
      var _ref2 = _slicedToArray(_ref, 2),
          key = _ref2[0],
          value = _ref2[1];

      params.set(key, value);
    });
  }

  return params;
}

var captions = {
  // Setup captions
  setup: function setup() {
    // Requires UI support
    if (!this.supported.ui) {
      return;
    } // Only Vimeo and HTML5 video supported at this point


    if (!this.isVideo || this.isYouTube || this.isHTML5 && !support.textTracks) {
      // Clear menu and hide
      if (is$1.array(this.config.controls) && this.config.controls.includes('settings') && this.config.settings.includes('captions')) {
        controls.setCaptionsMenu.call(this);
      }

      return;
    } // Inject the container


    if (!is$1.element(this.elements.captions)) {
      this.elements.captions = createElement('div', getAttributesFromSelector(this.config.selectors.captions));
      insertAfter(this.elements.captions, this.elements.wrapper);
    } // Fix IE captions if CORS is used
    // Fetch captions and inject as blobs instead (data URIs not supported!)


    if (browser.isIE && window.URL) {
      var elements = this.media.querySelectorAll('track');
      Array.from(elements).forEach(function (track) {
        var src = track.getAttribute('src');
        var url = parseUrl(src);

        if (url !== null && url.hostname !== window.location.href.hostname && ['http:', 'https:'].includes(url.protocol)) {
          fetch(src, 'blob').then(function (blob) {
            track.setAttribute('src', window.URL.createObjectURL(blob));
          })["catch"](function () {
            removeElement(track);
          });
        }
      });
    } // Get and set initial data
    // The "preferred" options are not realized unless / until the wanted language has a match
    // * languages: Array of user's browser languages.
    // * language:  The language preferred by user settings or config
    // * active:    The state preferred by user settings or config
    // * toggled:   The real captions state


    var browserLanguages = navigator.languages || [navigator.language || navigator.userLanguage || 'en'];
    var languages = dedupe(browserLanguages.map(function (language) {
      return language.split('-')[0];
    }));
    var language = (this.storage.get('language') || this.config.captions.language || 'auto').toLowerCase(); // Use first browser language when language is 'auto'

    if (language === 'auto') {
      var _languages = _slicedToArray(languages, 1);

      language = _languages[0];
    }

    var active = this.storage.get('captions');

    if (!is$1["boolean"](active)) {
      active = this.config.captions.active;
    }

    Object.assign(this.captions, {
      toggled: false,
      active: active,
      language: language,
      languages: languages
    }); // Watch changes to textTracks and update captions menu

    if (this.isHTML5) {
      var trackEvents = this.config.captions.update ? 'addtrack removetrack' : 'removetrack';
      on.call(this, this.media.textTracks, trackEvents, captions.update.bind(this));
    } // Update available languages in list next tick (the event must not be triggered before the listeners)


    setTimeout(captions.update.bind(this), 0);
  },
  // Update available language options in settings based on tracks
  update: function update() {
    var _this = this;

    var tracks = captions.getTracks.call(this, true); // Get the wanted language

    var _this$captions = this.captions,
        active = _this$captions.active,
        language = _this$captions.language,
        meta = _this$captions.meta,
        currentTrackNode = _this$captions.currentTrackNode;
    var languageExists = Boolean(tracks.find(function (track) {
      return track.language === language;
    })); // Handle tracks (add event listener and "pseudo"-default)

    if (this.isHTML5 && this.isVideo) {
      tracks.filter(function (track) {
        return !meta.get(track);
      }).forEach(function (track) {
        _this.debug.log('Track added', track); // Attempt to store if the original dom element was "default"


        meta.set(track, {
          "default": track.mode === 'showing'
        }); // Turn off native caption rendering to avoid double captions
        // eslint-disable-next-line no-param-reassign

        track.mode = 'hidden'; // Add event listener for cue changes

        on.call(_this, track, 'cuechange', function () {
          return captions.updateCues.call(_this);
        });
      });
    } // Update language first time it matches, or if the previous matching track was removed


    if (languageExists && this.language !== language || !tracks.includes(currentTrackNode)) {
      captions.setLanguage.call(this, language);
      captions.toggle.call(this, active && languageExists);
    } // Enable or disable captions based on track length


    toggleClass(this.elements.container, this.config.classNames.captions.enabled, !is$1.empty(tracks)); // Update available languages in list

    if ((this.config.controls || []).includes('settings') && this.config.settings.includes('captions')) {
      controls.setCaptionsMenu.call(this);
    }
  },
  // Toggle captions display
  // Used internally for the toggleCaptions method, with the passive option forced to false
  toggle: function toggle(input) {
    var passive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true; // If there's no full support

    if (!this.supported.ui) {
      return;
    }

    var toggled = this.captions.toggled; // Current state

    var activeClass = this.config.classNames.captions.active; // Get the next state
    // If the method is called without parameter, toggle based on current value

    var active = is$1.nullOrUndefined(input) ? !toggled : input; // Update state and trigger event

    if (active !== toggled) {
      // When passive, don't override user preferences
      if (!passive) {
        this.captions.active = active;
        this.storage.set({
          captions: active
        });
      } // Force language if the call isn't passive and there is no matching language to toggle to


      if (!this.language && active && !passive) {
        var tracks = captions.getTracks.call(this);
        var track = captions.findTrack.call(this, [this.captions.language].concat(_toConsumableArray(this.captions.languages)), true); // Override user preferences to avoid switching languages if a matching track is added

        this.captions.language = track.language; // Set caption, but don't store in localStorage as user preference

        captions.set.call(this, tracks.indexOf(track));
        return;
      } // Toggle button if it's enabled


      if (this.elements.buttons.captions) {
        this.elements.buttons.captions.pressed = active;
      } // Add class hook


      toggleClass(this.elements.container, activeClass, active);
      this.captions.toggled = active; // Update settings menu

      controls.updateSetting.call(this, 'captions'); // Trigger event (not used internally)

      triggerEvent.call(this, this.media, active ? 'captionsenabled' : 'captionsdisabled');
    }
  },
  // Set captions by track index
  // Used internally for the currentTrack setter with the passive option forced to false
  set: function set(index) {
    var passive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
    var tracks = captions.getTracks.call(this); // Disable captions if setting to -1

    if (index === -1) {
      captions.toggle.call(this, false, passive);
      return;
    }

    if (!is$1.number(index)) {
      this.debug.warn('Invalid caption argument', index);
      return;
    }

    if (!(index in tracks)) {
      this.debug.warn('Track not found', index);
      return;
    }

    if (this.captions.currentTrack !== index) {
      this.captions.currentTrack = index;
      var track = tracks[index];

      var _ref = track || {},
          language = _ref.language; // Store reference to node for invalidation on remove


      this.captions.currentTrackNode = track; // Update settings menu

      controls.updateSetting.call(this, 'captions'); // When passive, don't override user preferences

      if (!passive) {
        this.captions.language = language;
        this.storage.set({
          language: language
        });
      } // Handle Vimeo captions


      if (this.isVimeo) {
        this.embed.enableTextTrack(language);
      } // Trigger event


      triggerEvent.call(this, this.media, 'languagechange');
    } // Show captions


    captions.toggle.call(this, true, passive);

    if (this.isHTML5 && this.isVideo) {
      // If we change the active track while a cue is already displayed we need to update it
      captions.updateCues.call(this);
    }
  },
  // Set captions by language
  // Used internally for the language setter with the passive option forced to false
  setLanguage: function setLanguage(input) {
    var passive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

    if (!is$1.string(input)) {
      this.debug.warn('Invalid language argument', input);
      return;
    } // Normalize


    var language = input.toLowerCase();
    this.captions.language = language; // Set currentTrack

    var tracks = captions.getTracks.call(this);
    var track = captions.findTrack.call(this, [language]);
    captions.set.call(this, tracks.indexOf(track), passive);
  },
  // Get current valid caption tracks
  // If update is false it will also ignore tracks without metadata
  // This is used to "freeze" the language options when captions.update is false
  getTracks: function getTracks() {
    var _this2 = this;

    var update = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false; // Handle media or textTracks missing or null

    var tracks = Array.from((this.media || {}).textTracks || []); // For HTML5, use cache instead of current tracks when it exists (if captions.update is false)
    // Filter out removed tracks and tracks that aren't captions/subtitles (for example metadata)

    return tracks.filter(function (track) {
      return !_this2.isHTML5 || update || _this2.captions.meta.has(track);
    }).filter(function (track) {
      return ['captions', 'subtitles'].includes(track.kind);
    });
  },
  // Match tracks based on languages and get the first
  findTrack: function findTrack(languages) {
    var _this3 = this;

    var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    var tracks = captions.getTracks.call(this);

    var sortIsDefault = function sortIsDefault(track) {
      return Number((_this3.captions.meta.get(track) || {})["default"]);
    };

    var sorted = Array.from(tracks).sort(function (a, b) {
      return sortIsDefault(b) - sortIsDefault(a);
    });
    var track;
    languages.every(function (language) {
      track = sorted.find(function (t) {
        return t.language === language;
      });
      return !track; // Break iteration if there is a match
    }); // If no match is found but is required, get first

    return track || (force ? sorted[0] : undefined);
  },
  // Get the current track
  getCurrentTrack: function getCurrentTrack() {
    return captions.getTracks.call(this)[this.currentTrack];
  },
  // Get UI label for track
  getLabel: function getLabel(track) {
    var currentTrack = track;

    if (!is$1.track(currentTrack) && support.textTracks && this.captions.toggled) {
      currentTrack = captions.getCurrentTrack.call(this);
    }

    if (is$1.track(currentTrack)) {
      if (!is$1.empty(currentTrack.label)) {
        return currentTrack.label;
      }

      if (!is$1.empty(currentTrack.language)) {
        return track.language.toUpperCase();
      }

      return i18n.get('enabled', this.config);
    }

    return i18n.get('disabled', this.config);
  },
  // Update captions using current track's active cues
  // Also optional array argument in case there isn't any track (ex: vimeo)
  updateCues: function updateCues(input) {
    // Requires UI
    if (!this.supported.ui) {
      return;
    }

    if (!is$1.element(this.elements.captions)) {
      this.debug.warn('No captions element to render to');
      return;
    } // Only accept array or empty input


    if (!is$1.nullOrUndefined(input) && !Array.isArray(input)) {
      this.debug.warn('updateCues: Invalid input', input);
      return;
    }

    var cues = input; // Get cues from track

    if (!cues) {
      var track = captions.getCurrentTrack.call(this);
      cues = Array.from((track || {}).activeCues || []).map(function (cue) {
        return cue.getCueAsHTML();
      }).map(getHTML);
    } // Set new caption text


    var content = cues.map(function (cueText) {
      return cueText.trim();
    }).join('\n');
    var changed = content !== this.elements.captions.innerHTML;

    if (changed) {
      // Empty the container and create a new child element
      emptyElement(this.elements.captions);
      var caption = createElement('span', getAttributesFromSelector(this.config.selectors.caption));
      caption.innerHTML = content;
      this.elements.captions.appendChild(caption); // Trigger event

      triggerEvent.call(this, this.media, 'cuechange');
    }
  }
}; // ==========================================================================
// Plyr default config
// ==========================================================================

var defaults$1 = {
  // Disable
  enabled: true,
  // Custom media title
  title: '',
  // Logging to console
  debug: false,
  // Auto play (if supported)
  autoplay: false,
  // Only allow one media playing at once (vimeo only)
  autopause: true,
  // Allow inline playback on iOS (this effects YouTube/Vimeo - HTML5 requires the attribute present)
  // TODO: Remove iosNative fullscreen option in favour of this (logic needs work)
  playsinline: true,
  // Default time to skip when rewind/fast forward
  seekTime: 10,
  // Default volume
  volume: 1,
  muted: false,
  // Pass a custom duration
  duration: null,
  // Display the media duration on load in the current time position
  // If you have opted to display both duration and currentTime, this is ignored
  displayDuration: true,
  // Invert the current time to be a countdown
  invertTime: true,
  // Clicking the currentTime inverts it's value to show time left rather than elapsed
  toggleInvert: true,
  // Force an aspect ratio
  // The format must be `'w:h'` (e.g. `'16:9'`)
  ratio: null,
  // Click video container to play/pause
  clickToPlay: true,
  // Auto hide the controls
  hideControls: true,
  // Reset to start when playback ended
  resetOnEnd: false,
  // Disable the standard context menu
  disableContextMenu: true,
  // Sprite (for icons)
  loadSprite: true,
  iconPrefix: 'plyr',
  iconUrl: 'https://cdn.plyr.io/3.5.6/plyr.svg',
  // Blank video (used to prevent errors on source change)
  blankVideo: 'https://cdn.plyr.io/static/blank.mp4',
  // Quality default
  quality: {
    "default": 576,
    options: [4320, 2880, 2160, 1440, 1080, 720, 576, 480, 360, 240]
  },
  // Set loops
  loop: {
    active: false // start: null,
    // end: null,

  },
  // Speed default and options to display
  speed: {
    selected: 1,
    options: [0.5, 0.75, 1, 1.25, 1.5, 1.75, 2]
  },
  // Keyboard shortcut settings
  keyboard: {
    focused: true,
    global: false
  },
  // Display tooltips
  tooltips: {
    controls: false,
    seek: true
  },
  // Captions settings
  captions: {
    active: false,
    language: 'auto',
    // Listen to new tracks added after Plyr is initialized.
    // This is needed for streaming captions, but may result in unselectable options
    update: false
  },
  // Fullscreen settings
  fullscreen: {
    enabled: true,
    // Allow fullscreen?
    fallback: true,
    // Fallback using full viewport/window
    iosNative: false // Use the native fullscreen in iOS (disables custom controls)

  },
  // Local storage
  storage: {
    enabled: true,
    key: 'plyr'
  },
  // Default controls
  controls: ['play-large', // 'restart',
  // 'rewind',
  'play', // 'fast-forward',
  'progress', 'current-time', // 'duration',
  'mute', 'volume', 'captions', 'settings', 'pip', 'airplay', // 'download',
  'fullscreen'],
  settings: ['captions', 'quality', 'speed'],
  // Localisation
  i18n: {
    restart: 'Restart',
    rewind: 'Rewind {seektime}s',
    play: 'Play',
    pause: 'Pause',
    fastForward: 'Forward {seektime}s',
    seek: 'Seek',
    seekLabel: '{currentTime} of {duration}',
    played: 'Played',
    buffered: 'Buffered',
    currentTime: 'Current time',
    duration: 'Duration',
    volume: 'Volume',
    mute: 'Mute',
    unmute: 'Unmute',
    enableCaptions: 'Enable captions',
    disableCaptions: 'Disable captions',
    download: 'Download',
    enterFullscreen: 'Enter fullscreen',
    exitFullscreen: 'Exit fullscreen',
    frameTitle: 'Player for {title}',
    captions: 'Captions',
    settings: 'Settings',
    menuBack: 'Go back to previous menu',
    speed: 'Speed',
    normal: 'Normal',
    quality: 'Quality',
    loop: 'Loop',
    start: 'Start',
    end: 'End',
    all: 'All',
    reset: 'Reset',
    disabled: 'Disabled',
    enabled: 'Enabled',
    advertisement: 'Ad',
    qualityBadge: {
      2160: '4K',
      1440: 'HD',
      1080: 'HD',
      720: 'HD',
      576: 'SD',
      480: 'SD'
    }
  },
  // URLs
  urls: {
    download: null,
    vimeo: {
      sdk: 'https://player.vimeo.com/api/player.js',
      iframe: 'https://player.vimeo.com/video/{0}?{1}',
      api: 'https://vimeo.com/api/v2/video/{0}.json'
    },
    youtube: {
      sdk: 'https://www.youtube.com/iframe_api',
      api: 'https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}'
    },
    googleIMA: {
      sdk: 'https://imasdk.googleapis.com/js/sdkloader/ima3.js'
    }
  },
  // Custom control listeners
  listeners: {
    seek: null,
    play: null,
    pause: null,
    restart: null,
    rewind: null,
    fastForward: null,
    mute: null,
    volume: null,
    captions: null,
    download: null,
    fullscreen: null,
    pip: null,
    airplay: null,
    speed: null,
    quality: null,
    loop: null,
    language: null
  },
  // Events to watch and bubble
  events: [// Events to watch on HTML5 media elements and bubble
  // https://developer.mozilla.org/en/docs/Web/Guide/Events/Media_events
  'ended', 'progress', 'stalled', 'playing', 'waiting', 'canplay', 'canplaythrough', 'loadstart', 'loadeddata', 'loadedmetadata', 'timeupdate', 'volumechange', 'play', 'pause', 'error', 'seeking', 'seeked', 'emptied', 'ratechange', 'cuechange', // Custom events
  'download', 'enterfullscreen', 'exitfullscreen', 'captionsenabled', 'captionsdisabled', 'languagechange', 'controlshidden', 'controlsshown', 'ready', // YouTube
  'statechange', // Quality
  'qualitychange', // Ads
  'adsloaded', 'adscontentpause', 'adscontentresume', 'adstarted', 'adsmidpoint', 'adscomplete', 'adsallcomplete', 'adsimpression', 'adsclick'],
  // Selectors
  // Change these to match your template if using custom HTML
  selectors: {
    editable: 'input, textarea, select, [contenteditable]',
    container: '.plyr',
    controls: {
      container: null,
      wrapper: '.plyr__controls'
    },
    labels: '[data-plyr]',
    buttons: {
      play: '[data-plyr="play"]',
      pause: '[data-plyr="pause"]',
      restart: '[data-plyr="restart"]',
      rewind: '[data-plyr="rewind"]',
      fastForward: '[data-plyr="fast-forward"]',
      mute: '[data-plyr="mute"]',
      captions: '[data-plyr="captions"]',
      download: '[data-plyr="download"]',
      fullscreen: '[data-plyr="fullscreen"]',
      pip: '[data-plyr="pip"]',
      airplay: '[data-plyr="airplay"]',
      settings: '[data-plyr="settings"]',
      loop: '[data-plyr="loop"]'
    },
    inputs: {
      seek: '[data-plyr="seek"]',
      volume: '[data-plyr="volume"]',
      speed: '[data-plyr="speed"]',
      language: '[data-plyr="language"]',
      quality: '[data-plyr="quality"]'
    },
    display: {
      currentTime: '.plyr__time--current',
      duration: '.plyr__time--duration',
      buffer: '.plyr__progress__buffer',
      loop: '.plyr__progress__loop',
      // Used later
      volume: '.plyr__volume--display'
    },
    progress: '.plyr__progress',
    captions: '.plyr__captions',
    caption: '.plyr__caption'
  },
  // Class hooks added to the player in different states
  classNames: {
    type: 'plyr--{0}',
    provider: 'plyr--{0}',
    video: 'plyr__video-wrapper',
    embed: 'plyr__video-embed',
    videoFixedRatio: 'plyr__video-wrapper--fixed-ratio',
    embedContainer: 'plyr__video-embed__container',
    poster: 'plyr__poster',
    posterEnabled: 'plyr__poster-enabled',
    ads: 'plyr__ads',
    control: 'plyr__control',
    controlPressed: 'plyr__control--pressed',
    playing: 'plyr--playing',
    paused: 'plyr--paused',
    stopped: 'plyr--stopped',
    loading: 'plyr--loading',
    hover: 'plyr--hover',
    tooltip: 'plyr__tooltip',
    cues: 'plyr__cues',
    hidden: 'plyr__sr-only',
    hideControls: 'plyr--hide-controls',
    isIos: 'plyr--is-ios',
    isTouch: 'plyr--is-touch',
    uiSupported: 'plyr--full-ui',
    noTransition: 'plyr--no-transition',
    display: {
      time: 'plyr__time'
    },
    menu: {
      value: 'plyr__menu__value',
      badge: 'plyr__badge',
      open: 'plyr--menu-open'
    },
    captions: {
      enabled: 'plyr--captions-enabled',
      active: 'plyr--captions-active'
    },
    fullscreen: {
      enabled: 'plyr--fullscreen-enabled',
      fallback: 'plyr--fullscreen-fallback'
    },
    pip: {
      supported: 'plyr--pip-supported',
      active: 'plyr--pip-active'
    },
    airplay: {
      supported: 'plyr--airplay-supported',
      active: 'plyr--airplay-active'
    },
    tabFocus: 'plyr__tab-focus',
    previewThumbnails: {
      // Tooltip thumbs
      thumbContainer: 'plyr__preview-thumb',
      thumbContainerShown: 'plyr__preview-thumb--is-shown',
      imageContainer: 'plyr__preview-thumb__image-container',
      timeContainer: 'plyr__preview-thumb__time-container',
      // Scrubbing
      scrubbingContainer: 'plyr__preview-scrubbing',
      scrubbingContainerShown: 'plyr__preview-scrubbing--is-shown'
    }
  },
  // Embed attributes
  attributes: {
    embed: {
      provider: 'data-plyr-provider',
      id: 'data-plyr-embed-id'
    }
  },
  // Advertisements plugin
  // Register for an account here: http://vi.ai/publisher-video-monetization/?aid=plyrio
  ads: {
    enabled: false,
    publisherId: '',
    tagUrl: ''
  },
  // Preview Thumbnails plugin
  previewThumbnails: {
    enabled: false,
    src: ''
  },
  // Vimeo plugin
  vimeo: {
    byline: false,
    portrait: false,
    title: false,
    speed: true,
    transparent: false
  },
  // YouTube plugin
  youtube: {
    noCookie: false,
    // Whether to use an alternative version of YouTube without cookies
    rel: 0,
    // No related vids
    showinfo: 0,
    // Hide info
    iv_load_policy: 3,
    // Hide annotations
    modestbranding: 1 // Hide logos as much as possible (they still show one in the corner when paused)

  }
}; // ==========================================================================
// Plyr states
// ==========================================================================

var pip = {
  active: 'picture-in-picture',
  inactive: 'inline'
}; // ==========================================================================
// Plyr supported types and providers
// ==========================================================================

var providers = {
  html5: 'html5',
  youtube: 'youtube',
  vimeo: 'vimeo'
};
var types = {
  audio: 'audio',
  video: 'video'
};
/**
 * Get provider by URL
 * @param {String} url
 */

function getProviderByUrl(url) {
  // YouTube
  if (/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(url)) {
    return providers.youtube;
  } // Vimeo


  if (/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(url)) {
    return providers.vimeo;
  }

  return null;
} // ==========================================================================
// Console wrapper
// ==========================================================================


var noop = function noop() {};

var Console =
/*#__PURE__*/
function () {
  function Console() {
    var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

    _classCallCheck(this, Console);

    this.enabled = window.console && enabled;

    if (this.enabled) {
      this.log('Debugging enabled');
    }
  }

  _createClass(Console, [{
    key: "log",
    get: function get() {
      // eslint-disable-next-line no-console
      return this.enabled ? Function.prototype.bind.call(console.log, console) : noop;
    }
  }, {
    key: "warn",
    get: function get() {
      // eslint-disable-next-line no-console
      return this.enabled ? Function.prototype.bind.call(console.warn, console) : noop;
    }
  }, {
    key: "error",
    get: function get() {
      // eslint-disable-next-line no-console
      return this.enabled ? Function.prototype.bind.call(console.error, console) : noop;
    }
  }]);

  return Console;
}();

function onChange() {
  if (!this.enabled) {
    return;
  } // Update toggle button


  var button = this.player.elements.buttons.fullscreen;

  if (is$1.element(button)) {
    button.pressed = this.active;
  } // Trigger an event


  triggerEvent.call(this.player, this.target, this.active ? 'enterfullscreen' : 'exitfullscreen', true); // Trap focus in container

  if (!browser.isIos) {
    trapFocus.call(this.player, this.target, this.active);
  }
}

function toggleFallback() {
  var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false; // Store or restore scroll position

  if (toggle) {
    this.scrollPosition = {
      x: window.scrollX || 0,
      y: window.scrollY || 0
    };
  } else {
    window.scrollTo(this.scrollPosition.x, this.scrollPosition.y);
  } // Toggle scroll


  document.body.style.overflow = toggle ? 'hidden' : ''; // Toggle class hook

  toggleClass(this.target, this.player.config.classNames.fullscreen.fallback, toggle); // Force full viewport on iPhone X+

  if (browser.isIos) {
    var viewport = document.head.querySelector('meta[name="viewport"]');
    var property = 'viewport-fit=cover'; // Inject the viewport meta if required

    if (!viewport) {
      viewport = document.createElement('meta');
      viewport.setAttribute('name', 'viewport');
    } // Check if the property already exists


    var hasProperty = is$1.string(viewport.content) && viewport.content.includes(property);

    if (toggle) {
      this.cleanupViewport = !hasProperty;

      if (!hasProperty) {
        viewport.content += ",".concat(property);
      }
    } else if (this.cleanupViewport) {
      viewport.content = viewport.content.split(',').filter(function (part) {
        return part.trim() !== property;
      }).join(',');
    }
  } // Toggle button and fire events


  onChange.call(this);
}

var Fullscreen =
/*#__PURE__*/
function () {
  function Fullscreen(player) {
    var _this = this;

    _classCallCheck(this, Fullscreen); // Keep reference to parent


    this.player = player; // Get prefix

    this.prefix = Fullscreen.prefix;
    this.property = Fullscreen.property; // Scroll position

    this.scrollPosition = {
      x: 0,
      y: 0
    }; // Force the use of 'full window/browser' rather than fullscreen

    this.forceFallback = player.config.fullscreen.fallback === 'force'; // Register event listeners
    // Handle event (incase user presses escape etc)

    on.call(this.player, document, this.prefix === 'ms' ? 'MSFullscreenChange' : "".concat(this.prefix, "fullscreenchange"), function () {
      // TODO: Filter for target??
      onChange.call(_this);
    }); // Fullscreen toggle on double click

    on.call(this.player, this.player.elements.container, 'dblclick', function (event) {
      // Ignore double click in controls
      if (is$1.element(_this.player.elements.controls) && _this.player.elements.controls.contains(event.target)) {
        return;
      }

      _this.toggle();
    }); // Update the UI

    this.update();
  } // Determine if native supported


  _createClass(Fullscreen, [{
    key: "update",
    // Update UI
    value: function update() {
      if (this.enabled) {
        var mode;

        if (this.forceFallback) {
          mode = 'Fallback (forced)';
        } else if (Fullscreen["native"]) {
          mode = 'Native';
        } else {
          mode = 'Fallback';
        }

        this.player.debug.log("".concat(mode, " fullscreen enabled"));
      } else {
        this.player.debug.log('Fullscreen not supported and fallback disabled');
      } // Add styling hook to show button


      toggleClass(this.player.elements.container, this.player.config.classNames.fullscreen.enabled, this.enabled);
    } // Make an element fullscreen

  }, {
    key: "enter",
    value: function enter() {
      if (!this.enabled) {
        return;
      } // iOS native fullscreen doesn't need the request step


      if (browser.isIos && this.player.config.fullscreen.iosNative) {
        this.target.webkitEnterFullscreen();
      } else if (!Fullscreen["native"] || this.forceFallback) {
        toggleFallback.call(this, true);
      } else if (!this.prefix) {
        this.target.requestFullscreen();
      } else if (!is$1.empty(this.prefix)) {
        this.target["".concat(this.prefix, "Request").concat(this.property)]();
      }
    } // Bail from fullscreen

  }, {
    key: "exit",
    value: function exit() {
      if (!this.enabled) {
        return;
      } // iOS native fullscreen


      if (browser.isIos && this.player.config.fullscreen.iosNative) {
        this.target.webkitExitFullscreen();
        this.player.play();
      } else if (!Fullscreen["native"] || this.forceFallback) {
        toggleFallback.call(this, false);
      } else if (!this.prefix) {
        (document.cancelFullScreen || document.exitFullscreen).call(document);
      } else if (!is$1.empty(this.prefix)) {
        var action = this.prefix === 'moz' ? 'Cancel' : 'Exit';
        document["".concat(this.prefix).concat(action).concat(this.property)]();
      }
    } // Toggle state

  }, {
    key: "toggle",
    value: function toggle() {
      if (!this.active) {
        this.enter();
      } else {
        this.exit();
      }
    }
  }, {
    key: "usingNative",
    // If we're actually using native
    get: function get() {
      return Fullscreen["native"] && !this.forceFallback;
    } // Get the prefix for handlers

  }, {
    key: "enabled",
    // Determine if fullscreen is enabled
    get: function get() {
      return (Fullscreen["native"] || this.player.config.fullscreen.fallback) && this.player.config.fullscreen.enabled && this.player.supported.ui && this.player.isVideo;
    } // Get active state

  }, {
    key: "active",
    get: function get() {
      if (!this.enabled) {
        return false;
      } // Fallback using classname


      if (!Fullscreen["native"] || this.forceFallback) {
        return hasClass(this.target, this.player.config.classNames.fullscreen.fallback);
      }

      var element = !this.prefix ? document.fullscreenElement : document["".concat(this.prefix).concat(this.property, "Element")];
      return element === this.target;
    } // Get target element

  }, {
    key: "target",
    get: function get() {
      return browser.isIos && this.player.config.fullscreen.iosNative ? this.player.media : this.player.elements.container;
    }
  }], [{
    key: "native",
    get: function get() {
      return !!(document.fullscreenEnabled || document.webkitFullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled);
    }
  }, {
    key: "prefix",
    get: function get() {
      // No prefix
      if (is$1["function"](document.exitFullscreen)) {
        return '';
      } // Check for fullscreen support by vendor prefix


      var value = '';
      var prefixes = ['webkit', 'moz', 'ms'];
      prefixes.some(function (pre) {
        if (is$1["function"](document["".concat(pre, "ExitFullscreen")]) || is$1["function"](document["".concat(pre, "CancelFullScreen")])) {
          value = pre;
          return true;
        }

        return false;
      });
      return value;
    }
  }, {
    key: "property",
    get: function get() {
      return this.prefix === 'moz' ? 'FullScreen' : 'Fullscreen';
    }
  }]);

  return Fullscreen;
}(); // ==========================================================================
// Load image avoiding xhr/fetch CORS issues
// Server status can't be obtained this way unfortunately, so this uses "naturalWidth" to determine if the image has loaded
// By default it checks if it is at least 1px, but you can add a second argument to change this
// ==========================================================================


function loadImage(src) {
  var minWidth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
  return new Promise(function (resolve, reject) {
    var image = new Image();

    var handler = function handler() {
      delete image.onload;
      delete image.onerror;
      (image.naturalWidth >= minWidth ? resolve : reject)(image);
    };

    Object.assign(image, {
      onload: handler,
      onerror: handler,
      src: src
    });
  });
} // ==========================================================================


var ui = {
  addStyleHook: function addStyleHook() {
    toggleClass(this.elements.container, this.config.selectors.container.replace('.', ''), true);
    toggleClass(this.elements.container, this.config.classNames.uiSupported, this.supported.ui);
  },
  // Toggle native HTML5 media controls
  toggleNativeControls: function toggleNativeControls() {
    var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

    if (toggle && this.isHTML5) {
      this.media.setAttribute('controls', '');
    } else {
      this.media.removeAttribute('controls');
    }
  },
  // Setup the UI
  build: function build() {
    var _this = this; // Re-attach media element listeners
    // TODO: Use event bubbling?


    this.listeners.media(); // Don't setup interface if no support

    if (!this.supported.ui) {
      this.debug.warn("Basic support only for ".concat(this.provider, " ").concat(this.type)); // Restore native controls

      ui.toggleNativeControls.call(this, true); // Bail

      return;
    } // Inject custom controls if not present


    if (!is$1.element(this.elements.controls)) {
      // Inject custom controls
      controls.inject.call(this); // Re-attach control listeners

      this.listeners.controls();
    } // Remove native controls


    ui.toggleNativeControls.call(this); // Setup captions for HTML5

    if (this.isHTML5) {
      captions.setup.call(this);
    } // Reset volume


    this.volume = null; // Reset mute state

    this.muted = null; // Reset loop state

    this.loop = null; // Reset quality setting

    this.quality = null; // Reset speed

    this.speed = null; // Reset volume display

    controls.updateVolume.call(this); // Reset time display

    controls.timeUpdate.call(this); // Update the UI

    ui.checkPlaying.call(this); // Check for picture-in-picture support

    toggleClass(this.elements.container, this.config.classNames.pip.supported, support.pip && this.isHTML5 && this.isVideo); // Check for airplay support

    toggleClass(this.elements.container, this.config.classNames.airplay.supported, support.airplay && this.isHTML5); // Add iOS class

    toggleClass(this.elements.container, this.config.classNames.isIos, browser.isIos); // Add touch class

    toggleClass(this.elements.container, this.config.classNames.isTouch, this.touch); // Ready for API calls

    this.ready = true; // Ready event at end of execution stack

    setTimeout(function () {
      triggerEvent.call(_this, _this.media, 'ready');
    }, 0); // Set the title

    ui.setTitle.call(this); // Assure the poster image is set, if the property was added before the element was created

    if (this.poster) {
      ui.setPoster.call(this, this.poster, false)["catch"](function () {});
    } // Manually set the duration if user has overridden it.
    // The event listeners for it doesn't get called if preload is disabled (#701)


    if (this.config.duration) {
      controls.durationUpdate.call(this);
    }
  },
  // Setup aria attribute for play and iframe title
  setTitle: function setTitle() {
    // Find the current text
    var label = i18n.get('play', this.config); // If there's a media title set, use that for the label

    if (is$1.string(this.config.title) && !is$1.empty(this.config.title)) {
      label += ", ".concat(this.config.title);
    } // If there's a play button, set label


    Array.from(this.elements.buttons.play || []).forEach(function (button) {
      button.setAttribute('aria-label', label);
    }); // Set iframe title
    // https://github.com/sampotts/plyr/issues/124

    if (this.isEmbed) {
      var iframe = getElement.call(this, 'iframe');

      if (!is$1.element(iframe)) {
        return;
      } // Default to media type


      var title = !is$1.empty(this.config.title) ? this.config.title : 'video';
      var format = i18n.get('frameTitle', this.config);
      iframe.setAttribute('title', format.replace('{title}', title));
    }
  },
  // Toggle poster
  togglePoster: function togglePoster(enable) {
    toggleClass(this.elements.container, this.config.classNames.posterEnabled, enable);
  },
  // Set the poster image (async)
  // Used internally for the poster setter, with the passive option forced to false
  setPoster: function setPoster(poster) {
    var _this2 = this;

    var passive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true; // Don't override if call is passive

    if (passive && this.poster) {
      return Promise.reject(new Error('Poster already set'));
    } // Set property synchronously to respect the call order


    this.media.setAttribute('poster', poster); // Wait until ui is ready

    return ready.call(this) // Load image
    .then(function () {
      return loadImage(poster);
    })["catch"](function (err) {
      // Hide poster on error unless it's been set by another call
      if (poster === _this2.poster) {
        ui.togglePoster.call(_this2, false);
      } // Rethrow


      throw err;
    }).then(function () {
      // Prevent race conditions
      if (poster !== _this2.poster) {
        throw new Error('setPoster cancelled by later call to setPoster');
      }
    }).then(function () {
      Object.assign(_this2.elements.poster.style, {
        backgroundImage: "url('".concat(poster, "')"),
        // Reset backgroundSize as well (since it can be set to "cover" for padded thumbnails for youtube)
        backgroundSize: ''
      });
      ui.togglePoster.call(_this2, true);
      return poster;
    });
  },
  // Check playing state
  checkPlaying: function checkPlaying(event) {
    var _this3 = this; // Class hooks


    toggleClass(this.elements.container, this.config.classNames.playing, this.playing);
    toggleClass(this.elements.container, this.config.classNames.paused, this.paused);
    toggleClass(this.elements.container, this.config.classNames.stopped, this.stopped); // Set state

    Array.from(this.elements.buttons.play || []).forEach(function (target) {
      Object.assign(target, {
        pressed: _this3.playing
      });
    }); // Only update controls on non timeupdate events

    if (is$1.event(event) && event.type === 'timeupdate') {
      return;
    } // Toggle controls


    ui.toggleControls.call(this);
  },
  // Check if media is loading
  checkLoading: function checkLoading(event) {
    var _this4 = this;

    this.loading = ['stalled', 'waiting'].includes(event.type); // Clear timer

    clearTimeout(this.timers.loading); // Timer to prevent flicker when seeking

    this.timers.loading = setTimeout(function () {
      // Update progress bar loading class state
      toggleClass(_this4.elements.container, _this4.config.classNames.loading, _this4.loading); // Update controls visibility

      ui.toggleControls.call(_this4);
    }, this.loading ? 250 : 0);
  },
  // Toggle controls based on state and `force` argument
  toggleControls: function toggleControls(force) {
    var controlsElement = this.elements.controls;

    if (controlsElement && this.config.hideControls) {
      // Don't hide controls if a touch-device user recently seeked. (Must be limited to touch devices, or it occasionally prevents desktop controls from hiding.)
      var recentTouchSeek = this.touch && this.lastSeekTime + 2000 > Date.now(); // Show controls if force, loading, paused, button interaction, or recent seek, otherwise hide

      this.toggleControls(Boolean(force || this.loading || this.paused || controlsElement.pressed || controlsElement.hover || recentTouchSeek));
    }
  }
};

var Listeners =
/*#__PURE__*/
function () {
  function Listeners(player) {
    _classCallCheck(this, Listeners);

    this.player = player;
    this.lastKey = null;
    this.focusTimer = null;
    this.lastKeyDown = null;
    this.handleKey = this.handleKey.bind(this);
    this.toggleMenu = this.toggleMenu.bind(this);
    this.setTabFocus = this.setTabFocus.bind(this);
    this.firstTouch = this.firstTouch.bind(this);
  } // Handle key presses


  _createClass(Listeners, [{
    key: "handleKey",
    value: function handleKey(event) {
      var player = this.player;
      var elements = player.elements;
      var code = event.keyCode ? event.keyCode : event.which;
      var pressed = event.type === 'keydown';
      var repeat = pressed && code === this.lastKey; // Bail if a modifier key is set

      if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {
        return;
      } // If the event is bubbled from the media element
      // Firefox doesn't get the keycode for whatever reason


      if (!is$1.number(code)) {
        return;
      } // Seek by the number keys


      var seekByKey = function seekByKey() {
        // Divide the max duration into 10th's and times by the number value
        player.currentTime = player.duration / 10 * (code - 48);
      }; // Handle the key on keydown
      // Reset on keyup


      if (pressed) {
        // Check focused element
        // and if the focused element is not editable (e.g. text input)
        // and any that accept key input http://webaim.org/techniques/keyboard/
        var focused = document.activeElement;

        if (is$1.element(focused)) {
          var editable = player.config.selectors.editable;
          var seek = elements.inputs.seek;

          if (focused !== seek && matches$1(focused, editable)) {
            return;
          }

          if (event.which === 32 && matches$1(focused, 'button, [role^="menuitem"]')) {
            return;
          }
        } // Which keycodes should we prevent default


        var preventDefault = [32, 37, 38, 39, 40, 48, 49, 50, 51, 52, 53, 54, 56, 57, 67, 70, 73, 75, 76, 77, 79]; // If the code is found prevent default (e.g. prevent scrolling for arrows)

        if (preventDefault.includes(code)) {
          event.preventDefault();
          event.stopPropagation();
        }

        switch (code) {
          case 48:
          case 49:
          case 50:
          case 51:
          case 52:
          case 53:
          case 54:
          case 55:
          case 56:
          case 57:
            // 0-9
            if (!repeat) {
              seekByKey();
            }

            break;

          case 32:
          case 75:
            // Space and K key
            if (!repeat) {
              player.togglePlay();
            }

            break;

          case 38:
            // Arrow up
            player.increaseVolume(0.1);
            break;

          case 40:
            // Arrow down
            player.decreaseVolume(0.1);
            break;

          case 77:
            // M key
            if (!repeat) {
              player.muted = !player.muted;
            }

            break;

          case 39:
            // Arrow forward
            player.forward();
            break;

          case 37:
            // Arrow back
            player.rewind();
            break;

          case 70:
            // F key
            player.fullscreen.toggle();
            break;

          case 67:
            // C key
            if (!repeat) {
              player.toggleCaptions();
            }

            break;

          case 76:
            // L key
            player.loop = !player.loop;
            break;

          /* case 73:
              this.setLoop('start');
              break;
           case 76:
              this.setLoop();
              break;
           case 79:
              this.setLoop('end');
              break; */

          default:
            break;
        } // Escape is handle natively when in full screen
        // So we only need to worry about non native


        if (code === 27 && !player.fullscreen.usingNative && player.fullscreen.active) {
          player.fullscreen.toggle();
        } // Store last code for next cycle


        this.lastKey = code;
      } else {
        this.lastKey = null;
      }
    } // Toggle menu

  }, {
    key: "toggleMenu",
    value: function toggleMenu(event) {
      controls.toggleMenu.call(this.player, event);
    } // Device is touch enabled

  }, {
    key: "firstTouch",
    value: function firstTouch() {
      var player = this.player;
      var elements = player.elements;
      player.touch = true; // Add touch class

      toggleClass(elements.container, player.config.classNames.isTouch, true);
    }
  }, {
    key: "setTabFocus",
    value: function setTabFocus(event) {
      var player = this.player;
      var elements = player.elements;
      clearTimeout(this.focusTimer); // Ignore any key other than tab

      if (event.type === 'keydown' && event.which !== 9) {
        return;
      } // Store reference to event timeStamp


      if (event.type === 'keydown') {
        this.lastKeyDown = event.timeStamp;
      } // Remove current classes


      var removeCurrent = function removeCurrent() {
        var className = player.config.classNames.tabFocus;
        var current = getElements.call(player, ".".concat(className));
        toggleClass(current, className, false);
      }; // Determine if a key was pressed to trigger this event


      var wasKeyDown = event.timeStamp - this.lastKeyDown <= 20; // Ignore focus events if a key was pressed prior

      if (event.type === 'focus' && !wasKeyDown) {
        return;
      } // Remove all current


      removeCurrent(); // Delay the adding of classname until the focus has changed
      // This event fires before the focusin event

      this.focusTimer = setTimeout(function () {
        var focused = document.activeElement; // Ignore if current focus element isn't inside the player

        if (!elements.container.contains(focused)) {
          return;
        }

        toggleClass(document.activeElement, player.config.classNames.tabFocus, true);
      }, 10);
    } // Global window & document listeners

  }, {
    key: "global",
    value: function global() {
      var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
      var player = this.player; // Keyboard shortcuts

      if (player.config.keyboard.global) {
        toggleListener.call(player, window, 'keydown keyup', this.handleKey, toggle, false);
      } // Click anywhere closes menu


      toggleListener.call(player, document.body, 'click', this.toggleMenu, toggle); // Detect touch by events

      once.call(player, document.body, 'touchstart', this.firstTouch); // Tab focus detection

      toggleListener.call(player, document.body, 'keydown focus blur', this.setTabFocus, toggle, false, true);
    } // Container listeners

  }, {
    key: "container",
    value: function container() {
      var player = this.player;
      var config = player.config,
          elements = player.elements,
          timers = player.timers; // Keyboard shortcuts

      if (!config.keyboard.global && config.keyboard.focused) {
        on.call(player, elements.container, 'keydown keyup', this.handleKey, false);
      } // Toggle controls on mouse events and entering fullscreen


      on.call(player, elements.container, 'mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen', function (event) {
        var controlsElement = elements.controls; // Remove button states for fullscreen

        if (controlsElement && event.type === 'enterfullscreen') {
          controlsElement.pressed = false;
          controlsElement.hover = false;
        } // Show, then hide after a timeout unless another control event occurs


        var show = ['touchstart', 'touchmove', 'mousemove'].includes(event.type);
        var delay = 0;

        if (show) {
          ui.toggleControls.call(player, true); // Use longer timeout for touch devices

          delay = player.touch ? 3000 : 2000;
        } // Clear timer


        clearTimeout(timers.controls); // Set new timer to prevent flicker when seeking

        timers.controls = setTimeout(function () {
          return ui.toggleControls.call(player, false);
        }, delay);
      }); // Set a gutter for Vimeo

      var setGutter = function setGutter(ratio, padding, toggle) {
        if (!player.isVimeo) {
          return;
        }

        var target = player.elements.wrapper.firstChild;

        var _ratio = _slicedToArray(ratio, 2),
            y = _ratio[1];

        var _getAspectRatio$call = getAspectRatio.call(player),
            _getAspectRatio$call2 = _slicedToArray(_getAspectRatio$call, 2),
            videoX = _getAspectRatio$call2[0],
            videoY = _getAspectRatio$call2[1];

        target.style.maxWidth = toggle ? "".concat(y / videoY * videoX, "px") : null;
        target.style.margin = toggle ? '0 auto' : null;
      }; // Resize on fullscreen change


      var setPlayerSize = function setPlayerSize(measure) {
        // If we don't need to measure the viewport
        if (!measure) {
          return setAspectRatio.call(player);
        }

        var rect = elements.container.getBoundingClientRect();
        var width = rect.width,
            height = rect.height;
        return setAspectRatio.call(player, "".concat(width, ":").concat(height));
      };

      var resized = function resized() {
        clearTimeout(timers.resized);
        timers.resized = setTimeout(setPlayerSize, 50);
      };

      on.call(player, elements.container, 'enterfullscreen exitfullscreen', function (event) {
        var _player$fullscreen = player.fullscreen,
            target = _player$fullscreen.target,
            usingNative = _player$fullscreen.usingNative; // Ignore events not from target

        if (target !== elements.container) {
          return;
        } // If it's not an embed and no ratio specified


        if (!player.isEmbed && is$1.empty(player.config.ratio)) {
          return;
        }

        var isEnter = event.type === 'enterfullscreen'; // Set the player size when entering fullscreen to viewport size

        var _setPlayerSize = setPlayerSize(isEnter),
            padding = _setPlayerSize.padding,
            ratio = _setPlayerSize.ratio; // Set Vimeo gutter


        setGutter(ratio, padding, isEnter); // If not using native fullscreen, we need to check for resizes of viewport

        if (!usingNative) {
          if (isEnter) {
            on.call(player, window, 'resize', resized);
          } else {
            off.call(player, window, 'resize', resized);
          }
        }
      });
    } // Listen for media events

  }, {
    key: "media",
    value: function media() {
      var _this = this;

      var player = this.player;
      var elements = player.elements; // Time change on media

      on.call(player, player.media, 'timeupdate seeking seeked', function (event) {
        return controls.timeUpdate.call(player, event);
      }); // Display duration

      on.call(player, player.media, 'durationchange loadeddata loadedmetadata', function (event) {
        return controls.durationUpdate.call(player, event);
      }); // Check for audio tracks on load
      // We can't use `loadedmetadata` as it doesn't seem to have audio tracks at that point

      on.call(player, player.media, 'canplay loadeddata', function () {
        toggleHidden(elements.volume, !player.hasAudio);
        toggleHidden(elements.buttons.mute, !player.hasAudio);
      }); // Handle the media finishing

      on.call(player, player.media, 'ended', function () {
        // Show poster on end
        if (player.isHTML5 && player.isVideo && player.config.resetOnEnd) {
          // Restart
          player.restart();
        }
      }); // Check for buffer progress

      on.call(player, player.media, 'progress playing seeking seeked', function (event) {
        return controls.updateProgress.call(player, event);
      }); // Handle volume changes

      on.call(player, player.media, 'volumechange', function (event) {
        return controls.updateVolume.call(player, event);
      }); // Handle play/pause

      on.call(player, player.media, 'playing play pause ended emptied timeupdate', function (event) {
        return ui.checkPlaying.call(player, event);
      }); // Loading state

      on.call(player, player.media, 'waiting canplay seeked playing', function (event) {
        return ui.checkLoading.call(player, event);
      }); // Click video

      if (player.supported.ui && player.config.clickToPlay && !player.isAudio) {
        // Re-fetch the wrapper
        var wrapper = getElement.call(player, ".".concat(player.config.classNames.video)); // Bail if there's no wrapper (this should never happen)

        if (!is$1.element(wrapper)) {
          return;
        } // On click play, pause or restart


        on.call(player, elements.container, 'click', function (event) {
          var targets = [elements.container, wrapper]; // Ignore if click if not container or in video wrapper

          if (!targets.includes(event.target) && !wrapper.contains(event.target)) {
            return;
          } // Touch devices will just show controls (if hidden)


          if (player.touch && player.config.hideControls) {
            return;
          }

          if (player.ended) {
            _this.proxy(event, player.restart, 'restart');

            _this.proxy(event, player.play, 'play');
          } else {
            _this.proxy(event, player.togglePlay, 'play');
          }
        });
      } // Disable right click


      if (player.supported.ui && player.config.disableContextMenu) {
        on.call(player, elements.wrapper, 'contextmenu', function (event) {
          event.preventDefault();
        }, false);
      } // Volume change


      on.call(player, player.media, 'volumechange', function () {
        // Save to storage
        player.storage.set({
          volume: player.volume,
          muted: player.muted
        });
      }); // Speed change

      on.call(player, player.media, 'ratechange', function () {
        // Update UI
        controls.updateSetting.call(player, 'speed'); // Save to storage

        player.storage.set({
          speed: player.speed
        });
      }); // Quality change

      on.call(player, player.media, 'qualitychange', function (event) {
        // Update UI
        controls.updateSetting.call(player, 'quality', null, event.detail.quality);
      }); // Update download link when ready and if quality changes

      on.call(player, player.media, 'ready qualitychange', function () {
        controls.setDownloadUrl.call(player);
      }); // Proxy events to container
      // Bubble up key events for Edge

      var proxyEvents = player.config.events.concat(['keyup', 'keydown']).join(' ');
      on.call(player, player.media, proxyEvents, function (event) {
        var _event$detail = event.detail,
            detail = _event$detail === void 0 ? {} : _event$detail; // Get error details from media

        if (event.type === 'error') {
          detail = player.media.error;
        }

        triggerEvent.call(player, elements.container, event.type, true, detail);
      });
    } // Run default and custom handlers

  }, {
    key: "proxy",
    value: function proxy(event, defaultHandler, customHandlerKey) {
      var player = this.player;
      var customHandler = player.config.listeners[customHandlerKey];
      var hasCustomHandler = is$1["function"](customHandler);
      var returned = true; // Execute custom handler

      if (hasCustomHandler) {
        returned = customHandler.call(player, event);
      } // Only call default handler if not prevented in custom handler


      if (returned && is$1["function"](defaultHandler)) {
        defaultHandler.call(player, event);
      }
    } // Trigger custom and default handlers

  }, {
    key: "bind",
    value: function bind(element, type, defaultHandler, customHandlerKey) {
      var _this2 = this;

      var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;
      var player = this.player;
      var customHandler = player.config.listeners[customHandlerKey];
      var hasCustomHandler = is$1["function"](customHandler);
      on.call(player, element, type, function (event) {
        return _this2.proxy(event, defaultHandler, customHandlerKey);
      }, passive && !hasCustomHandler);
    } // Listen for control events

  }, {
    key: "controls",
    value: function controls$1() {
      var _this3 = this;

      var player = this.player;
      var elements = player.elements; // IE doesn't support input event, so we fallback to change

      var inputEvent = browser.isIE ? 'change' : 'input'; // Play/pause toggle

      if (elements.buttons.play) {
        Array.from(elements.buttons.play).forEach(function (button) {
          _this3.bind(button, 'click', player.togglePlay, 'play');
        });
      } // Pause


      this.bind(elements.buttons.restart, 'click', player.restart, 'restart'); // Rewind

      this.bind(elements.buttons.rewind, 'click', player.rewind, 'rewind'); // Rewind

      this.bind(elements.buttons.fastForward, 'click', player.forward, 'fastForward'); // Mute toggle

      this.bind(elements.buttons.mute, 'click', function () {
        player.muted = !player.muted;
      }, 'mute'); // Captions toggle

      this.bind(elements.buttons.captions, 'click', function () {
        return player.toggleCaptions();
      }); // Download

      this.bind(elements.buttons.download, 'click', function () {
        triggerEvent.call(player, player.media, 'download');
      }, 'download'); // Fullscreen toggle

      this.bind(elements.buttons.fullscreen, 'click', function () {
        player.fullscreen.toggle();
      }, 'fullscreen'); // Picture-in-Picture

      this.bind(elements.buttons.pip, 'click', function () {
        player.pip = 'toggle';
      }, 'pip'); // Airplay

      this.bind(elements.buttons.airplay, 'click', player.airplay, 'airplay'); // Settings menu - click toggle

      this.bind(elements.buttons.settings, 'click', function (event) {
        // Prevent the document click listener closing the menu
        event.stopPropagation();
        controls.toggleMenu.call(player, event);
      }); // Settings menu - keyboard toggle
      // We have to bind to keyup otherwise Firefox triggers a click when a keydown event handler shifts focus
      // https://bugzilla.mozilla.org/show_bug.cgi?id=1220143

      this.bind(elements.buttons.settings, 'keyup', function (event) {
        var code = event.which; // We only care about space and return

        if (![13, 32].includes(code)) {
          return;
        } // Because return triggers a click anyway, all we need to do is set focus


        if (code === 13) {
          controls.focusFirstMenuItem.call(player, null, true);
          return;
        } // Prevent scroll


        event.preventDefault(); // Prevent playing video (Firefox)

        event.stopPropagation(); // Toggle menu

        controls.toggleMenu.call(player, event);
      }, null, false // Can't be passive as we're preventing default
      ); // Escape closes menu

      this.bind(elements.settings.menu, 'keydown', function (event) {
        if (event.which === 27) {
          controls.toggleMenu.call(player, event);
        }
      }); // Set range input alternative "value", which matches the tooltip time (#954)

      this.bind(elements.inputs.seek, 'mousedown mousemove', function (event) {
        var rect = elements.progress.getBoundingClientRect();
        var percent = 100 / rect.width * (event.pageX - rect.left);
        event.currentTarget.setAttribute('seek-value', percent);
      }); // Pause while seeking

      this.bind(elements.inputs.seek, 'mousedown mouseup keydown keyup touchstart touchend', function (event) {
        var seek = event.currentTarget;
        var code = event.keyCode ? event.keyCode : event.which;
        var attribute = 'play-on-seeked';

        if (is$1.keyboardEvent(event) && code !== 39 && code !== 37) {
          return;
        } // Record seek time so we can prevent hiding controls for a few seconds after seek


        player.lastSeekTime = Date.now(); // Was playing before?

        var play = seek.hasAttribute(attribute); // Done seeking

        var done = ['mouseup', 'touchend', 'keyup'].includes(event.type); // If we're done seeking and it was playing, resume playback

        if (play && done) {
          seek.removeAttribute(attribute);
          player.play();
        } else if (!done && player.playing) {
          seek.setAttribute(attribute, '');
          player.pause();
        }
      }); // Fix range inputs on iOS
      // Super weird iOS bug where after you interact with an <input type="range">,
      // it takes over further interactions on the page. This is a hack

      if (browser.isIos) {
        var inputs = getElements.call(player, 'input[type="range"]');
        Array.from(inputs).forEach(function (input) {
          return _this3.bind(input, inputEvent, function (event) {
            return repaint(event.target);
          });
        });
      } // Seek


      this.bind(elements.inputs.seek, inputEvent, function (event) {
        var seek = event.currentTarget; // If it exists, use seek-value instead of "value" for consistency with tooltip time (#954)

        var seekTo = seek.getAttribute('seek-value');

        if (is$1.empty(seekTo)) {
          seekTo = seek.value;
        }

        seek.removeAttribute('seek-value');
        player.currentTime = seekTo / seek.max * player.duration;
      }, 'seek'); // Seek tooltip

      this.bind(elements.progress, 'mouseenter mouseleave mousemove', function (event) {
        return controls.updateSeekTooltip.call(player, event);
      }); // Preview thumbnails plugin
      // TODO: Really need to work on some sort of plug-in wide event bus or pub-sub for this

      this.bind(elements.progress, 'mousemove touchmove', function (event) {
        var previewThumbnails = player.previewThumbnails;

        if (previewThumbnails && previewThumbnails.loaded) {
          previewThumbnails.startMove(event);
        }
      }); // Hide thumbnail preview - on mouse click, mouse leave, and video play/seek. All four are required, e.g., for buffering

      this.bind(elements.progress, 'mouseleave click', function () {
        var previewThumbnails = player.previewThumbnails;

        if (previewThumbnails && previewThumbnails.loaded) {
          previewThumbnails.endMove(false, true);
        }
      }); // Show scrubbing preview

      this.bind(elements.progress, 'mousedown touchstart', function (event) {
        var previewThumbnails = player.previewThumbnails;

        if (previewThumbnails && previewThumbnails.loaded) {
          previewThumbnails.startScrubbing(event);
        }
      });
      this.bind(elements.progress, 'mouseup touchend', function (event) {
        var previewThumbnails = player.previewThumbnails;

        if (previewThumbnails && previewThumbnails.loaded) {
          previewThumbnails.endScrubbing(event);
        }
      }); // Polyfill for lower fill in <input type="range"> for webkit

      if (browser.isWebkit) {
        Array.from(getElements.call(player, 'input[type="range"]')).forEach(function (element) {
          _this3.bind(element, 'input', function (event) {
            return controls.updateRangeFill.call(player, event.target);
          });
        });
      } // Current time invert
      // Only if one time element is used for both currentTime and duration


      if (player.config.toggleInvert && !is$1.element(elements.display.duration)) {
        this.bind(elements.display.currentTime, 'click', function () {
          // Do nothing if we're at the start
          if (player.currentTime === 0) {
            return;
          }

          player.config.invertTime = !player.config.invertTime;
          controls.timeUpdate.call(player);
        });
      } // Volume


      this.bind(elements.inputs.volume, inputEvent, function (event) {
        player.volume = event.target.value;
      }, 'volume'); // Update controls.hover state (used for ui.toggleControls to avoid hiding when interacting)

      this.bind(elements.controls, 'mouseenter mouseleave', function (event) {
        elements.controls.hover = !player.touch && event.type === 'mouseenter';
      }); // Update controls.pressed state (used for ui.toggleControls to avoid hiding when interacting)

      this.bind(elements.controls, 'mousedown mouseup touchstart touchend touchcancel', function (event) {
        elements.controls.pressed = ['mousedown', 'touchstart'].includes(event.type);
      }); // Show controls when they receive focus (e.g., when using keyboard tab key)

      this.bind(elements.controls, 'focusin', function () {
        var config = player.config,
            timers = player.timers; // Skip transition to prevent focus from scrolling the parent element

        toggleClass(elements.controls, config.classNames.noTransition, true); // Toggle

        ui.toggleControls.call(player, true); // Restore transition

        setTimeout(function () {
          toggleClass(elements.controls, config.classNames.noTransition, false);
        }, 0); // Delay a little more for mouse users

        var delay = _this3.touch ? 3000 : 4000; // Clear timer

        clearTimeout(timers.controls); // Hide again after delay

        timers.controls = setTimeout(function () {
          return ui.toggleControls.call(player, false);
        }, delay);
      }); // Mouse wheel for volume

      this.bind(elements.inputs.volume, 'wheel', function (event) {
        // Detect "natural" scroll - suppored on OS X Safari only
        // Other browsers on OS X will be inverted until support improves
        var inverted = event.webkitDirectionInvertedFromDevice; // Get delta from event. Invert if `inverted` is true

        var _map = [event.deltaX, -event.deltaY].map(function (value) {
          return inverted ? -value : value;
        }),
            _map2 = _slicedToArray(_map, 2),
            x = _map2[0],
            y = _map2[1]; // Using the biggest delta, normalize to 1 or -1 (or 0 if no delta)


        var direction = Math.sign(Math.abs(x) > Math.abs(y) ? x : y); // Change the volume by 2%

        player.increaseVolume(direction / 50); // Don't break page scrolling at max and min

        var volume = player.media.volume;

        if (direction === 1 && volume < 1 || direction === -1 && volume > 0) {
          event.preventDefault();
        }
      }, 'volume', false);
    }
  }]);

  return Listeners;
}();

var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

function createCommonjsModule(fn, module) {
  return module = {
    exports: {}
  }, fn(module, module.exports), module.exports;
}

var loadjs_umd = createCommonjsModule(function (module, exports) {
  (function (root, factory) {
    {
      module.exports = factory();
    }
  })(commonjsGlobal, function () {
    /**
     * Global dependencies.
     * @global {Object} document - DOM
     */
    var devnull = function devnull() {},
        bundleIdCache = {},
        bundleResultCache = {},
        bundleCallbackQueue = {};
    /**
     * Subscribe to bundle load event.
     * @param {string[]} bundleIds - Bundle ids
     * @param {Function} callbackFn - The callback function
     */


    function subscribe(bundleIds, callbackFn) {
      // listify
      bundleIds = bundleIds.push ? bundleIds : [bundleIds];
      var depsNotFound = [],
          i = bundleIds.length,
          numWaiting = i,
          fn,
          bundleId,
          r,
          q; // define callback function

      fn = function fn(bundleId, pathsNotFound) {
        if (pathsNotFound.length) depsNotFound.push(bundleId);
        numWaiting--;
        if (!numWaiting) callbackFn(depsNotFound);
      }; // register callback


      while (i--) {
        bundleId = bundleIds[i]; // execute callback if in result cache

        r = bundleResultCache[bundleId];

        if (r) {
          fn(bundleId, r);
          continue;
        } // add to callback queue


        q = bundleCallbackQueue[bundleId] = bundleCallbackQueue[bundleId] || [];
        q.push(fn);
      }
    }
    /**
     * Publish bundle load event.
     * @param {string} bundleId - Bundle id
     * @param {string[]} pathsNotFound - List of files not found
     */


    function publish(bundleId, pathsNotFound) {
      // exit if id isn't defined
      if (!bundleId) return;
      var q = bundleCallbackQueue[bundleId]; // cache result

      bundleResultCache[bundleId] = pathsNotFound; // exit if queue is empty

      if (!q) return; // empty callback queue

      while (q.length) {
        q[0](bundleId, pathsNotFound);
        q.splice(0, 1);
      }
    }
    /**
     * Execute callbacks.
     * @param {Object or Function} args - The callback args
     * @param {string[]} depsNotFound - List of dependencies not found
     */


    function executeCallbacks(args, depsNotFound) {
      // accept function as argument
      if (args.call) args = {
        success: args
      }; // success and error callbacks

      if (depsNotFound.length) (args.error || devnull)(depsNotFound);else (args.success || devnull)(args);
    }
    /**
     * Load individual file.
     * @param {string} path - The file path
     * @param {Function} callbackFn - The callback function
     */


    function loadFile(path, callbackFn, args, numTries) {
      var doc = document,
          async = args.async,
          maxTries = (args.numRetries || 0) + 1,
          beforeCallbackFn = args.before || devnull,
          pathStripped = path.replace(/^(css|img)!/, ''),
          isLegacyIECss,
          e;
      numTries = numTries || 0;

      if (/(^css!|\.css$)/.test(path)) {
        // css
        e = doc.createElement('link');
        e.rel = 'stylesheet';
        e.href = pathStripped; // tag IE9+

        isLegacyIECss = 'hideFocus' in e; // use preload in IE Edge (to detect load errors)

        if (isLegacyIECss && e.relList) {
          isLegacyIECss = 0;
          e.rel = 'preload';
          e.as = 'style';
        }
      } else if (/(^img!|\.(png|gif|jpg|svg)$)/.test(path)) {
        // image
        e = doc.createElement('img');
        e.src = pathStripped;
      } else {
        // javascript
        e = doc.createElement('script');
        e.src = path;
        e.async = async === undefined ? true : async;
      }

      e.onload = e.onerror = e.onbeforeload = function (ev) {
        var result = ev.type[0]; // treat empty stylesheets as failures to get around lack of onerror
        // support in IE9-11

        if (isLegacyIECss) {
          try {
            if (!e.sheet.cssText.length) result = 'e';
          } catch (x) {
            // sheets objects created from load errors don't allow access to
            // `cssText` (unless error is Code:18 SecurityError)
            if (x.code != 18) result = 'e';
          }
        } // handle retries in case of load failure


        if (result == 'e') {
          // increment counter
          numTries += 1; // exit function and try again

          if (numTries < maxTries) {
            return loadFile(path, callbackFn, args, numTries);
          }
        } else if (e.rel == 'preload' && e.as == 'style') {
          // activate preloaded stylesheets
          return e.rel = 'stylesheet'; // jshint ignore:line
        } // execute callback


        callbackFn(path, result, ev.defaultPrevented);
      }; // add to document (unless callback returns `false`)


      if (beforeCallbackFn(path, e) !== false) doc.head.appendChild(e);
    }
    /**
     * Load multiple files.
     * @param {string[]} paths - The file paths
     * @param {Function} callbackFn - The callback function
     */


    function loadFiles(paths, callbackFn, args) {
      // listify paths
      paths = paths.push ? paths : [paths];
      var numWaiting = paths.length,
          x = numWaiting,
          pathsNotFound = [],
          fn,
          i; // define callback function

      fn = function fn(path, result, defaultPrevented) {
        // handle error
        if (result == 'e') pathsNotFound.push(path); // handle beforeload event. If defaultPrevented then that means the load
        // will be blocked (ex. Ghostery/ABP on Safari)

        if (result == 'b') {
          if (defaultPrevented) pathsNotFound.push(path);else return;
        }

        numWaiting--;
        if (!numWaiting) callbackFn(pathsNotFound);
      }; // load scripts


      for (i = 0; i < x; i++) {
        loadFile(paths[i], fn, args);
      }
    }
    /**
     * Initiate script load and register bundle.
     * @param {(string|string[])} paths - The file paths
     * @param {(string|Function|Object)} [arg1] - The (1) bundleId or (2) success
     *   callback or (3) object literal with success/error arguments, numRetries,
     *   etc.
     * @param {(Function|Object)} [arg2] - The (1) success callback or (2) object
     *   literal with success/error arguments, numRetries, etc.
     */


    function loadjs(paths, arg1, arg2) {
      var bundleId, args; // bundleId (if string)

      if (arg1 && arg1.trim) bundleId = arg1; // args (default is {})

      args = (bundleId ? arg2 : arg1) || {}; // throw error if bundle is already defined

      if (bundleId) {
        if (bundleId in bundleIdCache) {
          throw "LoadJS";
        } else {
          bundleIdCache[bundleId] = true;
        }
      }

      function loadFn(resolve, reject) {
        loadFiles(paths, function (pathsNotFound) {
          // execute callbacks
          executeCallbacks(args, pathsNotFound); // resolve Promise

          if (resolve) {
            executeCallbacks({
              success: resolve,
              error: reject
            }, pathsNotFound);
          } // publish bundle load event


          publish(bundleId, pathsNotFound);
        }, args);
      }

      if (args.returnPromise) return new Promise(loadFn);else loadFn();
    }
    /**
     * Execute callbacks when dependencies have been satisfied.
     * @param {(string|string[])} deps - List of bundle ids
     * @param {Object} args - success/error arguments
     */


    loadjs.ready = function ready(deps, args) {
      // subscribe to bundle load event
      subscribe(deps, function (depsNotFound) {
        // execute callbacks
        executeCallbacks(args, depsNotFound);
      });
      return loadjs;
    };
    /**
     * Manually satisfy bundle dependencies.
     * @param {string} bundleId - The bundle id
     */


    loadjs.done = function done(bundleId) {
      publish(bundleId, []);
    };
    /**
     * Reset loadjs dependencies statuses
     */


    loadjs.reset = function reset() {
      bundleIdCache = {};
      bundleResultCache = {};
      bundleCallbackQueue = {};
    };
    /**
     * Determine if bundle has already been defined
     * @param String} bundleId - The bundle id
     */


    loadjs.isDefined = function isDefined(bundleId) {
      return bundleId in bundleIdCache;
    }; // export


    return loadjs;
  });
}); // ==========================================================================

function loadScript(url) {
  return new Promise(function (resolve, reject) {
    loadjs_umd(url, {
      success: resolve,
      error: reject
    });
  });
}

function parseId(url) {
  if (is$1.empty(url)) {
    return null;
  }

  if (is$1.number(Number(url))) {
    return url;
  }

  var regex = /^.*(vimeo.com\/|video\/)(\d+).*/;
  return url.match(regex) ? RegExp.$2 : url;
} // Set playback state and trigger change (only on actual change)


function assurePlaybackState(play) {
  if (play && !this.embed.hasPlayed) {
    this.embed.hasPlayed = true;
  }

  if (this.media.paused === play) {
    this.media.paused = !play;
    triggerEvent.call(this, this.media, play ? 'play' : 'pause');
  }
}

var vimeo = {
  setup: function setup() {
    var _this = this; // Add embed class for responsive


    toggleClass(this.elements.wrapper, this.config.classNames.embed, true); // Set intial ratio

    setAspectRatio.call(this); // Load the SDK if not already

    if (!is$1.object(window.Vimeo)) {
      loadScript(this.config.urls.vimeo.sdk).then(function () {
        vimeo.ready.call(_this);
      })["catch"](function (error) {
        _this.debug.warn('Vimeo SDK (player.js) failed to load', error);
      });
    } else {
      vimeo.ready.call(this);
    }
  },
  // API Ready
  ready: function ready() {
    var _this2 = this;

    var player = this;
    var config = player.config.vimeo; // Get Vimeo params for the iframe

    var params = buildUrlParams(extend({}, {
      loop: player.config.loop.active,
      autoplay: player.autoplay,
      muted: player.muted,
      gesture: 'media',
      playsinline: !this.config.fullscreen.iosNative
    }, config)); // Get the source URL or ID

    var source = player.media.getAttribute('src'); // Get from <div> if needed

    if (is$1.empty(source)) {
      source = player.media.getAttribute(player.config.attributes.embed.id);
    }

    var id = parseId(source); // Build an iframe

    var iframe = createElement('iframe');
    var src = format(player.config.urls.vimeo.iframe, id, params);
    iframe.setAttribute('src', src);
    iframe.setAttribute('allowfullscreen', '');
    iframe.setAttribute('allowtransparency', '');
    iframe.setAttribute('allow', 'autoplay'); // Get poster, if already set

    var poster = player.poster; // Inject the package

    var wrapper = createElement('div', {
      poster: poster,
      "class": player.config.classNames.embedContainer
    });
    wrapper.appendChild(iframe);
    player.media = replaceElement(wrapper, player.media); // Get poster image

    fetch(format(player.config.urls.vimeo.api, id), 'json').then(function (response) {
      if (is$1.empty(response)) {
        return;
      } // Get the URL for thumbnail


      var url = new URL(response[0].thumbnail_large); // Get original image

      url.pathname = "".concat(url.pathname.split('_')[0], ".jpg"); // Set and show poster

      ui.setPoster.call(player, url.href)["catch"](function () {});
    }); // Setup instance
    // https://github.com/vimeo/player.js

    player.embed = new window.Vimeo.Player(iframe, {
      autopause: player.config.autopause,
      muted: player.muted
    });
    player.media.paused = true;
    player.media.currentTime = 0; // Disable native text track rendering

    if (player.supported.ui) {
      player.embed.disableTextTrack();
    } // Create a faux HTML5 API using the Vimeo API


    player.media.play = function () {
      assurePlaybackState.call(player, true);
      return player.embed.play();
    };

    player.media.pause = function () {
      assurePlaybackState.call(player, false);
      return player.embed.pause();
    };

    player.media.stop = function () {
      player.pause();
      player.currentTime = 0;
    }; // Seeking


    var currentTime = player.media.currentTime;
    Object.defineProperty(player.media, 'currentTime', {
      get: function get() {
        return currentTime;
      },
      set: function set(time) {
        // Vimeo will automatically play on seek if the video hasn't been played before
        // Get current paused state and volume etc
        var embed = player.embed,
            media = player.media,
            paused = player.paused,
            volume = player.volume;
        var restorePause = paused && !embed.hasPlayed; // Set seeking state and trigger event

        media.seeking = true;
        triggerEvent.call(player, media, 'seeking'); // If paused, mute until seek is complete

        Promise.resolve(restorePause && embed.setVolume(0)) // Seek
        .then(function () {
          return embed.setCurrentTime(time);
        }) // Restore paused
        .then(function () {
          return restorePause && embed.pause();
        }) // Restore volume
        .then(function () {
          return restorePause && embed.setVolume(volume);
        })["catch"](function () {// Do nothing
        });
      }
    }); // Playback speed

    var speed = player.config.speed.selected;
    Object.defineProperty(player.media, 'playbackRate', {
      get: function get() {
        return speed;
      },
      set: function set(input) {
        player.embed.setPlaybackRate(input).then(function () {
          speed = input;
          triggerEvent.call(player, player.media, 'ratechange');
        })["catch"](function (error) {
          // Hide menu item (and menu if empty)
          if (error.name === 'Error') {
            controls.setSpeedMenu.call(player, []);
          }
        });
      }
    }); // Volume

    var volume = player.config.volume;
    Object.defineProperty(player.media, 'volume', {
      get: function get() {
        return volume;
      },
      set: function set(input) {
        player.embed.setVolume(input).then(function () {
          volume = input;
          triggerEvent.call(player, player.media, 'volumechange');
        });
      }
    }); // Muted

    var muted = player.config.muted;
    Object.defineProperty(player.media, 'muted', {
      get: function get() {
        return muted;
      },
      set: function set(input) {
        var toggle = is$1["boolean"](input) ? input : false;
        player.embed.setVolume(toggle ? 0 : player.config.volume).then(function () {
          muted = toggle;
          triggerEvent.call(player, player.media, 'volumechange');
        });
      }
    }); // Loop

    var loop = player.config.loop;
    Object.defineProperty(player.media, 'loop', {
      get: function get() {
        return loop;
      },
      set: function set(input) {
        var toggle = is$1["boolean"](input) ? input : player.config.loop.active;
        player.embed.setLoop(toggle).then(function () {
          loop = toggle;
        });
      }
    }); // Source

    var currentSrc;
    player.embed.getVideoUrl().then(function (value) {
      currentSrc = value;
      controls.setDownloadUrl.call(player);
    })["catch"](function (error) {
      _this2.debug.warn(error);
    });
    Object.defineProperty(player.media, 'currentSrc', {
      get: function get() {
        return currentSrc;
      }
    }); // Ended

    Object.defineProperty(player.media, 'ended', {
      get: function get() {
        return player.currentTime === player.duration;
      }
    }); // Set aspect ratio based on video size

    Promise.all([player.embed.getVideoWidth(), player.embed.getVideoHeight()]).then(function (dimensions) {
      var _dimensions = _slicedToArray(dimensions, 2),
          width = _dimensions[0],
          height = _dimensions[1];

      player.embed.ratio = [width, height];
      setAspectRatio.call(_this2);
    }); // Set autopause

    player.embed.setAutopause(player.config.autopause).then(function (state) {
      player.config.autopause = state;
    }); // Get title

    player.embed.getVideoTitle().then(function (title) {
      player.config.title = title;
      ui.setTitle.call(_this2);
    }); // Get current time

    player.embed.getCurrentTime().then(function (value) {
      currentTime = value;
      triggerEvent.call(player, player.media, 'timeupdate');
    }); // Get duration

    player.embed.getDuration().then(function (value) {
      player.media.duration = value;
      triggerEvent.call(player, player.media, 'durationchange');
    }); // Get captions

    player.embed.getTextTracks().then(function (tracks) {
      player.media.textTracks = tracks;
      captions.setup.call(player);
    });
    player.embed.on('cuechange', function (_ref) {
      var _ref$cues = _ref.cues,
          cues = _ref$cues === void 0 ? [] : _ref$cues;
      var strippedCues = cues.map(function (cue) {
        return stripHTML(cue.text);
      });
      captions.updateCues.call(player, strippedCues);
    });
    player.embed.on('loaded', function () {
      // Assure state and events are updated on autoplay
      player.embed.getPaused().then(function (paused) {
        assurePlaybackState.call(player, !paused);

        if (!paused) {
          triggerEvent.call(player, player.media, 'playing');
        }
      });

      if (is$1.element(player.embed.element) && player.supported.ui) {
        var frame = player.embed.element; // Fix keyboard focus issues
        // https://github.com/sampotts/plyr/issues/317

        frame.setAttribute('tabindex', -1);
      }
    });
    player.embed.on('play', function () {
      assurePlaybackState.call(player, true);
      triggerEvent.call(player, player.media, 'playing');
    });
    player.embed.on('pause', function () {
      assurePlaybackState.call(player, false);
    });
    player.embed.on('timeupdate', function (data) {
      player.media.seeking = false;
      currentTime = data.seconds;
      triggerEvent.call(player, player.media, 'timeupdate');
    });
    player.embed.on('progress', function (data) {
      player.media.buffered = data.percent;
      triggerEvent.call(player, player.media, 'progress'); // Check all loaded

      if (parseInt(data.percent, 10) === 1) {
        triggerEvent.call(player, player.media, 'canplaythrough');
      } // Get duration as if we do it before load, it gives an incorrect value
      // https://github.com/sampotts/plyr/issues/891


      player.embed.getDuration().then(function (value) {
        if (value !== player.media.duration) {
          player.media.duration = value;
          triggerEvent.call(player, player.media, 'durationchange');
        }
      });
    });
    player.embed.on('seeked', function () {
      player.media.seeking = false;
      triggerEvent.call(player, player.media, 'seeked');
    });
    player.embed.on('ended', function () {
      player.media.paused = true;
      triggerEvent.call(player, player.media, 'ended');
    });
    player.embed.on('error', function (detail) {
      player.media.error = detail;
      triggerEvent.call(player, player.media, 'error');
    }); // Rebuild UI

    setTimeout(function () {
      return ui.build.call(player);
    }, 0);
  }
}; // ==========================================================================

function parseId$1(url) {
  if (is$1.empty(url)) {
    return null;
  }

  var regex = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
  return url.match(regex) ? RegExp.$2 : url;
} // Set playback state and trigger change (only on actual change)


function assurePlaybackState$1(play) {
  if (play && !this.embed.hasPlayed) {
    this.embed.hasPlayed = true;
  }

  if (this.media.paused === play) {
    this.media.paused = !play;
    triggerEvent.call(this, this.media, play ? 'play' : 'pause');
  }
}

function getHost(config) {
  if (config.noCookie) {
    return 'https://www.youtube-nocookie.com';
  }

  if (window.location.protocol === 'http:') {
    return 'http://www.youtube.com';
  } // Use YouTube's default


  return undefined;
}

var youtube = {
  setup: function setup() {
    var _this = this; // Add embed class for responsive


    toggleClass(this.elements.wrapper, this.config.classNames.embed, true); // Setup API

    if (is$1.object(window.YT) && is$1["function"](window.YT.Player)) {
      youtube.ready.call(this);
    } else {
      // Reference current global callback
      var callback = window.onYouTubeIframeAPIReady; // Set callback to process queue

      window.onYouTubeIframeAPIReady = function () {
        // Call global callback if set
        if (is$1["function"](callback)) {
          callback();
        }

        youtube.ready.call(_this);
      }; // Load the SDK


      loadScript(this.config.urls.youtube.sdk)["catch"](function (error) {
        _this.debug.warn('YouTube API failed to load', error);
      });
    }
  },
  // Get the media title
  getTitle: function getTitle(videoId) {
    var _this2 = this;

    var url = format(this.config.urls.youtube.api, videoId);
    fetch(url).then(function (data) {
      if (is$1.object(data)) {
        var title = data.title,
            height = data.height,
            width = data.width; // Set title

        _this2.config.title = title;
        ui.setTitle.call(_this2); // Set aspect ratio

        _this2.embed.ratio = [width, height];
      }

      setAspectRatio.call(_this2);
    })["catch"](function () {
      // Set aspect ratio
      setAspectRatio.call(_this2);
    });
  },
  // API ready
  ready: function ready() {
    var player = this; // Ignore already setup (race condition)

    var currentId = player.media && player.media.getAttribute('id');

    if (!is$1.empty(currentId) && currentId.startsWith('youtube-')) {
      return;
    } // Get the source URL or ID


    var source = player.media.getAttribute('src'); // Get from <div> if needed

    if (is$1.empty(source)) {
      source = player.media.getAttribute(this.config.attributes.embed.id);
    } // Replace the <iframe> with a <div> due to YouTube API issues


    var videoId = parseId$1(source);
    var id = generateId(player.provider); // Get poster, if already set

    var poster = player.poster; // Replace media element

    var container = createElement('div', {
      id: id,
      poster: poster
    });
    player.media = replaceElement(container, player.media); // Id to poster wrapper

    var posterSrc = function posterSrc(s) {
      return "https://i.ytimg.com/vi/".concat(videoId, "/").concat(s, "default.jpg");
    }; // Check thumbnail images in order of quality, but reject fallback thumbnails (120px wide)


    loadImage(posterSrc('maxres'), 121) // Higest quality and unpadded
    ["catch"](function () {
      return loadImage(posterSrc('sd'), 121);
    }) // 480p padded 4:3
    ["catch"](function () {
      return loadImage(posterSrc('hq'));
    }) // 360p padded 4:3. Always exists
    .then(function (image) {
      return ui.setPoster.call(player, image.src);
    }).then(function (src) {
      // If the image is padded, use background-size "cover" instead (like youtube does too with their posters)
      if (!src.includes('maxres')) {
        player.elements.poster.style.backgroundSize = 'cover';
      }
    })["catch"](function () {});
    var config = player.config.youtube; // Setup instance
    // https://developers.google.com/youtube/iframe_api_reference

    player.embed = new window.YT.Player(id, {
      videoId: videoId,
      host: getHost(config),
      playerVars: extend({}, {
        autoplay: player.config.autoplay ? 1 : 0,
        // Autoplay
        hl: player.config.hl,
        // iframe interface language
        controls: player.supported.ui ? 0 : 1,
        // Only show controls if not fully supported
        disablekb: 1,
        // Disable keyboard as we handle it
        playsinline: !player.config.fullscreen.iosNative ? 1 : 0,
        // Allow iOS inline playback
        // Captions are flaky on YouTube
        cc_load_policy: player.captions.active ? 1 : 0,
        cc_lang_pref: player.config.captions.language,
        // Tracking for stats
        widget_referrer: window ? window.location.href : null
      }, config),
      events: {
        onError: function onError(event) {
          // YouTube may fire onError twice, so only handle it once
          if (!player.media.error) {
            var code = event.data; // Messages copied from https://developers.google.com/youtube/iframe_api_reference#onError

            var message = {
              2: 'The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.',
              5: 'The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.',
              100: 'The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.',
              101: 'The owner of the requested video does not allow it to be played in embedded players.',
              150: 'The owner of the requested video does not allow it to be played in embedded players.'
            }[code] || 'An unknown error occured';
            player.media.error = {
              code: code,
              message: message
            };
            triggerEvent.call(player, player.media, 'error');
          }
        },
        onPlaybackRateChange: function onPlaybackRateChange(event) {
          // Get the instance
          var instance = event.target; // Get current speed

          player.media.playbackRate = instance.getPlaybackRate();
          triggerEvent.call(player, player.media, 'ratechange');
        },
        onReady: function onReady(event) {
          // Bail if onReady has already been called. See issue #1108
          if (is$1["function"](player.media.play)) {
            return;
          } // Get the instance


          var instance = event.target; // Get the title

          youtube.getTitle.call(player, videoId); // Create a faux HTML5 API using the YouTube API

          player.media.play = function () {
            assurePlaybackState$1.call(player, true);
            instance.playVideo();
          };

          player.media.pause = function () {
            assurePlaybackState$1.call(player, false);
            instance.pauseVideo();
          };

          player.media.stop = function () {
            instance.stopVideo();
          };

          player.media.duration = instance.getDuration();
          player.media.paused = true; // Seeking

          player.media.currentTime = 0;
          Object.defineProperty(player.media, 'currentTime', {
            get: function get() {
              return Number(instance.getCurrentTime());
            },
            set: function set(time) {
              // If paused and never played, mute audio preventively (YouTube starts playing on seek if the video hasn't been played yet).
              if (player.paused && !player.embed.hasPlayed) {
                player.embed.mute();
              } // Set seeking state and trigger event


              player.media.seeking = true;
              triggerEvent.call(player, player.media, 'seeking'); // Seek after events sent

              instance.seekTo(time);
            }
          }); // Playback speed

          Object.defineProperty(player.media, 'playbackRate', {
            get: function get() {
              return instance.getPlaybackRate();
            },
            set: function set(input) {
              instance.setPlaybackRate(input);
            }
          }); // Volume

          var volume = player.config.volume;
          Object.defineProperty(player.media, 'volume', {
            get: function get() {
              return volume;
            },
            set: function set(input) {
              volume = input;
              instance.setVolume(volume * 100);
              triggerEvent.call(player, player.media, 'volumechange');
            }
          }); // Muted

          var muted = player.config.muted;
          Object.defineProperty(player.media, 'muted', {
            get: function get() {
              return muted;
            },
            set: function set(input) {
              var toggle = is$1["boolean"](input) ? input : muted;
              muted = toggle;
              instance[toggle ? 'mute' : 'unMute']();
              triggerEvent.call(player, player.media, 'volumechange');
            }
          }); // Source

          Object.defineProperty(player.media, 'currentSrc', {
            get: function get() {
              return instance.getVideoUrl();
            }
          }); // Ended

          Object.defineProperty(player.media, 'ended', {
            get: function get() {
              return player.currentTime === player.duration;
            }
          }); // Get available speeds

          player.options.speed = instance.getAvailablePlaybackRates(); // Set the tabindex to avoid focus entering iframe

          if (player.supported.ui) {
            player.media.setAttribute('tabindex', -1);
          }

          triggerEvent.call(player, player.media, 'timeupdate');
          triggerEvent.call(player, player.media, 'durationchange'); // Reset timer

          clearInterval(player.timers.buffering); // Setup buffering

          player.timers.buffering = setInterval(function () {
            // Get loaded % from YouTube
            player.media.buffered = instance.getVideoLoadedFraction(); // Trigger progress only when we actually buffer something

            if (player.media.lastBuffered === null || player.media.lastBuffered < player.media.buffered) {
              triggerEvent.call(player, player.media, 'progress');
            } // Set last buffer point


            player.media.lastBuffered = player.media.buffered; // Bail if we're at 100%

            if (player.media.buffered === 1) {
              clearInterval(player.timers.buffering); // Trigger event

              triggerEvent.call(player, player.media, 'canplaythrough');
            }
          }, 200); // Rebuild UI

          setTimeout(function () {
            return ui.build.call(player);
          }, 50);
        },
        onStateChange: function onStateChange(event) {
          // Get the instance
          var instance = event.target; // Reset timer

          clearInterval(player.timers.playing);
          var seeked = player.media.seeking && [1, 2].includes(event.data);

          if (seeked) {
            // Unset seeking and fire seeked event
            player.media.seeking = false;
            triggerEvent.call(player, player.media, 'seeked');
          } // Handle events
          // -1   Unstarted
          // 0    Ended
          // 1    Playing
          // 2    Paused
          // 3    Buffering
          // 5    Video cued


          switch (event.data) {
            case -1:
              // Update scrubber
              triggerEvent.call(player, player.media, 'timeupdate'); // Get loaded % from YouTube

              player.media.buffered = instance.getVideoLoadedFraction();
              triggerEvent.call(player, player.media, 'progress');
              break;

            case 0:
              assurePlaybackState$1.call(player, false); // YouTube doesn't support loop for a single video, so mimick it.

              if (player.media.loop) {
                // YouTube needs a call to `stopVideo` before playing again
                instance.stopVideo();
                instance.playVideo();
              } else {
                triggerEvent.call(player, player.media, 'ended');
              }

              break;

            case 1:
              // Restore paused state (YouTube starts playing on seek if the video hasn't been played yet)
              if (!player.config.autoplay && player.media.paused && !player.embed.hasPlayed) {
                player.media.pause();
              } else {
                assurePlaybackState$1.call(player, true);
                triggerEvent.call(player, player.media, 'playing'); // Poll to get playback progress

                player.timers.playing = setInterval(function () {
                  triggerEvent.call(player, player.media, 'timeupdate');
                }, 50); // Check duration again due to YouTube bug
                // https://github.com/sampotts/plyr/issues/374
                // https://code.google.com/p/gdata-issues/issues/detail?id=8690

                if (player.media.duration !== instance.getDuration()) {
                  player.media.duration = instance.getDuration();
                  triggerEvent.call(player, player.media, 'durationchange');
                }
              }

              break;

            case 2:
              // Restore audio (YouTube starts playing on seek if the video hasn't been played yet)
              if (!player.muted) {
                player.embed.unMute();
              }

              assurePlaybackState$1.call(player, false);
              break;

            default:
              break;
          }

          triggerEvent.call(player, player.elements.container, 'statechange', false, {
            code: event.data
          });
        }
      }
    });
  }
}; // ==========================================================================

var media = {
  // Setup media
  setup: function setup() {
    // If there's no media, bail
    if (!this.media) {
      this.debug.warn('No media element found!');
      return;
    } // Add type class


    toggleClass(this.elements.container, this.config.classNames.type.replace('{0}', this.type), true); // Add provider class

    toggleClass(this.elements.container, this.config.classNames.provider.replace('{0}', this.provider), true); // Add video class for embeds
    // This will require changes if audio embeds are added

    if (this.isEmbed) {
      toggleClass(this.elements.container, this.config.classNames.type.replace('{0}', 'video'), true);
    } // Inject the player wrapper


    if (this.isVideo) {
      // Create the wrapper div
      this.elements.wrapper = createElement('div', {
        "class": this.config.classNames.video
      }); // Wrap the video in a container

      wrap(this.media, this.elements.wrapper); // Faux poster container

      this.elements.poster = createElement('div', {
        "class": this.config.classNames.poster
      });
      this.elements.wrapper.appendChild(this.elements.poster);
    }

    if (this.isHTML5) {
      html5.extend.call(this);
    } else if (this.isYouTube) {
      youtube.setup.call(this);
    } else if (this.isVimeo) {
      vimeo.setup.call(this);
    }
  }
};

var destroy = function destroy(instance) {
  // Destroy our adsManager
  if (instance.manager) {
    instance.manager.destroy();
  } // Destroy our adsManager


  if (instance.elements.displayContainer) {
    instance.elements.displayContainer.destroy();
  }

  instance.elements.container.remove();
};

var Ads =
/*#__PURE__*/
function () {
  /**
   * Ads constructor.
   * @param {Object} player
   * @return {Ads}
   */
  function Ads(player) {
    var _this = this;

    _classCallCheck(this, Ads);

    this.player = player;
    this.config = player.config.ads;
    this.playing = false;
    this.initialized = false;
    this.elements = {
      container: null,
      displayContainer: null
    };
    this.manager = null;
    this.loader = null;
    this.cuePoints = null;
    this.events = {};
    this.safetyTimer = null;
    this.countdownTimer = null; // Setup a promise to resolve when the IMA manager is ready

    this.managerPromise = new Promise(function (resolve, reject) {
      // The ad is loaded and ready
      _this.on('loaded', resolve); // Ads failed


      _this.on('error', reject);
    });
    this.load();
  }

  _createClass(Ads, [{
    key: "load",

    /**
     * Load the IMA SDK
     */
    value: function load() {
      var _this2 = this;

      if (!this.enabled) {
        return;
      } // Check if the Google IMA3 SDK is loaded or load it ourselves


      if (!is$1.object(window.google) || !is$1.object(window.google.ima)) {
        loadScript(this.player.config.urls.googleIMA.sdk).then(function () {
          _this2.ready();
        })["catch"](function () {
          // Script failed to load or is blocked
          _this2.trigger('error', new Error('Google IMA SDK failed to load'));
        });
      } else {
        this.ready();
      }
    }
    /**
     * Get the ads instance ready
     */

  }, {
    key: "ready",
    value: function ready() {
      var _this3 = this; // Double check we're enabled


      if (!this.enabled) {
        destroy(this);
      } // Start ticking our safety timer. If the whole advertisement
      // thing doesn't resolve within our set time; we bail


      this.startSafetyTimer(12000, 'ready()'); // Clear the safety timer

      this.managerPromise.then(function () {
        _this3.clearSafetyTimer('onAdsManagerLoaded()');
      }); // Set listeners on the Plyr instance

      this.listeners(); // Setup the IMA SDK

      this.setupIMA();
    } // Build the tag URL

  }, {
    key: "setupIMA",

    /**
     * In order for the SDK to display ads for our video, we need to tell it where to put them,
     * so here we define our ad container. This div is set up to render on top of the video player.
     * Using the code below, we tell the SDK to render ads within that div. We also provide a
     * handle to the content video player - the SDK will poll the current time of our player to
     * properly place mid-rolls. After we create the ad display container, we initialize it. On
     * mobile devices, this initialization is done as the result of a user action.
     */
    value: function setupIMA() {
      // Create the container for our advertisements
      this.elements.container = createElement('div', {
        "class": this.player.config.classNames.ads
      });
      this.player.elements.container.appendChild(this.elements.container); // So we can run VPAID2

      google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED); // Set language

      google.ima.settings.setLocale(this.player.config.ads.language); // Set playback for iOS10+

      google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline); // We assume the adContainer is the video container of the plyr element that will house the ads

      this.elements.displayContainer = new google.ima.AdDisplayContainer(this.elements.container, this.player.media); // Request video ads to be pre-loaded

      this.requestAds();
    }
    /**
     * Request advertisements
     */

  }, {
    key: "requestAds",
    value: function requestAds() {
      var _this4 = this;

      var container = this.player.elements.container;

      try {
        // Create ads loader
        this.loader = new google.ima.AdsLoader(this.elements.displayContainer); // Listen and respond to ads loaded and error events

        this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, function (event) {
          return _this4.onAdsManagerLoaded(event);
        }, false);
        this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, function (error) {
          return _this4.onAdError(error);
        }, false); // Request video ads

        var request = new google.ima.AdsRequest();
        request.adTagUrl = this.tagUrl; // Specify the linear and nonlinear slot sizes. This helps the SDK
        // to select the correct creative if multiple are returned

        request.linearAdSlotWidth = container.offsetWidth;
        request.linearAdSlotHeight = container.offsetHeight;
        request.nonLinearAdSlotWidth = container.offsetWidth;
        request.nonLinearAdSlotHeight = container.offsetHeight; // We only overlay ads as we only support video.

        request.forceNonLinearFullSlot = false; // Mute based on current state

        request.setAdWillPlayMuted(!this.player.muted);
        this.loader.requestAds(request);
      } catch (e) {
        this.onAdError(e);
      }
    }
    /**
     * Update the ad countdown
     * @param {Boolean} start
     */

  }, {
    key: "pollCountdown",
    value: function pollCountdown() {
      var _this5 = this;

      var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      if (!start) {
        clearInterval(this.countdownTimer);
        this.elements.container.removeAttribute('data-badge-text');
        return;
      }

      var update = function update() {
        var time = formatTime(Math.max(_this5.manager.getRemainingTime(), 0));
        var label = "".concat(i18n.get('advertisement', _this5.player.config), " - ").concat(time);

        _this5.elements.container.setAttribute('data-badge-text', label);
      };

      this.countdownTimer = setInterval(update, 100);
    }
    /**
     * This method is called whenever the ads are ready inside the AdDisplayContainer
     * @param {Event} adsManagerLoadedEvent
     */

  }, {
    key: "onAdsManagerLoaded",
    value: function onAdsManagerLoaded(event) {
      var _this6 = this; // Load could occur after a source change (race condition)


      if (!this.enabled) {
        return;
      } // Get the ads manager


      var settings = new google.ima.AdsRenderingSettings(); // Tell the SDK to save and restore content video state on our behalf

      settings.restoreCustomPlaybackStateOnAdBreakComplete = true;
      settings.enablePreloading = true; // The SDK is polling currentTime on the contentPlayback. And needs a duration
      // so it can determine when to start the mid- and post-roll

      this.manager = event.getAdsManager(this.player, settings); // Get the cue points for any mid-rolls by filtering out the pre- and post-roll

      this.cuePoints = this.manager.getCuePoints(); // Add listeners to the required events
      // Advertisement error events

      this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, function (error) {
        return _this6.onAdError(error);
      }); // Advertisement regular events

      Object.keys(google.ima.AdEvent.Type).forEach(function (type) {
        _this6.manager.addEventListener(google.ima.AdEvent.Type[type], function (e) {
          return _this6.onAdEvent(e);
        });
      }); // Resolve our adsManager

      this.trigger('loaded');
    }
  }, {
    key: "addCuePoints",
    value: function addCuePoints() {
      var _this7 = this; // Add advertisement cue's within the time line if available


      if (!is$1.empty(this.cuePoints)) {
        this.cuePoints.forEach(function (cuePoint) {
          if (cuePoint !== 0 && cuePoint !== -1 && cuePoint < _this7.player.duration) {
            var seekElement = _this7.player.elements.progress;

            if (is$1.element(seekElement)) {
              var cuePercentage = 100 / _this7.player.duration * cuePoint;
              var cue = createElement('span', {
                "class": _this7.player.config.classNames.cues
              });
              cue.style.left = "".concat(cuePercentage.toString(), "%");
              seekElement.appendChild(cue);
            }
          }
        });
      }
    }
    /**
     * This is where all the event handling takes place. Retrieve the ad from the event. Some
     * events (e.g. ALL_ADS_COMPLETED) don't have the ad object associated
     * https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/apis#ima.AdEvent.Type
     * @param {Event} event
     */

  }, {
    key: "onAdEvent",
    value: function onAdEvent(event) {
      var _this8 = this;

      var container = this.player.elements.container; // Retrieve the ad from the event. Some events (e.g. ALL_ADS_COMPLETED)
      // don't have ad object associated

      var ad = event.getAd();
      var adData = event.getAdData(); // Proxy event

      var dispatchEvent = function dispatchEvent(type) {
        triggerEvent.call(_this8.player, _this8.player.media, "ads".concat(type.replace(/_/g, '').toLowerCase()));
      }; // Bubble the event


      dispatchEvent(event.type);

      switch (event.type) {
        case google.ima.AdEvent.Type.LOADED:
          // This is the first event sent for an ad - it is possible to determine whether the
          // ad is a video ad or an overlay
          this.trigger('loaded'); // Start countdown

          this.pollCountdown(true);

          if (!ad.isLinear()) {
            // Position AdDisplayContainer correctly for overlay
            ad.width = container.offsetWidth;
            ad.height = container.offsetHeight;
          } // console.info('Ad type: ' + event.getAd().getAdPodInfo().getPodIndex());
          // console.info('Ad time: ' + event.getAd().getAdPodInfo().getTimeOffset());


          break;

        case google.ima.AdEvent.Type.STARTED:
          // Set volume to match player
          this.manager.setVolume(this.player.volume);
          break;

        case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:
          // All ads for the current videos are done. We can now request new advertisements
          // in case the video is re-played
          // TODO: Example for what happens when a next video in a playlist would be loaded.
          // So here we load a new video when all ads are done.
          // Then we load new ads within a new adsManager. When the video
          // Is started - after - the ads are loaded, then we get ads.
          // You can also easily test cancelling and reloading by running
          // player.ads.cancel() and player.ads.play from the console I guess.
          // this.player.source = {
          //     type: 'video',
          //     title: 'View From A Blue Moon',
          //     sources: [{
          //         src:
          // 'https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.mp4', type:
          // 'video/mp4', }], poster:
          // 'https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg', tracks:
          // [ { kind: 'captions', label: 'English', srclang: 'en', src:
          // 'https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.en.vtt',
          // default: true, }, { kind: 'captions', label: 'French', srclang: 'fr', src:
          // 'https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.fr.vtt', }, ],
          // };
          // TODO: So there is still this thing where a video should only be allowed to start
          // playing when the IMA SDK is ready or has failed
          this.loadAds();
          break;

        case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:
          // This event indicates the ad has started - the video player can adjust the UI,
          // for example display a pause button and remaining time. Fired when content should
          // be paused. This usually happens right before an ad is about to cover the content
          this.pauseContent();
          break;

        case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:
          // This event indicates the ad has finished - the video player can perform
          // appropriate UI actions, such as removing the timer for remaining time detection.
          // Fired when content should be resumed. This usually happens when an ad finishes
          // or collapses
          this.pollCountdown();
          this.resumeContent();
          break;

        case google.ima.AdEvent.Type.LOG:
          if (adData.adError) {
            this.player.debug.warn("Non-fatal ad error: ".concat(adData.adError.getMessage()));
          }

          break;

        default:
          break;
      }
    }
    /**
     * Any ad error handling comes through here
     * @param {Event} event
     */

  }, {
    key: "onAdError",
    value: function onAdError(event) {
      this.cancel();
      this.player.debug.warn('Ads error', event);
    }
    /**
     * Setup hooks for Plyr and window events. This ensures
     * the mid- and post-roll launch at the correct time. And
     * resize the advertisement when the player resizes
     */

  }, {
    key: "listeners",
    value: function listeners() {
      var _this9 = this;

      var container = this.player.elements.container;
      var time;
      this.player.on('canplay', function () {
        _this9.addCuePoints();
      });
      this.player.on('ended', function () {
        _this9.loader.contentComplete();
      });
      this.player.on('timeupdate', function () {
        time = _this9.player.currentTime;
      });
      this.player.on('seeked', function () {
        var seekedTime = _this9.player.currentTime;

        if (is$1.empty(_this9.cuePoints)) {
          return;
        }

        _this9.cuePoints.forEach(function (cuePoint, index) {
          if (time < cuePoint && cuePoint < seekedTime) {
            _this9.manager.discardAdBreak();

            _this9.cuePoints.splice(index, 1);
          }
        });
      }); // Listen to the resizing of the window. And resize ad accordingly
      // TODO: eventually implement ResizeObserver

      window.addEventListener('resize', function () {
        if (_this9.manager) {
          _this9.manager.resize(container.offsetWidth, container.offsetHeight, google.ima.ViewMode.NORMAL);
        }
      });
    }
    /**
     * Initialize the adsManager and start playing advertisements
     */

  }, {
    key: "play",
    value: function play() {
      var _this10 = this;

      var container = this.player.elements.container;

      if (!this.managerPromise) {
        this.resumeContent();
      } // Play the requested advertisement whenever the adsManager is ready


      this.managerPromise.then(function () {
        // Set volume to match player
        _this10.manager.setVolume(_this10.player.volume); // Initialize the container. Must be done via a user action on mobile devices


        _this10.elements.displayContainer.initialize();

        try {
          if (!_this10.initialized) {
            // Initialize the ads manager. Ad rules playlist will start at this time
            _this10.manager.init(container.offsetWidth, container.offsetHeight, google.ima.ViewMode.NORMAL); // Call play to start showing the ad. Single video and overlay ads will
            // start at this time; the call will be ignored for ad rules


            _this10.manager.start();
          }

          _this10.initialized = true;
        } catch (adError) {
          // An error may be thrown if there was a problem with the
          // VAST response
          _this10.onAdError(adError);
        }
      })["catch"](function () {});
    }
    /**
     * Resume our video
     */

  }, {
    key: "resumeContent",
    value: function resumeContent() {
      // Hide the advertisement container
      this.elements.container.style.zIndex = ''; // Ad is stopped

      this.playing = false; // Play video

      this.player.media.play();
    }
    /**
     * Pause our video
     */

  }, {
    key: "pauseContent",
    value: function pauseContent() {
      // Show the advertisement container
      this.elements.container.style.zIndex = 3; // Ad is playing

      this.playing = true; // Pause our video.

      this.player.media.pause();
    }
    /**
     * Destroy the adsManager so we can grab new ads after this. If we don't then we're not
     * allowed to call new ads based on google policies, as they interpret this as an accidental
     * video requests. https://developers.google.com/interactive-
     * media-ads/docs/sdks/android/faq#8
     */

  }, {
    key: "cancel",
    value: function cancel() {
      // Pause our video
      if (this.initialized) {
        this.resumeContent();
      } // Tell our instance that we're done for now


      this.trigger('error'); // Re-create our adsManager

      this.loadAds();
    }
    /**
     * Re-create our adsManager
     */

  }, {
    key: "loadAds",
    value: function loadAds() {
      var _this11 = this; // Tell our adsManager to go bye bye


      this.managerPromise.then(function () {
        // Destroy our adsManager
        if (_this11.manager) {
          _this11.manager.destroy();
        } // Re-set our adsManager promises


        _this11.managerPromise = new Promise(function (resolve) {
          _this11.on('loaded', resolve);

          _this11.player.debug.log(_this11.manager);
        }); // Now request some new advertisements

        _this11.requestAds();
      })["catch"](function () {});
    }
    /**
     * Handles callbacks after an ad event was invoked
     * @param {String} event - Event type
     */

  }, {
    key: "trigger",
    value: function trigger(event) {
      var _this12 = this;

      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      var handlers = this.events[event];

      if (is$1.array(handlers)) {
        handlers.forEach(function (handler) {
          if (is$1["function"](handler)) {
            handler.apply(_this12, args);
          }
        });
      }
    }
    /**
     * Add event listeners
     * @param {String} event - Event type
     * @param {Function} callback - Callback for when event occurs
     * @return {Ads}
     */

  }, {
    key: "on",
    value: function on(event, callback) {
      if (!is$1.array(this.events[event])) {
        this.events[event] = [];
      }

      this.events[event].push(callback);
      return this;
    }
    /**
     * Setup a safety timer for when the ad network doesn't respond for whatever reason.
     * The advertisement has 12 seconds to get its things together. We stop this timer when the
     * advertisement is playing, or when a user action is required to start, then we clear the
     * timer on ad ready
     * @param {Number} time
     * @param {String} from
     */

  }, {
    key: "startSafetyTimer",
    value: function startSafetyTimer(time, from) {
      var _this13 = this;

      this.player.debug.log("Safety timer invoked from: ".concat(from));
      this.safetyTimer = setTimeout(function () {
        _this13.cancel();

        _this13.clearSafetyTimer('startSafetyTimer()');
      }, time);
    }
    /**
     * Clear our safety timer(s)
     * @param {String} from
     */

  }, {
    key: "clearSafetyTimer",
    value: function clearSafetyTimer(from) {
      if (!is$1.nullOrUndefined(this.safetyTimer)) {
        this.player.debug.log("Safety timer cleared from: ".concat(from));
        clearTimeout(this.safetyTimer);
        this.safetyTimer = null;
      }
    }
  }, {
    key: "enabled",
    get: function get() {
      var config = this.config;
      return this.player.isHTML5 && this.player.isVideo && config.enabled && (!is$1.empty(config.publisherId) || is$1.url(config.tagUrl));
    }
  }, {
    key: "tagUrl",
    get: function get() {
      var config = this.config;

      if (is$1.url(config.tagUrl)) {
        return config.tagUrl;
      }

      var params = {
        AV_PUBLISHERID: '58c25bb0073ef448b1087ad6',
        AV_CHANNELID: '5a0458dc28a06145e4519d21',
        AV_URL: window.location.hostname,
        cb: Date.now(),
        AV_WIDTH: 640,
        AV_HEIGHT: 480,
        AV_CDIM2: this.publisherId
      };
      var base = 'https://go.aniview.com/api/adserver6/vast/';
      return "".concat(base, "?").concat(buildUrlParams(params));
    }
  }]);

  return Ads;
}();

var parseVtt = function parseVtt(vttDataString) {
  var processedList = [];
  var frames = vttDataString.split(/\r\n\r\n|\n\n|\r\r/);
  frames.forEach(function (frame) {
    var result = {};
    var lines = frame.split(/\r\n|\n|\r/);
    lines.forEach(function (line) {
      if (!is$1.number(result.startTime)) {
        // The line with start and end times on it is the first line of interest
        var matchTimes = line.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/); // Note that this currently ignores caption formatting directives that are optionally on the end of this line - fine for non-captions VTT

        if (matchTimes) {
          result.startTime = Number(matchTimes[1] || 0) * 60 * 60 + Number(matchTimes[2]) * 60 + Number(matchTimes[3]) + Number("0.".concat(matchTimes[4]));
          result.endTime = Number(matchTimes[6] || 0) * 60 * 60 + Number(matchTimes[7]) * 60 + Number(matchTimes[8]) + Number("0.".concat(matchTimes[9]));
        }
      } else if (!is$1.empty(line.trim()) && is$1.empty(result.text)) {
        // If we already have the startTime, then we're definitely up to the text line(s)
        var lineSplit = line.trim().split('#xywh=');

        var _lineSplit = _slicedToArray(lineSplit, 1);

        result.text = _lineSplit[0]; // If there's content in lineSplit[1], then we have sprites. If not, then it's just one frame per image

        if (lineSplit[1]) {
          var _lineSplit$1$split = lineSplit[1].split(',');

          var _lineSplit$1$split2 = _slicedToArray(_lineSplit$1$split, 4);

          result.x = _lineSplit$1$split2[0];
          result.y = _lineSplit$1$split2[1];
          result.w = _lineSplit$1$split2[2];
          result.h = _lineSplit$1$split2[3];
        }
      }
    });

    if (result.text) {
      processedList.push(result);
    }
  });
  return processedList;
};
/**
 * Preview thumbnails for seek hover and scrubbing
 * Seeking: Hover over the seek bar (desktop only): shows a small preview container above the seek bar
 * Scrubbing: Click and drag the seek bar (desktop and mobile): shows the preview image over the entire video, as if the video is scrubbing at very high speed
 *
 * Notes:
 * - Thumbs are set via JS settings on Plyr init, not HTML5 'track' property. Using the track property would be a bit gross, because it doesn't support custom 'kinds'. kind=metadata might be used for something else, and we want to allow multiple thumbnails tracks. Tracks must have a unique combination of 'kind' and 'label'. We would have to do something like kind=metadata,label=thumbnails1 / kind=metadata,label=thumbnails2. Square peg, round hole
 * - VTT info: the image URL is relative to the VTT, not the current document. But if the url starts with a slash, it will naturally be relative to the current domain. https://support.jwplayer.com/articles/how-to-add-preview-thumbnails
 * - This implementation uses multiple separate img elements. Other implementations use background-image on one element. This would be nice and simple, but Firefox and Safari have flickering issues with replacing backgrounds of larger images. It seems that YouTube perhaps only avoids this because they don't have the option for high-res previews (even the fullscreen ones, when mousedown/seeking). Images appear over the top of each other, and previous ones are discarded once the new ones have been rendered
 */


var PreviewThumbnails =
/*#__PURE__*/
function () {
  /**
   * PreviewThumbnails constructor.
   * @param {Plyr} player
   * @return {PreviewThumbnails}
   */
  function PreviewThumbnails(player) {
    _classCallCheck(this, PreviewThumbnails);

    this.player = player;
    this.thumbnails = [];
    this.loaded = false;
    this.lastMouseMoveTime = Date.now();
    this.mouseDown = false;
    this.loadedImages = [];
    this.elements = {
      thumb: {},
      scrubbing: {}
    };
    this.load();
  }

  _createClass(PreviewThumbnails, [{
    key: "load",
    value: function load() {
      var _this = this; // Togglethe regular seek tooltip


      if (this.player.elements.display.seekTooltip) {
        this.player.elements.display.seekTooltip.hidden = this.enabled;
      }

      if (!this.enabled) {
        return;
      }

      this.getThumbnails().then(function () {
        if (!_this.enabled) {
          return;
        } // Render DOM elements


        _this.render(); // Check to see if thumb container size was specified manually in CSS


        _this.determineContainerAutoSizing();

        _this.loaded = true;
      });
    } // Download VTT files and parse them

  }, {
    key: "getThumbnails",
    value: function getThumbnails() {
      var _this2 = this;

      return new Promise(function (resolve) {
        var src = _this2.player.config.previewThumbnails.src;

        if (is$1.empty(src)) {
          throw new Error('Missing previewThumbnails.src config attribute');
        } // If string, convert into single-element list


        var urls = is$1.string(src) ? [src] : src; // Loop through each src URL. Download and process the VTT file, storing the resulting data in this.thumbnails

        var promises = urls.map(function (u) {
          return _this2.getThumbnail(u);
        });
        Promise.all(promises).then(function () {
          // Sort smallest to biggest (e.g., [120p, 480p, 1080p])
          _this2.thumbnails.sort(function (x, y) {
            return x.height - y.height;
          });

          _this2.player.debug.log('Preview thumbnails', _this2.thumbnails);

          resolve();
        });
      });
    } // Process individual VTT file

  }, {
    key: "getThumbnail",
    value: function getThumbnail(url) {
      var _this3 = this;

      return new Promise(function (resolve) {
        fetch(url).then(function (response) {
          var thumbnail = {
            frames: parseVtt(response),
            height: null,
            urlPrefix: ''
          }; // If the URLs don't start with '/', then we need to set their relative path to be the location of the VTT file
          // If the URLs do start with '/', then they obviously don't need a prefix, so it will remain blank
          // If the thumbnail URLs start with with none of '/', 'http://' or 'https://', then we need to set their relative path to be the location of the VTT file

          if (!thumbnail.frames[0].text.startsWith('/') && !thumbnail.frames[0].text.startsWith('http://') && !thumbnail.frames[0].text.startsWith('https://')) {
            thumbnail.urlPrefix = url.substring(0, url.lastIndexOf('/') + 1);
          } // Download the first frame, so that we can determine/set the height of this thumbnailsDef


          var tempImage = new Image();

          tempImage.onload = function () {
            thumbnail.height = tempImage.naturalHeight;
            thumbnail.width = tempImage.naturalWidth;

            _this3.thumbnails.push(thumbnail);

            resolve();
          };

          tempImage.src = thumbnail.urlPrefix + thumbnail.frames[0].text;
        });
      });
    }
  }, {
    key: "startMove",
    value: function startMove(event) {
      if (!this.loaded) {
        return;
      }

      if (!is$1.event(event) || !['touchmove', 'mousemove'].includes(event.type)) {
        return;
      } // Wait until media has a duration


      if (!this.player.media.duration) {
        return;
      }

      if (event.type === 'touchmove') {
        // Calculate seek hover position as approx video seconds
        this.seekTime = this.player.media.duration * (this.player.elements.inputs.seek.value / 100);
      } else {
        // Calculate seek hover position as approx video seconds
        var clientRect = this.player.elements.progress.getBoundingClientRect();
        var percentage = 100 / clientRect.width * (event.pageX - clientRect.left);
        this.seekTime = this.player.media.duration * (percentage / 100);

        if (this.seekTime < 0) {
          // The mousemove fires for 10+px out to the left
          this.seekTime = 0;
        }

        if (this.seekTime > this.player.media.duration - 1) {
          // Took 1 second off the duration for safety, because different players can disagree on the real duration of a video
          this.seekTime = this.player.media.duration - 1;
        }

        this.mousePosX = event.pageX; // Set time text inside image container

        this.elements.thumb.time.innerText = formatTime(this.seekTime);
      } // Download and show image


      this.showImageAtCurrentTime();
    }
  }, {
    key: "endMove",
    value: function endMove() {
      this.toggleThumbContainer(false, true);
    }
  }, {
    key: "startScrubbing",
    value: function startScrubbing(event) {
      // Only act on left mouse button (0), or touch device (event.button is false)
      if (event.button === false || event.button === 0) {
        this.mouseDown = true; // Wait until media has a duration

        if (this.player.media.duration) {
          this.toggleScrubbingContainer(true);
          this.toggleThumbContainer(false, true); // Download and show image

          this.showImageAtCurrentTime();
        }
      }
    }
  }, {
    key: "endScrubbing",
    value: function endScrubbing() {
      var _this4 = this;

      this.mouseDown = false; // Hide scrubbing preview. But wait until the video has successfully seeked before hiding the scrubbing preview

      if (Math.ceil(this.lastTime) === Math.ceil(this.player.media.currentTime)) {
        // The video was already seeked/loaded at the chosen time - hide immediately
        this.toggleScrubbingContainer(false);
      } else {
        // The video hasn't seeked yet. Wait for that
        once.call(this.player, this.player.media, 'timeupdate', function () {
          // Re-check mousedown - we might have already started scrubbing again
          if (!_this4.mouseDown) {
            _this4.toggleScrubbingContainer(false);
          }
        });
      }
    }
    /**
     * Setup hooks for Plyr and window events
     */

  }, {
    key: "listeners",
    value: function listeners() {
      var _this5 = this; // Hide thumbnail preview - on mouse click, mouse leave (in listeners.js for now), and video play/seek. All four are required, e.g., for buffering


      this.player.on('play', function () {
        _this5.toggleThumbContainer(false, true);
      });
      this.player.on('seeked', function () {
        _this5.toggleThumbContainer(false);
      });
      this.player.on('timeupdate', function () {
        _this5.lastTime = _this5.player.media.currentTime;
      });
    }
    /**
     * Create HTML elements for image containers
     */

  }, {
    key: "render",
    value: function render() {
      // Create HTML element: plyr__preview-thumbnail-container
      this.elements.thumb.container = createElement('div', {
        "class": this.player.config.classNames.previewThumbnails.thumbContainer
      }); // Wrapper for the image for styling

      this.elements.thumb.imageContainer = createElement('div', {
        "class": this.player.config.classNames.previewThumbnails.imageContainer
      });
      this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer); // Create HTML element, parent+span: time text (e.g., 01:32:00)

      var timeContainer = createElement('div', {
        "class": this.player.config.classNames.previewThumbnails.timeContainer
      });
      this.elements.thumb.time = createElement('span', {}, '00:00');
      timeContainer.appendChild(this.elements.thumb.time);
      this.elements.thumb.container.appendChild(timeContainer); // Inject the whole thumb

      if (is$1.element(this.player.elements.progress)) {
        this.player.elements.progress.appendChild(this.elements.thumb.container);
      } // Create HTML element: plyr__preview-scrubbing-container


      this.elements.scrubbing.container = createElement('div', {
        "class": this.player.config.classNames.previewThumbnails.scrubbingContainer
      });
      this.player.elements.wrapper.appendChild(this.elements.scrubbing.container);
    }
  }, {
    key: "showImageAtCurrentTime",
    value: function showImageAtCurrentTime() {
      var _this6 = this;

      if (this.mouseDown) {
        this.setScrubbingContainerSize();
      } else {
        this.setThumbContainerSizeAndPos();
      } // Find the desired thumbnail index
      // TODO: Handle a video longer than the thumbs where thumbNum is null


      var thumbNum = this.thumbnails[0].frames.findIndex(function (frame) {
        return _this6.seekTime >= frame.startTime && _this6.seekTime <= frame.endTime;
      });
      var hasThumb = thumbNum >= 0;
      var qualityIndex = 0; // Show the thumb container if we're not scrubbing

      if (!this.mouseDown) {
        this.toggleThumbContainer(hasThumb);
      } // No matching thumb found


      if (!hasThumb) {
        return;
      } // Check to see if we've already downloaded higher quality versions of this image


      this.thumbnails.forEach(function (thumbnail, index) {
        if (_this6.loadedImages.includes(thumbnail.frames[thumbNum].text)) {
          qualityIndex = index;
        }
      }); // Only proceed if either thumbnum or thumbfilename has changed

      if (thumbNum !== this.showingThumb) {
        this.showingThumb = thumbNum;
        this.loadImage(qualityIndex);
      }
    } // Show the image that's currently specified in this.showingThumb

  }, {
    key: "loadImage",
    value: function loadImage() {
      var _this7 = this;

      var qualityIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      var thumbNum = this.showingThumb;
      var thumbnail = this.thumbnails[qualityIndex];
      var urlPrefix = thumbnail.urlPrefix;
      var frame = thumbnail.frames[thumbNum];
      var thumbFilename = thumbnail.frames[thumbNum].text;
      var thumbUrl = urlPrefix + thumbFilename;

      if (!this.currentImageElement || this.currentImageElement.dataset.filename !== thumbFilename) {
        // If we're already loading a previous image, remove its onload handler - we don't want it to load after this one
        // Only do this if not using sprites. Without sprites we really want to show as many images as possible, as a best-effort
        if (this.loadingImage && this.usingSprites) {
          this.loadingImage.onload = null;
        } // We're building and adding a new image. In other implementations of similar functionality (YouTube), background image
        // is instead used. But this causes issues with larger images in Firefox and Safari - switching between background
        // images causes a flicker. Putting a new image over the top does not


        var previewImage = new Image();
        previewImage.src = thumbUrl;
        previewImage.dataset.index = thumbNum;
        previewImage.dataset.filename = thumbFilename;
        this.showingThumbFilename = thumbFilename;
        this.player.debug.log("Loading image: ".concat(thumbUrl)); // For some reason, passing the named function directly causes it to execute immediately. So I've wrapped it in an anonymous function...

        previewImage.onload = function () {
          return _this7.showImage(previewImage, frame, qualityIndex, thumbNum, thumbFilename, true);
        };

        this.loadingImage = previewImage;
        this.removeOldImages(previewImage);
      } else {
        // Update the existing image
        this.showImage(this.currentImageElement, frame, qualityIndex, thumbNum, thumbFilename, false);
        this.currentImageElement.dataset.index = thumbNum;
        this.removeOldImages(this.currentImageElement);
      }
    }
  }, {
    key: "showImage",
    value: function showImage(previewImage, frame, qualityIndex, thumbNum, thumbFilename) {
      var newImage = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;
      this.player.debug.log("Showing thumb: ".concat(thumbFilename, ". num: ").concat(thumbNum, ". qual: ").concat(qualityIndex, ". newimg: ").concat(newImage));
      this.setImageSizeAndOffset(previewImage, frame);

      if (newImage) {
        this.currentImageContainer.appendChild(previewImage);
        this.currentImageElement = previewImage;

        if (!this.loadedImages.includes(thumbFilename)) {
          this.loadedImages.push(thumbFilename);
        }
      } // Preload images before and after the current one
      // Show higher quality of the same frame
      // Each step here has a short time delay, and only continues if still hovering/seeking the same spot. This is to protect slow connections from overloading


      this.preloadNearby(thumbNum, true).then(this.preloadNearby(thumbNum, false)).then(this.getHigherQuality(qualityIndex, previewImage, frame, thumbFilename));
    } // Remove all preview images that aren't the designated current image

  }, {
    key: "removeOldImages",
    value: function removeOldImages(currentImage) {
      var _this8 = this; // Get a list of all images, convert it from a DOM list to an array


      Array.from(this.currentImageContainer.children).forEach(function (image) {
        if (image.tagName.toLowerCase() !== 'img') {
          return;
        }

        var removeDelay = _this8.usingSprites ? 500 : 1000;

        if (image.dataset.index !== currentImage.dataset.index && !image.dataset.deleting) {
          // Wait 200ms, as the new image can take some time to show on certain browsers (even though it was downloaded before showing). This will prevent flicker, and show some generosity towards slower clients
          // First set attribute 'deleting' to prevent multi-handling of this on repeat firing of this function
          // eslint-disable-next-line no-param-reassign
          image.dataset.deleting = true; // This has to be set before the timeout - to prevent issues switching between hover and scrub

          var currentImageContainer = _this8.currentImageContainer;
          setTimeout(function () {
            currentImageContainer.removeChild(image);

            _this8.player.debug.log("Removing thumb: ".concat(image.dataset.filename));
          }, removeDelay);
        }
      });
    } // Preload images before and after the current one. Only if the user is still hovering/seeking the same frame
    // This will only preload the lowest quality

  }, {
    key: "preloadNearby",
    value: function preloadNearby(thumbNum) {
      var _this9 = this;

      var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      return new Promise(function (resolve) {
        setTimeout(function () {
          var oldThumbFilename = _this9.thumbnails[0].frames[thumbNum].text;

          if (_this9.showingThumbFilename === oldThumbFilename) {
            // Find the nearest thumbs with different filenames. Sometimes it'll be the next index, but in the case of sprites, it might be 100+ away
            var thumbnailsClone;

            if (forward) {
              thumbnailsClone = _this9.thumbnails[0].frames.slice(thumbNum);
            } else {
              thumbnailsClone = _this9.thumbnails[0].frames.slice(0, thumbNum).reverse();
            }

            var foundOne = false;
            thumbnailsClone.forEach(function (frame) {
              var newThumbFilename = frame.text;

              if (newThumbFilename !== oldThumbFilename) {
                // Found one with a different filename. Make sure it hasn't already been loaded on this page visit
                if (!_this9.loadedImages.includes(newThumbFilename)) {
                  foundOne = true;

                  _this9.player.debug.log("Preloading thumb filename: ".concat(newThumbFilename));

                  var urlPrefix = _this9.thumbnails[0].urlPrefix;
                  var thumbURL = urlPrefix + newThumbFilename;
                  var previewImage = new Image();
                  previewImage.src = thumbURL;

                  previewImage.onload = function () {
                    _this9.player.debug.log("Preloaded thumb filename: ".concat(newThumbFilename));

                    if (!_this9.loadedImages.includes(newThumbFilename)) _this9.loadedImages.push(newThumbFilename); // We don't resolve until the thumb is loaded

                    resolve();
                  };
                }
              }
            }); // If there are none to preload then we want to resolve immediately

            if (!foundOne) {
              resolve();
            }
          }
        }, 300);
      });
    } // If user has been hovering current image for half a second, look for a higher quality one

  }, {
    key: "getHigherQuality",
    value: function getHigherQuality(currentQualityIndex, previewImage, frame, thumbFilename) {
      var _this10 = this;

      if (currentQualityIndex < this.thumbnails.length - 1) {
        // Only use the higher quality version if it's going to look any better - if the current thumb is of a lower pixel density than the thumbnail container
        var previewImageHeight = previewImage.naturalHeight;

        if (this.usingSprites) {
          previewImageHeight = frame.h;
        }

        if (previewImageHeight < this.thumbContainerHeight) {
          // Recurse back to the loadImage function - show a higher quality one, but only if the viewer is on this frame for a while
          setTimeout(function () {
            // Make sure the mouse hasn't already moved on and started hovering at another image
            if (_this10.showingThumbFilename === thumbFilename) {
              _this10.player.debug.log("Showing higher quality thumb for: ".concat(thumbFilename));

              _this10.loadImage(currentQualityIndex + 1);
            }
          }, 300);
        }
      }
    }
  }, {
    key: "toggleThumbContainer",
    value: function toggleThumbContainer() {
      var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      var clearShowing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var className = this.player.config.classNames.previewThumbnails.thumbContainerShown;
      this.elements.thumb.container.classList.toggle(className, toggle);

      if (!toggle && clearShowing) {
        this.showingThumb = null;
        this.showingThumbFilename = null;
      }
    }
  }, {
    key: "toggleScrubbingContainer",
    value: function toggleScrubbingContainer() {
      var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      var className = this.player.config.classNames.previewThumbnails.scrubbingContainerShown;
      this.elements.scrubbing.container.classList.toggle(className, toggle);

      if (!toggle) {
        this.showingThumb = null;
        this.showingThumbFilename = null;
      }
    }
  }, {
    key: "determineContainerAutoSizing",
    value: function determineContainerAutoSizing() {
      if (this.elements.thumb.imageContainer.clientHeight > 20) {
        // This will prevent auto sizing in this.setThumbContainerSizeAndPos()
        this.sizeSpecifiedInCSS = true;
      }
    } // Set the size to be about a quarter of the size of video. Unless option dynamicSize === false, in which case it needs to be set in CSS

  }, {
    key: "setThumbContainerSizeAndPos",
    value: function setThumbContainerSizeAndPos() {
      if (!this.sizeSpecifiedInCSS) {
        var thumbWidth = Math.floor(this.thumbContainerHeight * this.thumbAspectRatio);
        this.elements.thumb.imageContainer.style.height = "".concat(this.thumbContainerHeight, "px");
        this.elements.thumb.imageContainer.style.width = "".concat(thumbWidth, "px");
      }

      this.setThumbContainerPos();
    }
  }, {
    key: "setThumbContainerPos",
    value: function setThumbContainerPos() {
      var seekbarRect = this.player.elements.progress.getBoundingClientRect();
      var plyrRect = this.player.elements.container.getBoundingClientRect();
      var container = this.elements.thumb.container; // Find the lowest and highest desired left-position, so we don't slide out the side of the video container

      var minVal = plyrRect.left - seekbarRect.left + 10;
      var maxVal = plyrRect.right - seekbarRect.left - container.clientWidth - 10; // Set preview container position to: mousepos, minus seekbar.left, minus half of previewContainer.clientWidth

      var previewPos = this.mousePosX - seekbarRect.left - container.clientWidth / 2;

      if (previewPos < minVal) {
        previewPos = minVal;
      }

      if (previewPos > maxVal) {
        previewPos = maxVal;
      }

      container.style.left = "".concat(previewPos, "px");
    } // Can't use 100% width, in case the video is a different aspect ratio to the video container

  }, {
    key: "setScrubbingContainerSize",
    value: function setScrubbingContainerSize() {
      this.elements.scrubbing.container.style.width = "".concat(this.player.media.clientWidth, "px"); // Can't use media.clientHeight - html5 video goes big and does black bars above and below

      this.elements.scrubbing.container.style.height = "".concat(this.player.media.clientWidth / this.thumbAspectRatio, "px");
    } // Sprites need to be offset to the correct location

  }, {
    key: "setImageSizeAndOffset",
    value: function setImageSizeAndOffset(previewImage, frame) {
      if (!this.usingSprites) {
        return;
      } // Find difference between height and preview container height


      var multiplier = this.thumbContainerHeight / frame.h; // eslint-disable-next-line no-param-reassign

      previewImage.style.height = "".concat(Math.floor(previewImage.naturalHeight * multiplier), "px"); // eslint-disable-next-line no-param-reassign

      previewImage.style.width = "".concat(Math.floor(previewImage.naturalWidth * multiplier), "px"); // eslint-disable-next-line no-param-reassign

      previewImage.style.left = "-".concat(frame.x * multiplier, "px"); // eslint-disable-next-line no-param-reassign

      previewImage.style.top = "-".concat(frame.y * multiplier, "px");
    }
  }, {
    key: "enabled",
    get: function get() {
      return this.player.isHTML5 && this.player.isVideo && this.player.config.previewThumbnails.enabled;
    }
  }, {
    key: "currentImageContainer",
    get: function get() {
      if (this.mouseDown) {
        return this.elements.scrubbing.container;
      }

      return this.elements.thumb.imageContainer;
    }
  }, {
    key: "usingSprites",
    get: function get() {
      return Object.keys(this.thumbnails[0].frames[0]).includes('w');
    }
  }, {
    key: "thumbAspectRatio",
    get: function get() {
      if (this.usingSprites) {
        return this.thumbnails[0].frames[0].w / this.thumbnails[0].frames[0].h;
      }

      return this.thumbnails[0].width / this.thumbnails[0].height;
    }
  }, {
    key: "thumbContainerHeight",
    get: function get() {
      if (this.mouseDown) {
        // Can't use media.clientHeight - HTML5 video goes big and does black bars above and below
        return Math.floor(this.player.media.clientWidth / this.thumbAspectRatio);
      }

      return Math.floor(this.player.media.clientWidth / this.thumbAspectRatio / 4);
    }
  }, {
    key: "currentImageElement",
    get: function get() {
      if (this.mouseDown) {
        return this.currentScrubbingImageElement;
      }

      return this.currentThumbnailImageElement;
    },
    set: function set(element) {
      if (this.mouseDown) {
        this.currentScrubbingImageElement = element;
      } else {
        this.currentThumbnailImageElement = element;
      }
    }
  }]);

  return PreviewThumbnails;
}();

var source = {
  // Add elements to HTML5 media (source, tracks, etc)
  insertElements: function insertElements(type, attributes) {
    var _this = this;

    if (is$1.string(attributes)) {
      insertElement(type, this.media, {
        src: attributes
      });
    } else if (is$1.array(attributes)) {
      attributes.forEach(function (attribute) {
        insertElement(type, _this.media, attribute);
      });
    }
  },
  // Update source
  // Sources are not checked for support so be careful
  change: function change(input) {
    var _this2 = this;

    if (!getDeep(input, 'sources.length')) {
      this.debug.warn('Invalid source format');
      return;
    } // Cancel current network requests


    html5.cancelRequests.call(this); // Destroy instance and re-setup

    this.destroy.call(this, function () {
      // Reset quality options
      _this2.options.quality = []; // Remove elements

      removeElement(_this2.media);
      _this2.media = null; // Reset class name

      if (is$1.element(_this2.elements.container)) {
        _this2.elements.container.removeAttribute('class');
      } // Set the type and provider


      var sources = input.sources,
          type = input.type;

      var _sources = _slicedToArray(sources, 1),
          _sources$ = _sources[0],
          _sources$$provider = _sources$.provider,
          provider = _sources$$provider === void 0 ? providers.html5 : _sources$$provider,
          src = _sources$.src;

      var tagName = provider === 'html5' ? type : 'div';
      var attributes = provider === 'html5' ? {} : {
        src: src
      };
      Object.assign(_this2, {
        provider: provider,
        type: type,
        // Check for support
        supported: support.check(type, provider, _this2.config.playsinline),
        // Create new element
        media: createElement(tagName, attributes)
      }); // Inject the new element

      _this2.elements.container.appendChild(_this2.media); // Autoplay the new source?


      if (is$1["boolean"](input.autoplay)) {
        _this2.config.autoplay = input.autoplay;
      } // Set attributes for audio and video


      if (_this2.isHTML5) {
        if (_this2.config.crossorigin) {
          _this2.media.setAttribute('crossorigin', '');
        }

        if (_this2.config.autoplay) {
          _this2.media.setAttribute('autoplay', '');
        }

        if (!is$1.empty(input.poster)) {
          _this2.poster = input.poster;
        }

        if (_this2.config.loop.active) {
          _this2.media.setAttribute('loop', '');
        }

        if (_this2.config.muted) {
          _this2.media.setAttribute('muted', '');
        }

        if (_this2.config.playsinline) {
          _this2.media.setAttribute('playsinline', '');
        }
      } // Restore class hook


      ui.addStyleHook.call(_this2); // Set new sources for html5

      if (_this2.isHTML5) {
        source.insertElements.call(_this2, 'source', sources);
      } // Set video title


      _this2.config.title = input.title; // Set up from scratch

      media.setup.call(_this2); // HTML5 stuff

      if (_this2.isHTML5) {
        // Setup captions
        if (Object.keys(input).includes('tracks')) {
          source.insertElements.call(_this2, 'track', input.tracks);
        }
      } // If HTML5 or embed but not fully supported, setupInterface and call ready now


      if (_this2.isHTML5 || _this2.isEmbed && !_this2.supported.ui) {
        // Setup interface
        ui.build.call(_this2);
      } // Load HTML5 sources


      if (_this2.isHTML5) {
        _this2.media.load();
      } // Reload thumbnails


      if (_this2.previewThumbnails) {
        _this2.previewThumbnails.load();
      } // Update the fullscreen support


      _this2.fullscreen.update();
    }, true);
  }
};
/**
 * Returns a number whose value is limited to the given range.
 *
 * Example: limit the output of this computation to between 0 and 255
 * (x * 255).clamp(0, 255)
 *
 * @param {Number} input
 * @param {Number} min The lower boundary of the output range
 * @param {Number} max The upper boundary of the output range
 * @returns A number in the range [min, max]
 * @type Number
 */

function clamp() {
  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 255;
  return Math.min(Math.max(input, min), max);
} // TODO: Use a WeakMap for private globals
// const globals = new WeakMap();
// Plyr instance


var Plyr =
/*#__PURE__*/
function () {
  function Plyr(target, options) {
    var _this = this;

    _classCallCheck(this, Plyr);

    this.timers = {}; // State

    this.ready = false;
    this.loading = false;
    this.failed = false; // Touch device

    this.touch = support.touch; // Set the media element

    this.media = target; // String selector passed

    if (is$1.string(this.media)) {
      this.media = document.querySelectorAll(this.media);
    } // jQuery, NodeList or Array passed, use first element


    if (window.jQuery && this.media instanceof jQuery || is$1.nodeList(this.media) || is$1.array(this.media)) {
      // eslint-disable-next-line
      this.media = this.media[0];
    } // Set config


    this.config = extend({}, defaults$1, Plyr.defaults, options || {}, function () {
      try {
        return JSON.parse(_this.media.getAttribute('data-plyr-config'));
      } catch (e) {
        return {};
      }
    }()); // Elements cache

    this.elements = {
      container: null,
      captions: null,
      buttons: {},
      display: {},
      progress: {},
      inputs: {},
      settings: {
        popup: null,
        menu: null,
        panels: {},
        buttons: {}
      }
    }; // Captions

    this.captions = {
      active: null,
      currentTrack: -1,
      meta: new WeakMap()
    }; // Fullscreen

    this.fullscreen = {
      active: false
    }; // Options

    this.options = {
      speed: [],
      quality: []
    }; // Debugging
    // TODO: move to globals

    this.debug = new Console(this.config.debug); // Log config options and support

    this.debug.log('Config', this.config);
    this.debug.log('Support', support); // We need an element to setup

    if (is$1.nullOrUndefined(this.media) || !is$1.element(this.media)) {
      this.debug.error('Setup failed: no suitable element passed');
      return;
    } // Bail if the element is initialized


    if (this.media.plyr) {
      this.debug.warn('Target already setup');
      return;
    } // Bail if not enabled


    if (!this.config.enabled) {
      this.debug.error('Setup failed: disabled by config');
      return;
    } // Bail if disabled or no basic support
    // You may want to disable certain UAs etc


    if (!support.check().api) {
      this.debug.error('Setup failed: no support');
      return;
    } // Cache original element state for .destroy()


    var clone = this.media.cloneNode(true);
    clone.autoplay = false;
    this.elements.original = clone; // Set media type based on tag or data attribute
    // Supported: video, audio, vimeo, youtube

    var type = this.media.tagName.toLowerCase(); // Embed properties

    var iframe = null;
    var url = null; // Different setup based on type

    switch (type) {
      case 'div':
        // Find the frame
        iframe = this.media.querySelector('iframe'); // <iframe> type

        if (is$1.element(iframe)) {
          // Detect provider
          url = parseUrl(iframe.getAttribute('src'));
          this.provider = getProviderByUrl(url.toString()); // Rework elements

          this.elements.container = this.media;
          this.media = iframe; // Reset classname

          this.elements.container.className = ''; // Get attributes from URL and set config

          if (url.search.length) {
            var truthy = ['1', 'true'];

            if (truthy.includes(url.searchParams.get('autoplay'))) {
              this.config.autoplay = true;
            }

            if (truthy.includes(url.searchParams.get('loop'))) {
              this.config.loop.active = true;
            } // TODO: replace fullscreen.iosNative with this playsinline config option
            // YouTube requires the playsinline in the URL


            if (this.isYouTube) {
              this.config.playsinline = truthy.includes(url.searchParams.get('playsinline'));
              this.config.youtube.hl = url.searchParams.get('hl'); // TODO: Should this be setting language?
            } else {
              this.config.playsinline = true;
            }
          }
        } else {
          // <div> with attributes
          this.provider = this.media.getAttribute(this.config.attributes.embed.provider); // Remove attribute

          this.media.removeAttribute(this.config.attributes.embed.provider);
        } // Unsupported or missing provider


        if (is$1.empty(this.provider) || !Object.keys(providers).includes(this.provider)) {
          this.debug.error('Setup failed: Invalid provider');
          return;
        } // Audio will come later for external providers


        this.type = types.video;
        break;

      case 'video':
      case 'audio':
        this.type = type;
        this.provider = providers.html5; // Get config from attributes

        if (this.media.hasAttribute('crossorigin')) {
          this.config.crossorigin = true;
        }

        if (this.media.hasAttribute('autoplay')) {
          this.config.autoplay = true;
        }

        if (this.media.hasAttribute('playsinline') || this.media.hasAttribute('webkit-playsinline')) {
          this.config.playsinline = true;
        }

        if (this.media.hasAttribute('muted')) {
          this.config.muted = true;
        }

        if (this.media.hasAttribute('loop')) {
          this.config.loop.active = true;
        }

        break;

      default:
        this.debug.error('Setup failed: unsupported type');
        return;
    } // Check for support again but with type


    this.supported = support.check(this.type, this.provider, this.config.playsinline); // If no support for even API, bail

    if (!this.supported.api) {
      this.debug.error('Setup failed: no support');
      return;
    }

    this.eventListeners = []; // Create listeners

    this.listeners = new Listeners(this); // Setup local storage for user settings

    this.storage = new Storage(this); // Store reference

    this.media.plyr = this; // Wrap media

    if (!is$1.element(this.elements.container)) {
      this.elements.container = createElement('div', {
        tabindex: 0
      });
      wrap(this.media, this.elements.container);
    } // Add style hook


    ui.addStyleHook.call(this); // Setup media

    media.setup.call(this); // Listen for events if debugging

    if (this.config.debug) {
      on.call(this, this.elements.container, this.config.events.join(' '), function (event) {
        _this.debug.log("event: ".concat(event.type));
      });
    } // Setup interface
    // If embed but not fully supported, build interface now to avoid flash of controls


    if (this.isHTML5 || this.isEmbed && !this.supported.ui) {
      ui.build.call(this);
    } // Container listeners


    this.listeners.container(); // Global listeners

    this.listeners.global(); // Setup fullscreen

    this.fullscreen = new Fullscreen(this); // Setup ads if provided

    if (this.config.ads.enabled) {
      this.ads = new Ads(this);
    } // Autoplay if required


    if (this.isHTML5 && this.config.autoplay) {
      setTimeout(function () {
        return _this.play();
      }, 10);
    } // Seek time will be recorded (in listeners.js) so we can prevent hiding controls for a few seconds after seek


    this.lastSeekTime = 0; // Setup preview thumbnails if enabled

    if (this.config.previewThumbnails.enabled) {
      this.previewThumbnails = new PreviewThumbnails(this);
    }
  } // ---------------------------------------
  // API
  // ---------------------------------------

  /**
   * Types and provider helpers
   */


  _createClass(Plyr, [{
    key: "play",

    /**
     * Play the media, or play the advertisement (if they are not blocked)
     */
    value: function play() {
      var _this2 = this;

      if (!is$1["function"](this.media.play)) {
        return null;
      } // Intecept play with ads


      if (this.ads && this.ads.enabled) {
        this.ads.managerPromise.then(function () {
          return _this2.ads.play();
        })["catch"](function () {
          return _this2.media.play();
        });
      } // Return the promise (for HTML5)


      return this.media.play();
    }
    /**
     * Pause the media
     */

  }, {
    key: "pause",
    value: function pause() {
      if (!this.playing || !is$1["function"](this.media.pause)) {
        return;
      }

      this.media.pause();
    }
    /**
     * Get playing state
     */

  }, {
    key: "togglePlay",

    /**
     * Toggle playback based on current status
     * @param {Boolean} input
     */
    value: function togglePlay(input) {
      // Toggle based on current state if nothing passed
      var toggle = is$1["boolean"](input) ? input : !this.playing;

      if (toggle) {
        this.play();
      } else {
        this.pause();
      }
    }
    /**
     * Stop playback
     */

  }, {
    key: "stop",
    value: function stop() {
      if (this.isHTML5) {
        this.pause();
        this.restart();
      } else if (is$1["function"](this.media.stop)) {
        this.media.stop();
      }
    }
    /**
     * Restart playback
     */

  }, {
    key: "restart",
    value: function restart() {
      this.currentTime = 0;
    }
    /**
     * Rewind
     * @param {Number} seekTime - how far to rewind in seconds. Defaults to the config.seekTime
     */

  }, {
    key: "rewind",
    value: function rewind(seekTime) {
      this.currentTime = this.currentTime - (is$1.number(seekTime) ? seekTime : this.config.seekTime);
    }
    /**
     * Fast forward
     * @param {Number} seekTime - how far to fast forward in seconds. Defaults to the config.seekTime
     */

  }, {
    key: "forward",
    value: function forward(seekTime) {
      this.currentTime = this.currentTime + (is$1.number(seekTime) ? seekTime : this.config.seekTime);
    }
    /**
     * Seek to a time
     * @param {Number} input - where to seek to in seconds. Defaults to 0 (the start)
     */

  }, {
    key: "increaseVolume",

    /**
     * Increase volume
     * @param {Boolean} step - How much to decrease by (between 0 and 1)
     */
    value: function increaseVolume(step) {
      var volume = this.media.muted ? 0 : this.volume;
      this.volume = volume + (is$1.number(step) ? step : 0);
    }
    /**
     * Decrease volume
     * @param {Boolean} step - How much to decrease by (between 0 and 1)
     */

  }, {
    key: "decreaseVolume",
    value: function decreaseVolume(step) {
      this.increaseVolume(-step);
    }
    /**
     * Set muted state
     * @param {Boolean} mute
     */

  }, {
    key: "toggleCaptions",

    /**
     * Toggle captions
     * @param {Boolean} input - Whether to enable captions
     */
    value: function toggleCaptions(input) {
      captions.toggle.call(this, input, false);
    }
    /**
     * Set the caption track by index
     * @param {Number} - Caption index
     */

  }, {
    key: "airplay",

    /**
     * Trigger the airplay dialog
     * TODO: update player with state, support, enabled
     */
    value: function airplay() {
      // Show dialog if supported
      if (support.airplay) {
        this.media.webkitShowPlaybackTargetPicker();
      }
    }
    /**
     * Toggle the player controls
     * @param {Boolean} [toggle] - Whether to show the controls
     */

  }, {
    key: "toggleControls",
    value: function toggleControls(toggle) {
      // Don't toggle if missing UI support or if it's audio
      if (this.supported.ui && !this.isAudio) {
        // Get state before change
        var isHidden = hasClass(this.elements.container, this.config.classNames.hideControls); // Negate the argument if not undefined since adding the class to hides the controls

        var force = typeof toggle === 'undefined' ? undefined : !toggle; // Apply and get updated state

        var hiding = toggleClass(this.elements.container, this.config.classNames.hideControls, force); // Close menu

        if (hiding && this.config.controls.includes('settings') && !is$1.empty(this.config.settings)) {
          controls.toggleMenu.call(this, false);
        } // Trigger event on change


        if (hiding !== isHidden) {
          var eventName = hiding ? 'controlshidden' : 'controlsshown';
          triggerEvent.call(this, this.media, eventName);
        }

        return !hiding;
      }

      return false;
    }
    /**
     * Add event listeners
     * @param {String} event - Event type
     * @param {Function} callback - Callback for when event occurs
     */

  }, {
    key: "on",
    value: function on$1(event, callback) {
      on.call(this, this.elements.container, event, callback);
    }
    /**
     * Add event listeners once
     * @param {String} event - Event type
     * @param {Function} callback - Callback for when event occurs
     */

  }, {
    key: "once",
    value: function once$1(event, callback) {
      once.call(this, this.elements.container, event, callback);
    }
    /**
     * Remove event listeners
     * @param {String} event - Event type
     * @param {Function} callback - Callback for when event occurs
     */

  }, {
    key: "off",
    value: function off$1(event, callback) {
      off(this.elements.container, event, callback);
    }
    /**
     * Destroy an instance
     * Event listeners are removed when elements are removed
     * http://stackoverflow.com/questions/12528049/if-a-dom-element-is-removed-are-its-listeners-also-removed-from-memory
     * @param {Function} callback - Callback for when destroy is complete
     * @param {Boolean} soft - Whether it's a soft destroy (for source changes etc)
     */

  }, {
    key: "destroy",
    value: function destroy(callback) {
      var _this3 = this;

      var soft = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (!this.ready) {
        return;
      }

      var done = function done() {
        // Reset overflow (incase destroyed while in fullscreen)
        document.body.style.overflow = ''; // GC for embed

        _this3.embed = null; // If it's a soft destroy, make minimal changes

        if (soft) {
          if (Object.keys(_this3.elements).length) {
            // Remove elements
            removeElement(_this3.elements.buttons.play);
            removeElement(_this3.elements.captions);
            removeElement(_this3.elements.controls);
            removeElement(_this3.elements.wrapper); // Clear for GC

            _this3.elements.buttons.play = null;
            _this3.elements.captions = null;
            _this3.elements.controls = null;
            _this3.elements.wrapper = null;
          } // Callback


          if (is$1["function"](callback)) {
            callback();
          }
        } else {
          // Unbind listeners
          unbindListeners.call(_this3); // Replace the container with the original element provided

          replaceElement(_this3.elements.original, _this3.elements.container); // Event

          triggerEvent.call(_this3, _this3.elements.original, 'destroyed', true); // Callback

          if (is$1["function"](callback)) {
            callback.call(_this3.elements.original);
          } // Reset state


          _this3.ready = false; // Clear for garbage collection

          setTimeout(function () {
            _this3.elements = null;
            _this3.media = null;
          }, 200);
        }
      }; // Stop playback


      this.stop(); // Clear timeouts

      clearTimeout(this.timers.loading);
      clearTimeout(this.timers.controls);
      clearTimeout(this.timers.resized); // Provider specific stuff

      if (this.isHTML5) {
        // Restore native video controls
        ui.toggleNativeControls.call(this, true); // Clean up

        done();
      } else if (this.isYouTube) {
        // Clear timers
        clearInterval(this.timers.buffering);
        clearInterval(this.timers.playing); // Destroy YouTube API

        if (this.embed !== null && is$1["function"](this.embed.destroy)) {
          this.embed.destroy();
        } // Clean up


        done();
      } else if (this.isVimeo) {
        // Destroy Vimeo API
        // then clean up (wait, to prevent postmessage errors)
        if (this.embed !== null) {
          this.embed.unload().then(done);
        } // Vimeo does not always return


        setTimeout(done, 200);
      }
    }
    /**
     * Check for support for a mime type (HTML5 only)
     * @param {String} type - Mime type
     */

  }, {
    key: "supports",
    value: function supports(type) {
      return support.mime.call(this, type);
    }
    /**
     * Check for support
     * @param {String} type - Player type (audio/video)
     * @param {String} provider - Provider (html5/youtube/vimeo)
     * @param {Boolean} inline - Where player has `playsinline` sttribute
     */

  }, {
    key: "isHTML5",
    get: function get() {
      return this.provider === providers.html5;
    }
  }, {
    key: "isEmbed",
    get: function get() {
      return this.isYouTube || this.isVimeo;
    }
  }, {
    key: "isYouTube",
    get: function get() {
      return this.provider === providers.youtube;
    }
  }, {
    key: "isVimeo",
    get: function get() {
      return this.provider === providers.vimeo;
    }
  }, {
    key: "isVideo",
    get: function get() {
      return this.type === types.video;
    }
  }, {
    key: "isAudio",
    get: function get() {
      return this.type === types.audio;
    }
  }, {
    key: "playing",
    get: function get() {
      return Boolean(this.ready && !this.paused && !this.ended);
    }
    /**
     * Get paused state
     */

  }, {
    key: "paused",
    get: function get() {
      return Boolean(this.media.paused);
    }
    /**
     * Get stopped state
     */

  }, {
    key: "stopped",
    get: function get() {
      return Boolean(this.paused && this.currentTime === 0);
    }
    /**
     * Get ended state
     */

  }, {
    key: "ended",
    get: function get() {
      return Boolean(this.media.ended);
    }
  }, {
    key: "currentTime",
    set: function set(input) {
      // Bail if media duration isn't available yet
      if (!this.duration) {
        return;
      } // Validate input


      var inputIsValid = is$1.number(input) && input > 0; // Set

      this.media.currentTime = inputIsValid ? Math.min(input, this.duration) : 0; // Logging

      this.debug.log("Seeking to ".concat(this.currentTime, " seconds"));
    }
    /**
     * Get current time
     */
    ,
    get: function get() {
      return Number(this.media.currentTime);
    }
    /**
     * Get buffered
     */

  }, {
    key: "buffered",
    get: function get() {
      var buffered = this.media.buffered; // YouTube / Vimeo return a float between 0-1

      if (is$1.number(buffered)) {
        return buffered;
      } // HTML5
      // TODO: Handle buffered chunks of the media
      // (i.e. seek to another section buffers only that section)


      if (buffered && buffered.length && this.duration > 0) {
        return buffered.end(0) / this.duration;
      }

      return 0;
    }
    /**
     * Get seeking status
     */

  }, {
    key: "seeking",
    get: function get() {
      return Boolean(this.media.seeking);
    }
    /**
     * Get the duration of the current media
     */

  }, {
    key: "duration",
    get: function get() {
      // Faux duration set via config
      var fauxDuration = parseFloat(this.config.duration); // Media duration can be NaN or Infinity before the media has loaded

      var realDuration = (this.media || {}).duration;
      var duration = !is$1.number(realDuration) || realDuration === Infinity ? 0 : realDuration; // If config duration is funky, use regular duration

      return fauxDuration || duration;
    }
    /**
     * Set the player volume
     * @param {Number} value - must be between 0 and 1. Defaults to the value from local storage and config.volume if not set in storage
     */

  }, {
    key: "volume",
    set: function set(value) {
      var volume = value;
      var max = 1;
      var min = 0;

      if (is$1.string(volume)) {
        volume = Number(volume);
      } // Load volume from storage if no value specified


      if (!is$1.number(volume)) {
        volume = this.storage.get('volume');
      } // Use config if all else fails


      if (!is$1.number(volume)) {
        volume = this.config.volume;
      } // Maximum is volumeMax


      if (volume > max) {
        volume = max;
      } // Minimum is volumeMin


      if (volume < min) {
        volume = min;
      } // Update config


      this.config.volume = volume; // Set the player volume

      this.media.volume = volume; // If muted, and we're increasing volume manually, reset muted state

      if (!is$1.empty(value) && this.muted && volume > 0) {
        this.muted = false;
      }
    }
    /**
     * Get the current player volume
     */
    ,
    get: function get() {
      return Number(this.media.volume);
    }
  }, {
    key: "muted",
    set: function set(mute) {
      var toggle = mute; // Load muted state from storage

      if (!is$1["boolean"](toggle)) {
        toggle = this.storage.get('muted');
      } // Use config if all else fails


      if (!is$1["boolean"](toggle)) {
        toggle = this.config.muted;
      } // Update config


      this.config.muted = toggle; // Set mute on the player

      this.media.muted = toggle;
    }
    /**
     * Get current muted state
     */
    ,
    get: function get() {
      return Boolean(this.media.muted);
    }
    /**
     * Check if the media has audio
     */

  }, {
    key: "hasAudio",
    get: function get() {
      // Assume yes for all non HTML5 (as we can't tell...)
      if (!this.isHTML5) {
        return true;
      }

      if (this.isAudio) {
        return true;
      } // Get audio tracks


      return Boolean(this.media.mozHasAudio) || Boolean(this.media.webkitAudioDecodedByteCount) || Boolean(this.media.audioTracks && this.media.audioTracks.length);
    }
    /**
     * Set playback speed
     * @param {Number} speed - the speed of playback (0.5-2.0)
     */

  }, {
    key: "speed",
    set: function set(input) {
      var _this4 = this;

      var speed = null;

      if (is$1.number(input)) {
        speed = input;
      }

      if (!is$1.number(speed)) {
        speed = this.storage.get('speed');
      }

      if (!is$1.number(speed)) {
        speed = this.config.speed.selected;
      } // Clamp to min/max


      var min = this.minimumSpeed,
          max = this.maximumSpeed;
      speed = clamp(speed, min, max); // Update config

      this.config.speed.selected = speed; // Set media speed

      setTimeout(function () {
        _this4.media.playbackRate = speed;
      }, 0);
    }
    /**
     * Get current playback speed
     */
    ,
    get: function get() {
      return Number(this.media.playbackRate);
    }
    /**
     * Get the minimum allowed speed
     */

  }, {
    key: "minimumSpeed",
    get: function get() {
      if (this.isYouTube) {
        // https://developers.google.com/youtube/iframe_api_reference#setPlaybackRate
        return Math.min.apply(Math, _toConsumableArray(this.options.speed));
      }

      if (this.isVimeo) {
        // https://github.com/vimeo/player.js/#setplaybackrateplaybackrate-number-promisenumber-rangeerrorerror
        return 0.5;
      } // https://stackoverflow.com/a/32320020/1191319


      return 0.0625;
    }
    /**
     * Get the maximum allowed speed
     */

  }, {
    key: "maximumSpeed",
    get: function get() {
      if (this.isYouTube) {
        // https://developers.google.com/youtube/iframe_api_reference#setPlaybackRate
        return Math.max.apply(Math, _toConsumableArray(this.options.speed));
      }

      if (this.isVimeo) {
        // https://github.com/vimeo/player.js/#setplaybackrateplaybackrate-number-promisenumber-rangeerrorerror
        return 2;
      } // https://stackoverflow.com/a/32320020/1191319


      return 16;
    }
    /**
     * Set playback quality
     * Currently HTML5 & YouTube only
     * @param {Number} input - Quality level
     */

  }, {
    key: "quality",
    set: function set(input) {
      var config = this.config.quality;
      var options = this.options.quality;

      if (!options.length) {
        return;
      }

      var quality = [!is$1.empty(input) && Number(input), this.storage.get('quality'), config.selected, config["default"]].find(is$1.number);
      var updateStorage = true;

      if (!options.includes(quality)) {
        var value = closest(options, quality);
        this.debug.warn("Unsupported quality option: ".concat(quality, ", using ").concat(value, " instead"));
        quality = value; // Don't update storage if quality is not supported

        updateStorage = false;
      } // Update config


      config.selected = quality; // Set quality

      this.media.quality = quality; // Save to storage

      if (updateStorage) {
        this.storage.set({
          quality: quality
        });
      }
    }
    /**
     * Get current quality level
     */
    ,
    get: function get() {
      return this.media.quality;
    }
    /**
     * Toggle loop
     * TODO: Finish fancy new logic. Set the indicator on load as user may pass loop as config
     * @param {Boolean} input - Whether to loop or not
     */

  }, {
    key: "loop",
    set: function set(input) {
      var toggle = is$1["boolean"](input) ? input : this.config.loop.active;
      this.config.loop.active = toggle;
      this.media.loop = toggle; // Set default to be a true toggle

      /* const type = ['start', 'end', 'all', 'none', 'toggle'].includes(input) ? input : 'toggle';
       switch (type) {
          case 'start':
              if (this.config.loop.end && this.config.loop.end <= this.currentTime) {
                  this.config.loop.end = null;
              }
              this.config.loop.start = this.currentTime;
              // this.config.loop.indicator.start = this.elements.display.played.value;
              break;
           case 'end':
              if (this.config.loop.start >= this.currentTime) {
                  return this;
              }
              this.config.loop.end = this.currentTime;
              // this.config.loop.indicator.end = this.elements.display.played.value;
              break;
           case 'all':
              this.config.loop.start = 0;
              this.config.loop.end = this.duration - 2;
              this.config.loop.indicator.start = 0;
              this.config.loop.indicator.end = 100;
              break;
           case 'toggle':
              if (this.config.loop.active) {
                  this.config.loop.start = 0;
                  this.config.loop.end = null;
              } else {
                  this.config.loop.start = 0;
                  this.config.loop.end = this.duration - 2;
              }
              break;
           default:
              this.config.loop.start = 0;
              this.config.loop.end = null;
              break;
      } */
    }
    /**
     * Get current loop state
     */
    ,
    get: function get() {
      return Boolean(this.media.loop);
    }
    /**
     * Set new media source
     * @param {Object} input - The new source object (see docs)
     */

  }, {
    key: "source",
    set: function set(input) {
      source.change.call(this, input);
    }
    /**
     * Get current source
     */
    ,
    get: function get() {
      return this.media.currentSrc;
    }
    /**
     * Get a download URL (either source or custom)
     */

  }, {
    key: "download",
    get: function get() {
      var download = this.config.urls.download;
      return is$1.url(download) ? download : this.source;
    }
    /**
     * Set the download URL
     */
    ,
    set: function set(input) {
      if (!is$1.url(input)) {
        return;
      }

      this.config.urls.download = input;
      controls.setDownloadUrl.call(this);
    }
    /**
     * Set the poster image for a video
     * @param {String} input - the URL for the new poster image
     */

  }, {
    key: "poster",
    set: function set(input) {
      if (!this.isVideo) {
        this.debug.warn('Poster can only be set for video');
        return;
      }

      ui.setPoster.call(this, input, false)["catch"](function () {});
    }
    /**
     * Get the current poster image
     */
    ,
    get: function get() {
      if (!this.isVideo) {
        return null;
      }

      return this.media.getAttribute('poster');
    }
    /**
     * Get the current aspect ratio in use
     */

  }, {
    key: "ratio",
    get: function get() {
      if (!this.isVideo) {
        return null;
      }

      var ratio = reduceAspectRatio(getAspectRatio.call(this));
      return is$1.array(ratio) ? ratio.join(':') : ratio;
    }
    /**
     * Set video aspect ratio
     */
    ,
    set: function set(input) {
      if (!this.isVideo) {
        this.debug.warn('Aspect ratio can only be set for video');
        return;
      }

      if (!is$1.string(input) || !validateRatio(input)) {
        this.debug.error("Invalid aspect ratio specified (".concat(input, ")"));
        return;
      }

      this.config.ratio = input;
      setAspectRatio.call(this);
    }
    /**
     * Set the autoplay state
     * @param {Boolean} input - Whether to autoplay or not
     */

  }, {
    key: "autoplay",
    set: function set(input) {
      var toggle = is$1["boolean"](input) ? input : this.config.autoplay;
      this.config.autoplay = toggle;
    }
    /**
     * Get the current autoplay state
     */
    ,
    get: function get() {
      return Boolean(this.config.autoplay);
    }
  }, {
    key: "currentTrack",
    set: function set(input) {
      captions.set.call(this, input, false);
    }
    /**
     * Get the current caption track index (-1 if disabled)
     */
    ,
    get: function get() {
      var _this$captions = this.captions,
          toggled = _this$captions.toggled,
          currentTrack = _this$captions.currentTrack;
      return toggled ? currentTrack : -1;
    }
    /**
     * Set the wanted language for captions
     * Since tracks can be added later it won't update the actual caption track until there is a matching track
     * @param {String} - Two character ISO language code (e.g. EN, FR, PT, etc)
     */

  }, {
    key: "language",
    set: function set(input) {
      captions.setLanguage.call(this, input, false);
    }
    /**
     * Get the current track's language
     */
    ,
    get: function get() {
      return (captions.getCurrentTrack.call(this) || {}).language;
    }
    /**
     * Toggle picture-in-picture playback on WebKit/MacOS
     * TODO: update player with state, support, enabled
     * TODO: detect outside changes
     */

  }, {
    key: "pip",
    set: function set(input) {
      // Bail if no support
      if (!support.pip) {
        return;
      } // Toggle based on current state if not passed


      var toggle = is$1["boolean"](input) ? input : !this.pip; // Toggle based on current state
      // Safari

      if (is$1["function"](this.media.webkitSetPresentationMode)) {
        this.media.webkitSetPresentationMode(toggle ? pip.active : pip.inactive);
      } // Chrome


      if (is$1["function"](this.media.requestPictureInPicture)) {
        if (!this.pip && toggle) {
          this.media.requestPictureInPicture();
        } else if (this.pip && !toggle) {
          document.exitPictureInPicture();
        }
      }
    }
    /**
     * Get the current picture-in-picture state
     */
    ,
    get: function get() {
      if (!support.pip) {
        return null;
      } // Safari


      if (!is$1.empty(this.media.webkitPresentationMode)) {
        return this.media.webkitPresentationMode === pip.active;
      } // Chrome


      return this.media === document.pictureInPictureElement;
    }
  }], [{
    key: "supported",
    value: function supported(type, provider, inline) {
      return support.check(type, provider, inline);
    }
    /**
     * Load an SVG sprite into the page
     * @param {String} url - URL for the SVG sprite
     * @param {String} [id] - Unique ID
     */

  }, {
    key: "loadSprite",
    value: function loadSprite$1(url, id) {
      return loadSprite(url, id);
    }
    /**
     * Setup multiple instances
     * @param {*} selector
     * @param {Object} options
     */

  }, {
    key: "setup",
    value: function setup(selector) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var targets = null;

      if (is$1.string(selector)) {
        targets = Array.from(document.querySelectorAll(selector));
      } else if (is$1.nodeList(selector)) {
        targets = Array.from(selector);
      } else if (is$1.array(selector)) {
        targets = selector.filter(is$1.element);
      }

      if (is$1.empty(targets)) {
        return null;
      }

      return targets.map(function (t) {
        return new Plyr(t, options);
      });
    }
  }]);

  return Plyr;
}();

Plyr.defaults = cloneDeep(defaults$1);
var _default = Plyr;
exports["default"] = _default;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9fYnJvd3Nlci1wYWNrQDYuMS4wQGJyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInBhZ2VzL2V4dGVybmFsX3BrZ3MvcGx5ci9wbHlyLm1qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7QUNBQSxRQUFPLFNBQVAseUNBQU8sU0FBUCxPQUFxQixRQUFyQixJQUFpQyxTQUFTLGVBQVQsQ0FBeUIsUUFBekIsRUFBbUMsV0FBbkMsRUFBZ0Q7QUFDL0UsTUFBSSxFQUFFLFFBQVEsWUFBWSxXQUF0QixDQUFKLEVBQXdDO0FBQ3RDLFVBQU0sSUFBSSxTQUFKLENBQWMsbUNBQWQsQ0FBTjtBQUNEO0FBQ0YsQ0FKRDs7QUFNQSxTQUFTLGlCQUFULENBQTJCLE1BQTNCLEVBQW1DLEtBQW5DLEVBQTBDO0FBQ3hDLE9BQUssSUFBSSxDQUFDLEdBQUcsQ0FBYixFQUFnQixDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQTFCLEVBQWtDLENBQUMsRUFBbkMsRUFBdUM7QUFDckMsUUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLENBQUQsQ0FBdEI7QUFDQSxJQUFBLFVBQVUsQ0FBQyxVQUFYLEdBQXdCLFVBQVUsQ0FBQyxVQUFYLElBQXlCLEtBQWpEO0FBQ0EsSUFBQSxVQUFVLENBQUMsWUFBWCxHQUEwQixJQUExQjtBQUNBLFFBQUksV0FBVyxVQUFmLEVBQTJCLFVBQVUsQ0FBQyxRQUFYLEdBQXNCLElBQXRCO0FBQzNCLElBQUEsTUFBTSxDQUFDLGNBQVAsQ0FBc0IsTUFBdEIsRUFBOEIsVUFBVSxDQUFDLEdBQXpDLEVBQThDLFVBQTlDO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTLFlBQVQsQ0FBc0IsV0FBdEIsRUFBbUMsVUFBbkMsRUFBK0MsV0FBL0MsRUFBNEQ7QUFDMUQsTUFBSSxVQUFKLEVBQWdCLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxTQUFiLEVBQXdCLFVBQXhCLENBQWpCO0FBQ2hCLE1BQUksV0FBSixFQUFpQixpQkFBaUIsQ0FB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QUosRUFBMkI7QUFDekIsUUFBQSxPQUFPLEdBQUcsS0FBSyxDQUFDLElBQU4sQ0FBVyxRQUFRLENBQUMsZ0JBQVQsQ0FBMEIsUUFBMUIsQ0FBWCxDQUFWO0FBQ0QsT0FGRCxNQUVPLElBQUksSUFBSSxDQUFDLFFBQUwsQ0FBYyxRQUFkLENBQUosRUFBNkI7QUFDbEMsUUFBQSxPQUFPLEdBQUcsS0FBSyxDQUFDLElBQU4sQ0FBVyxRQUFYLENBQVY7QUFDRCxPQUZNLE1BRUEsSUFBSSxJQUFJLENBQUMsS0FBTCxDQUFXLFFBQVgsQ0FBSixFQUEwQjtBQUMvQixRQUFBLE9BQU8sR0FBRyxRQUFRLENBQUMsTUFBVCxDQUFnQixJQUFJLENBQUMsT0FBckIsQ0FBVjtBQUNEOztBQUVELFVBQUksSUFBSSxDQUFDLEtBQUwsQ0FBVyxPQUFYLENBQUosRUFBeUI7QUFDdkIsZUFBTyxJQUFQO0FBQ0Q7O0FBRUQsYUFBTyxPQUFPLENBQUMsR0FBUixDQUFZLFVBQVUsQ0FBVixFQUFhO0FBQzlCLGVBQU8sSUFBSSxJQUFKLENBQVMsQ0FBVCxFQUFZLE9BQVosQ0FBUDtBQUNELE9BRk0sQ0FBUDtBQUdEO0FBckJBLEdBdEJDLENBcjdCUSxDQUFaOztBQW0rQkEsU0FBTyxJQUFQO0FBQ0QsQ0EzdUNELEVBRkE7O0FBK3VDQSxJQUFJLENBQUMsUUFBTCxHQUFnQixTQUFTLENBQUMsVUFBRCxDQUF6QjtlQUVlLEkiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJ0eXBlb2YgbmF2aWdhdG9yID09PSBcIm9iamVjdFwiICYmIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcclxuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xyXG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xyXG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xyXG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcclxuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcclxuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XHJcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XHJcbiAgaWYgKGtleSBpbiBvYmopIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xyXG4gICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgd3JpdGFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XHJcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xyXG4gIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcclxuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgYXJyMltpXSA9IGFycltpXTtcclxuXHJcbiAgICByZXR1cm4gYXJyMjtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcclxuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcclxuICBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XHJcbiAgdmFyIF9hcnIgPSBbXTtcclxuICB2YXIgX24gPSB0cnVlO1xyXG4gIHZhciBfZCA9IGZhbHNlO1xyXG4gIHZhciBfZSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcclxuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcclxuXHJcbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIF9kID0gdHJ1ZTtcclxuICAgIF9lID0gZXJyO1xyXG4gIH0gZmluYWxseSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBpZiAoX2QpIHRocm93IF9lO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIF9hcnI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcclxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XHJcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XHJcbn1cclxuXHJcbnZhciBkZWZhdWx0cyA9IHtcclxuICBhZGRDU1M6IHRydWUsXHJcbiAgLy8gQWRkIENTUyB0byB0aGUgZWxlbWVudCB0byBpbXByb3ZlIHVzYWJpbGl0eSAocmVxdWlyZWQgaGVyZSBvciBpbiB5b3VyIENTUyEpXHJcbiAgdGh1bWJXaWR0aDogMTUsXHJcbiAgLy8gVGhlIHdpZHRoIG9mIHRoZSB0aHVtYiBoYW5kbGVcclxuICB3YXRjaDogdHJ1ZSAvLyBXYXRjaCBmb3IgbmV3IGVsZW1lbnRzIHRoYXQgbWF0Y2ggYSBzdHJpbmcgdGFyZ2V0XHJcblxyXG59O1xyXG5cclxuLy8gRWxlbWVudCBtYXRjaGVzIGEgc2VsZWN0b3JcclxuZnVuY3Rpb24gbWF0Y2hlcyhlbGVtZW50LCBzZWxlY3Rvcikge1xyXG5cclxuICBmdW5jdGlvbiBtYXRjaCgpIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKS5pbmNsdWRlcyh0aGlzKTtcclxuICB9XHJcblxyXG4gIHZhciBtYXRjaGVzID0gbWF0Y2g7XHJcbiAgcmV0dXJuIG1hdGNoZXMuY2FsbChlbGVtZW50LCBzZWxlY3Rvcik7XHJcbn1cclxuXHJcbi8vIFRyaWdnZXIgZXZlbnRcclxuZnVuY3Rpb24gdHJpZ2dlcihlbGVtZW50LCB0eXBlKSB7XHJcbiAgaWYgKCFlbGVtZW50IHx8ICF0eXBlKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfSAvLyBDcmVhdGUgYW5kIGRpc3BhdGNoIHRoZSBldmVudFxyXG5cclxuXHJcbiAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KHR5cGUpOyAvLyBEaXNwYXRjaCB0aGUgZXZlbnRcclxuXHJcbiAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVHlwZSBjaGVja2luZyB1dGlsc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbiBnZXRDb25zdHJ1Y3RvcihpbnB1dCkge1xyXG4gIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgIT09ICd1bmRlZmluZWQnID8gaW5wdXQuY29uc3RydWN0b3IgOiBudWxsO1xyXG59O1xyXG5cclxudmFyIGluc3RhbmNlT2YgPSBmdW5jdGlvbiBpbnN0YW5jZU9mKGlucHV0LCBjb25zdHJ1Y3Rvcikge1xyXG4gIHJldHVybiBCb29sZWFuKGlucHV0ICYmIGNvbnN0cnVjdG9yICYmIGlucHV0IGluc3RhbmNlb2YgY29uc3RydWN0b3IpO1xyXG59O1xyXG5cclxudmFyIGlzTnVsbE9yVW5kZWZpbmVkID0gZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoaW5wdXQpIHtcclxuICByZXR1cm4gaW5wdXQgPT09IG51bGwgfHwgdHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJztcclxufTtcclxuXHJcbnZhciBpc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XHJcbiAgcmV0dXJuIGdldENvbnN0cnVjdG9yKGlucHV0KSA9PT0gT2JqZWN0O1xyXG59O1xyXG5cclxudmFyIGlzTnVtYmVyID0gZnVuY3Rpb24gaXNOdW1iZXIoaW5wdXQpIHtcclxuICByZXR1cm4gZ2V0Q29uc3RydWN0b3IoaW5wdXQpID09PSBOdW1iZXIgJiYgIU51bWJlci5pc05hTihpbnB1dCk7XHJcbn07XHJcblxyXG52YXIgaXNTdHJpbmcgPSBmdW5jdGlvbiBpc1N0cmluZyhpbnB1dCkge1xyXG4gIHJldHVybiBnZXRDb25zdHJ1Y3RvcihpbnB1dCkgPT09IFN0cmluZztcclxufTtcclxuXHJcbnZhciBpc0Jvb2xlYW4gPSBmdW5jdGlvbiBpc0Jvb2xlYW4oaW5wdXQpIHtcclxuICByZXR1cm4gZ2V0Q29uc3RydWN0b3IoaW5wdXQpID09PSBCb29sZWFuO1xyXG59O1xyXG5cclxudmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XHJcbiAgcmV0dXJuIGdldENvbnN0cnVjdG9yKGlucHV0KSA9PT0gRnVuY3Rpb247XHJcbn07XHJcblxyXG52YXIgaXNBcnJheSA9IGZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcclxuICByZXR1cm4gQXJyYXkuaXNBcnJheShpbnB1dCk7XHJcbn07XHJcblxyXG52YXIgaXNOb2RlTGlzdCA9IGZ1bmN0aW9uIGlzTm9kZUxpc3QoaW5wdXQpIHtcclxuICByZXR1cm4gaW5zdGFuY2VPZihpbnB1dCwgTm9kZUxpc3QpO1xyXG59O1xyXG5cclxudmFyIGlzRWxlbWVudCA9IGZ1bmN0aW9uIGlzRWxlbWVudChpbnB1dCkge1xyXG4gIHJldHVybiBpbnN0YW5jZU9mKGlucHV0LCBFbGVtZW50KTtcclxufTtcclxuXHJcbnZhciBpc0V2ZW50ID0gZnVuY3Rpb24gaXNFdmVudChpbnB1dCkge1xyXG4gIHJldHVybiBpbnN0YW5jZU9mKGlucHV0LCBFdmVudCk7XHJcbn07XHJcblxyXG52YXIgaXNFbXB0eSA9IGZ1bmN0aW9uIGlzRW1wdHkoaW5wdXQpIHtcclxuICByZXR1cm4gaXNOdWxsT3JVbmRlZmluZWQoaW5wdXQpIHx8IChpc1N0cmluZyhpbnB1dCkgfHwgaXNBcnJheShpbnB1dCkgfHwgaXNOb2RlTGlzdChpbnB1dCkpICYmICFpbnB1dC5sZW5ndGggfHwgaXNPYmplY3QoaW5wdXQpICYmICFPYmplY3Qua2V5cyhpbnB1dCkubGVuZ3RoO1xyXG59O1xyXG5cclxudmFyIGlzID0ge1xyXG4gIG51bGxPclVuZGVmaW5lZDogaXNOdWxsT3JVbmRlZmluZWQsXHJcbiAgb2JqZWN0OiBpc09iamVjdCxcclxuICBudW1iZXI6IGlzTnVtYmVyLFxyXG4gIHN0cmluZzogaXNTdHJpbmcsXHJcbiAgYm9vbGVhbjogaXNCb29sZWFuLFxyXG4gIGZ1bmN0aW9uOiBpc0Z1bmN0aW9uLFxyXG4gIGFycmF5OiBpc0FycmF5LFxyXG4gIG5vZGVMaXN0OiBpc05vZGVMaXN0LFxyXG4gIGVsZW1lbnQ6IGlzRWxlbWVudCxcclxuICBldmVudDogaXNFdmVudCxcclxuICBlbXB0eTogaXNFbXB0eVxyXG59O1xyXG5cclxuLy8gR2V0IHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXNcclxuZnVuY3Rpb24gZ2V0RGVjaW1hbFBsYWNlcyh2YWx1ZSkge1xyXG4gIHZhciBtYXRjaCA9IFwiXCIuY29uY2F0KHZhbHVlKS5tYXRjaCgvKD86XFwuKFxcZCspKT8oPzpbZUVdKFsrLV0/XFxkKykpPyQvKTtcclxuXHJcbiAgaWYgKCFtYXRjaCkge1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gTWF0aC5tYXgoMCwgLy8gTnVtYmVyIG9mIGRpZ2l0cyByaWdodCBvZiBkZWNpbWFsIHBvaW50LlxyXG4gIChtYXRjaFsxXSA/IG1hdGNoWzFdLmxlbmd0aCA6IDApIC0gKCAvLyBBZGp1c3QgZm9yIHNjaWVudGlmaWMgbm90YXRpb24uXHJcbiAgbWF0Y2hbMl0gPyArbWF0Y2hbMl0gOiAwKSk7XHJcbn0gLy8gUm91bmQgdG8gdGhlIG5lYXJlc3Qgc3RlcFxyXG5cclxuZnVuY3Rpb24gcm91bmQobnVtYmVyLCBzdGVwKSB7XHJcbiAgaWYgKHN0ZXAgPCAxKSB7XHJcbiAgICB2YXIgcGxhY2VzID0gZ2V0RGVjaW1hbFBsYWNlcyhzdGVwKTtcclxuICAgIHJldHVybiBwYXJzZUZsb2F0KG51bWJlci50b0ZpeGVkKHBsYWNlcykpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIE1hdGgucm91bmQobnVtYmVyIC8gc3RlcCkgKiBzdGVwO1xyXG59XHJcblxyXG52YXIgUmFuZ2VUb3VjaCA9XHJcbi8qI19fUFVSRV9fKi9cclxuZnVuY3Rpb24gKCkge1xyXG4gIC8qKlxyXG4gICAqIFNldHVwIGEgbmV3IGluc3RhbmNlXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RWxlbWVudH0gdGFyZ2V0XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgKi9cclxuICBmdW5jdGlvbiBSYW5nZVRvdWNoKHRhcmdldCwgb3B0aW9ucykge1xyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJhbmdlVG91Y2gpO1xyXG5cclxuICAgIGlmIChpcy5lbGVtZW50KHRhcmdldCkpIHtcclxuICAgICAgLy8gQW4gRWxlbWVudCBpcyBwYXNzZWQsIHVzZSBpdCBkaXJlY3RseVxyXG4gICAgICB0aGlzLmVsZW1lbnQgPSB0YXJnZXQ7XHJcbiAgICB9IGVsc2UgaWYgKGlzLnN0cmluZyh0YXJnZXQpKSB7XHJcbiAgICAgIC8vIEEgQ1NTIFNlbGVjdG9yIGlzIHBhc3NlZCwgZmV0Y2ggaXQgZnJvbSB0aGUgRE9NXHJcbiAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzLmVsZW1lbnQodGhpcy5lbGVtZW50KSB8fCAhaXMuZW1wdHkodGhpcy5lbGVtZW50LnJhbmdlVG91Y2gpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUNsYXNzKFJhbmdlVG91Y2gsIFt7XHJcbiAgICBrZXk6IFwiaW5pdFwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgIC8vIEJhaWwgaWYgbm90IGEgdG91Y2ggZW5hYmxlZCBkZXZpY2VcclxuICAgICAgaWYgKCFSYW5nZVRvdWNoLmVuYWJsZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gLy8gQWRkIHVzZWZ1bCBDU1NcclxuXHJcblxyXG4gICAgICBpZiAodGhpcy5jb25maWcuYWRkQ1NTKSB7XHJcbiAgICAgICAgLy8gVE9ETzogUmVzdG9yZSBvcmlnaW5hbCB2YWx1ZXMgb24gZGVzdHJveVxyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53ZWJLaXRVc2VyU2VsZWN0ID0gJ25vbmUnO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50b3VjaEFjdGlvbiA9ICdtYW5pcHVsYXRpb24nO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmxpc3RlbmVycyh0cnVlKTtcclxuICAgICAgdGhpcy5lbGVtZW50LnJhbmdlVG91Y2ggPSB0aGlzO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJkZXN0cm95XCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgLy8gQmFpbCBpZiBub3QgYSB0b3VjaCBlbmFibGVkIGRldmljZVxyXG4gICAgICBpZiAoIVJhbmdlVG91Y2guZW5hYmxlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5saXN0ZW5lcnMoZmFsc2UpO1xyXG4gICAgICB0aGlzLmVsZW1lbnQucmFuZ2VUb3VjaCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcImxpc3RlbmVyc1wiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbmVycyh0b2dnbGUpIHtcclxuICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgIHZhciBtZXRob2QgPSB0b2dnbGUgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7IC8vIExpc3RlbiBmb3IgZXZlbnRzXHJcblxyXG4gICAgICBbJ3RvdWNoc3RhcnQnLCAndG91Y2htb3ZlJywgJ3RvdWNoZW5kJ10uZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgIF90aGlzLmVsZW1lbnRbbWV0aG9kXSh0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgIHJldHVybiBfdGhpcy5zZXQoZXZlbnQpO1xyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgdmFsdWUgYmFzZWQgb24gdG91Y2ggcG9zaXRpb25cclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImdldFwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldChldmVudCkge1xyXG4gICAgICBpZiAoIVJhbmdlVG91Y2guZW5hYmxlZCB8fCAhaXMuZXZlbnQoZXZlbnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBpbnB1dCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XHJcbiAgICAgIHZhciBtaW4gPSBwYXJzZUZsb2F0KGlucHV0LmdldEF0dHJpYnV0ZSgnbWluJykpIHx8IDA7XHJcbiAgICAgIHZhciBtYXggPSBwYXJzZUZsb2F0KGlucHV0LmdldEF0dHJpYnV0ZSgnbWF4JykpIHx8IDEwMDtcclxuICAgICAgdmFyIHN0ZXAgPSBwYXJzZUZsb2F0KGlucHV0LmdldEF0dHJpYnV0ZSgnc3RlcCcpKSB8fCAxO1xyXG4gICAgICB2YXIgZGVsdGEgPSBtYXggLSBtaW47IC8vIENhbGN1bGF0ZSBwZXJjZW50YWdlXHJcblxyXG4gICAgICB2YXIgcGVyY2VudDtcclxuICAgICAgdmFyIGNsaWVudFJlY3QgPSBpbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgdmFyIHRodW1iV2lkdGggPSAxMDAgLyBjbGllbnRSZWN0LndpZHRoICogKHRoaXMuY29uZmlnLnRodW1iV2lkdGggLyAyKSAvIDEwMDsgLy8gRGV0ZXJtaW5lIGxlZnQgcGVyY2VudGFnZVxyXG5cclxuICAgICAgcGVyY2VudCA9IDEwMCAvIGNsaWVudFJlY3Qud2lkdGggKiAodG91Y2guY2xpZW50WCAtIGNsaWVudFJlY3QubGVmdCk7IC8vIERvbid0IGFsbG93IG91dHNpZGUgYm91bmRzXHJcblxyXG4gICAgICBpZiAocGVyY2VudCA8IDApIHtcclxuICAgICAgICBwZXJjZW50ID0gMDtcclxuICAgICAgfSBlbHNlIGlmIChwZXJjZW50ID4gMTAwKSB7XHJcbiAgICAgICAgcGVyY2VudCA9IDEwMDtcclxuICAgICAgfSAvLyBGYWN0b3IgaW4gdGhlIHRodW1iIG9mZnNldFxyXG5cclxuXHJcbiAgICAgIGlmIChwZXJjZW50IDwgNTApIHtcclxuICAgICAgICBwZXJjZW50IC09ICgxMDAgLSBwZXJjZW50ICogMikgKiB0aHVtYldpZHRoO1xyXG4gICAgICB9IGVsc2UgaWYgKHBlcmNlbnQgPiA1MCkge1xyXG4gICAgICAgIHBlcmNlbnQgKz0gKHBlcmNlbnQgLSA1MCkgKiAyICogdGh1bWJXaWR0aDtcclxuICAgICAgfSAvLyBGaW5kIHRoZSBjbG9zZXN0IHN0ZXAgdG8gdGhlIG1vdXNlIHBvc2l0aW9uXHJcblxyXG5cclxuICAgICAgcmV0dXJuIG1pbiArIHJvdW5kKGRlbHRhICogKHBlcmNlbnQgLyAxMDApLCBzdGVwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHJhbmdlIHZhbHVlIGJhc2VkIG9uIHBvc2l0aW9uXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJzZXRcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQoZXZlbnQpIHtcclxuICAgICAgaWYgKCFSYW5nZVRvdWNoLmVuYWJsZWQgfHwgIWlzLmV2ZW50KGV2ZW50KSB8fCBldmVudC50YXJnZXQuZGlzYWJsZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gLy8gUHJldmVudCB0ZXh0IGhpZ2hsaWdodCBvbiBpT1NcclxuXHJcblxyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBTZXQgdmFsdWVcclxuXHJcbiAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IHRoaXMuZ2V0KGV2ZW50KTsgLy8gVHJpZ2dlciBldmVudFxyXG5cclxuICAgICAgdHJpZ2dlcihldmVudC50YXJnZXQsIGV2ZW50LnR5cGUgPT09ICd0b3VjaGVuZCcgPyAnY2hhbmdlJyA6ICdpbnB1dCcpO1xyXG4gICAgfVxyXG4gIH1dLCBbe1xyXG4gICAga2V5OiBcInNldHVwXCIsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXR1cCBtdWx0aXBsZSBpbnN0YW5jZXNcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEVsZW1lbnR8Tm9kZUxpc3R8QXJyYXl9IHRhcmdldFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwKHRhcmdldCkge1xyXG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XHJcbiAgICAgIHZhciB0YXJnZXRzID0gbnVsbDtcclxuXHJcbiAgICAgIGlmIChpcy5lbXB0eSh0YXJnZXQpIHx8IGlzLnN0cmluZyh0YXJnZXQpKSB7XHJcbiAgICAgICAgdGFyZ2V0cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChpcy5zdHJpbmcodGFyZ2V0KSA/IHRhcmdldCA6ICdpbnB1dFt0eXBlPVwicmFuZ2VcIl0nKSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXMuZWxlbWVudCh0YXJnZXQpKSB7XHJcbiAgICAgICAgdGFyZ2V0cyA9IFt0YXJnZXRdO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzLm5vZGVMaXN0KHRhcmdldCkpIHtcclxuICAgICAgICB0YXJnZXRzID0gQXJyYXkuZnJvbSh0YXJnZXQpO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzLmFycmF5KHRhcmdldCkpIHtcclxuICAgICAgICB0YXJnZXRzID0gdGFyZ2V0LmZpbHRlcihpcy5lbGVtZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzLmVtcHR5KHRhcmdldHMpKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBjb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XHJcblxyXG4gICAgICBpZiAoaXMuc3RyaW5nKHRhcmdldCkgJiYgY29uZmlnLndhdGNoKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGFuIG9ic2VydmVyIGluc3RhbmNlXHJcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xyXG4gICAgICAgICAgQXJyYXkuZnJvbShtdXRhdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XHJcbiAgICAgICAgICAgIEFycmF5LmZyb20obXV0YXRpb24uYWRkZWROb2RlcykuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICAgIGlmICghaXMuZWxlbWVudChub2RlKSB8fCAhbWF0Y2hlcyhub2RlLCB0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuXHJcblxyXG4gICAgICAgICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZVRvdWNoKG5vZGUsIGNvbmZpZyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7IC8vIFBhc3MgaW4gdGhlIHRhcmdldCBub2RlLCBhcyB3ZWxsIGFzIHRoZSBvYnNlcnZlciBvcHRpb25zXHJcblxyXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwge1xyXG4gICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICAgICAgc3VidHJlZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGFyZ2V0cy5tYXAoZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlVG91Y2godCwgb3B0aW9ucyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJlbmFibGVkXCIsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgcmV0dXJuICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgIH1cclxuICB9XSk7XHJcblxyXG4gIHJldHVybiBSYW5nZVRvdWNoO1xyXG59KCk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBUeXBlIGNoZWNraW5nIHV0aWxzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBnZXRDb25zdHJ1Y3RvciQxID0gZnVuY3Rpb24gZ2V0Q29uc3RydWN0b3IoaW5wdXQpIHtcclxuICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0ICE9PSAndW5kZWZpbmVkJyA/IGlucHV0LmNvbnN0cnVjdG9yIDogbnVsbDtcclxufTtcclxuXHJcbnZhciBpbnN0YW5jZU9mJDEgPSBmdW5jdGlvbiBpbnN0YW5jZU9mKGlucHV0LCBjb25zdHJ1Y3Rvcikge1xyXG4gIHJldHVybiBCb29sZWFuKGlucHV0ICYmIGNvbnN0cnVjdG9yICYmIGlucHV0IGluc3RhbmNlb2YgY29uc3RydWN0b3IpO1xyXG59O1xyXG5cclxudmFyIGlzTnVsbE9yVW5kZWZpbmVkJDEgPSBmdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChpbnB1dCkge1xyXG4gIHJldHVybiBpbnB1dCA9PT0gbnVsbCB8fCB0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnO1xyXG59O1xyXG5cclxudmFyIGlzT2JqZWN0JDEgPSBmdW5jdGlvbiBpc09iamVjdChpbnB1dCkge1xyXG4gIHJldHVybiBnZXRDb25zdHJ1Y3RvciQxKGlucHV0KSA9PT0gT2JqZWN0O1xyXG59O1xyXG5cclxudmFyIGlzTnVtYmVyJDEgPSBmdW5jdGlvbiBpc051bWJlcihpbnB1dCkge1xyXG4gIHJldHVybiBnZXRDb25zdHJ1Y3RvciQxKGlucHV0KSA9PT0gTnVtYmVyICYmICFOdW1iZXIuaXNOYU4oaW5wdXQpO1xyXG59O1xyXG5cclxudmFyIGlzU3RyaW5nJDEgPSBmdW5jdGlvbiBpc1N0cmluZyhpbnB1dCkge1xyXG4gIHJldHVybiBnZXRDb25zdHJ1Y3RvciQxKGlucHV0KSA9PT0gU3RyaW5nO1xyXG59O1xyXG5cclxudmFyIGlzQm9vbGVhbiQxID0gZnVuY3Rpb24gaXNCb29sZWFuKGlucHV0KSB7XHJcbiAgcmV0dXJuIGdldENvbnN0cnVjdG9yJDEoaW5wdXQpID09PSBCb29sZWFuO1xyXG59O1xyXG5cclxudmFyIGlzRnVuY3Rpb24kMSA9IGZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcclxuICByZXR1cm4gZ2V0Q29uc3RydWN0b3IkMShpbnB1dCkgPT09IEZ1bmN0aW9uO1xyXG59O1xyXG5cclxudmFyIGlzQXJyYXkkMSA9IGZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcclxuICByZXR1cm4gQXJyYXkuaXNBcnJheShpbnB1dCk7XHJcbn07XHJcblxyXG52YXIgaXNXZWFrTWFwID0gZnVuY3Rpb24gaXNXZWFrTWFwKGlucHV0KSB7XHJcbiAgcmV0dXJuIGluc3RhbmNlT2YkMShpbnB1dCwgV2Vha01hcCk7XHJcbn07XHJcblxyXG52YXIgaXNOb2RlTGlzdCQxID0gZnVuY3Rpb24gaXNOb2RlTGlzdChpbnB1dCkge1xyXG4gIHJldHVybiBpbnN0YW5jZU9mJDEoaW5wdXQsIE5vZGVMaXN0KTtcclxufTtcclxuXHJcbnZhciBpc0VsZW1lbnQkMSA9IGZ1bmN0aW9uIGlzRWxlbWVudChpbnB1dCkge1xyXG4gIHJldHVybiBpbnN0YW5jZU9mJDEoaW5wdXQsIEVsZW1lbnQpO1xyXG59O1xyXG5cclxudmFyIGlzVGV4dE5vZGUgPSBmdW5jdGlvbiBpc1RleHROb2RlKGlucHV0KSB7XHJcbiAgcmV0dXJuIGdldENvbnN0cnVjdG9yJDEoaW5wdXQpID09PSBUZXh0O1xyXG59O1xyXG5cclxudmFyIGlzRXZlbnQkMSA9IGZ1bmN0aW9uIGlzRXZlbnQoaW5wdXQpIHtcclxuICByZXR1cm4gaW5zdGFuY2VPZiQxKGlucHV0LCBFdmVudCk7XHJcbn07XHJcblxyXG52YXIgaXNLZXlib2FyZEV2ZW50ID0gZnVuY3Rpb24gaXNLZXlib2FyZEV2ZW50KGlucHV0KSB7XHJcbiAgcmV0dXJuIGluc3RhbmNlT2YkMShpbnB1dCwgS2V5Ym9hcmRFdmVudCk7XHJcbn07XHJcblxyXG52YXIgaXNDdWUgPSBmdW5jdGlvbiBpc0N1ZShpbnB1dCkge1xyXG4gIHJldHVybiBpbnN0YW5jZU9mJDEoaW5wdXQsIHdpbmRvdy5UZXh0VHJhY2tDdWUpIHx8IGluc3RhbmNlT2YkMShpbnB1dCwgd2luZG93LlZUVEN1ZSk7XHJcbn07XHJcblxyXG52YXIgaXNUcmFjayA9IGZ1bmN0aW9uIGlzVHJhY2soaW5wdXQpIHtcclxuICByZXR1cm4gaW5zdGFuY2VPZiQxKGlucHV0LCBUZXh0VHJhY2spIHx8ICFpc051bGxPclVuZGVmaW5lZCQxKGlucHV0KSAmJiBpc1N0cmluZyQxKGlucHV0LmtpbmQpO1xyXG59O1xyXG5cclxudmFyIGlzUHJvbWlzZSA9IGZ1bmN0aW9uIGlzUHJvbWlzZShpbnB1dCkge1xyXG4gIHJldHVybiBpbnN0YW5jZU9mJDEoaW5wdXQsIFByb21pc2UpO1xyXG59O1xyXG5cclxudmFyIGlzRW1wdHkkMSA9IGZ1bmN0aW9uIGlzRW1wdHkoaW5wdXQpIHtcclxuICByZXR1cm4gaXNOdWxsT3JVbmRlZmluZWQkMShpbnB1dCkgfHwgKGlzU3RyaW5nJDEoaW5wdXQpIHx8IGlzQXJyYXkkMShpbnB1dCkgfHwgaXNOb2RlTGlzdCQxKGlucHV0KSkgJiYgIWlucHV0Lmxlbmd0aCB8fCBpc09iamVjdCQxKGlucHV0KSAmJiAhT2JqZWN0LmtleXMoaW5wdXQpLmxlbmd0aDtcclxufTtcclxuXHJcbnZhciBpc1VybCA9IGZ1bmN0aW9uIGlzVXJsKGlucHV0KSB7XHJcbiAgLy8gQWNjZXB0IGEgVVJMIG9iamVjdFxyXG4gIGlmIChpbnN0YW5jZU9mJDEoaW5wdXQsIHdpbmRvdy5VUkwpKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IC8vIE11c3QgYmUgc3RyaW5nIGZyb20gaGVyZVxyXG5cclxuXHJcbiAgaWYgKCFpc1N0cmluZyQxKGlucHV0KSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0gLy8gQWRkIHRoZSBwcm90b2NvbCBpZiByZXF1aXJlZFxyXG5cclxuXHJcbiAgdmFyIHN0cmluZyA9IGlucHV0O1xyXG5cclxuICBpZiAoIWlucHV0LnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSB8fCAhaW5wdXQuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSkge1xyXG4gICAgc3RyaW5nID0gXCJodHRwOi8vXCIuY29uY2F0KGlucHV0KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gIWlzRW1wdHkkMShuZXcgVVJMKHN0cmluZykuaG9zdG5hbWUpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn07XHJcblxyXG52YXIgaXMkMSA9IHtcclxuICBudWxsT3JVbmRlZmluZWQ6IGlzTnVsbE9yVW5kZWZpbmVkJDEsXHJcbiAgb2JqZWN0OiBpc09iamVjdCQxLFxyXG4gIG51bWJlcjogaXNOdW1iZXIkMSxcclxuICBzdHJpbmc6IGlzU3RyaW5nJDEsXHJcbiAgYm9vbGVhbjogaXNCb29sZWFuJDEsXHJcbiAgZnVuY3Rpb246IGlzRnVuY3Rpb24kMSxcclxuICBhcnJheTogaXNBcnJheSQxLFxyXG4gIHdlYWtNYXA6IGlzV2Vha01hcCxcclxuICBub2RlTGlzdDogaXNOb2RlTGlzdCQxLFxyXG4gIGVsZW1lbnQ6IGlzRWxlbWVudCQxLFxyXG4gIHRleHROb2RlOiBpc1RleHROb2RlLFxyXG4gIGV2ZW50OiBpc0V2ZW50JDEsXHJcbiAga2V5Ym9hcmRFdmVudDogaXNLZXlib2FyZEV2ZW50LFxyXG4gIGN1ZTogaXNDdWUsXHJcbiAgdHJhY2s6IGlzVHJhY2ssXHJcbiAgcHJvbWlzZTogaXNQcm9taXNlLFxyXG4gIHVybDogaXNVcmwsXHJcbiAgZW1wdHk6IGlzRW1wdHkkMVxyXG59O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIHRyYW5zaXRpb25FbmRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICB2YXIgZXZlbnRzID0ge1xyXG4gICAgV2Via2l0VHJhbnNpdGlvbjogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxyXG4gICAgTW96VHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnLFxyXG4gICAgT1RyYW5zaXRpb246ICdvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCcsXHJcbiAgICB0cmFuc2l0aW9uOiAndHJhbnNpdGlvbmVuZCdcclxuICB9O1xyXG4gIHZhciB0eXBlID0gT2JqZWN0LmtleXMoZXZlbnRzKS5maW5kKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgcmV0dXJuIGVsZW1lbnQuc3R5bGVbZXZlbnRdICE9PSB1bmRlZmluZWQ7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGlzJDEuc3RyaW5nKHR5cGUpID8gZXZlbnRzW3R5cGVdIDogZmFsc2U7XHJcbn0oKTsgLy8gRm9yY2UgcmVwYWludCBvZiBlbGVtZW50XHJcblxyXG5mdW5jdGlvbiByZXBhaW50KGVsZW1lbnQsIGRlbGF5KSB7XHJcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cclxuICAgICAgZWxlbWVudC5oaWRkZW4gPSB0cnVlOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXHJcblxyXG4gICAgICBlbGVtZW50Lm9mZnNldEhlaWdodDsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXHJcblxyXG4gICAgICBlbGVtZW50LmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgfSBjYXRjaCAoZSkgey8vIERvIG5vdGhpbmdcclxuICAgIH1cclxuICB9LCBkZWxheSk7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEJyb3dzZXIgc25pZmZpbmdcclxuLy8gVW5mb3J0dW5hdGVseSwgZHVlIHRvIG1peGVkIHN1cHBvcnQsIFVBIHNuaWZmaW5nIGlzIHJlcXVpcmVkXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBicm93c2VyID0ge1xyXG4gIGlzSUU6XHJcbiAgLyogQGNjX29uIUAgKi9cclxuICAhIWRvY3VtZW50LmRvY3VtZW50TW9kZSxcclxuICBpc0VkZ2U6IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdFZGdlJyksXHJcbiAgaXNXZWJraXQ6ICdXZWJraXRBcHBlYXJhbmNlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgIS9FZGdlLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFxyXG4gIGlzSVBob25lOiAvKGlQaG9uZXxpUG9kKS9naS50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSksXHJcbiAgaXNJb3M6IC8oaVBhZHxpUGhvbmV8aVBvZCkvZ2kudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pXHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9FdmVudExpc3RlbmVyT3B0aW9ucy9ibG9iL2doLXBhZ2VzL2V4cGxhaW5lci5tZFxyXG4vLyBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PU5QTTYxNzJKMjJnXHJcblxyXG52YXIgc3VwcG9ydHNQYXNzaXZlTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gIC8vIFRlc3QgdmlhIGEgZ2V0dGVyIGluIHRoZSBvcHRpb25zIG9iamVjdCB0byBzZWUgaWYgdGhlIHBhc3NpdmUgcHJvcGVydHkgaXMgYWNjZXNzZWRcclxuICB2YXIgc3VwcG9ydGVkID0gZmFsc2U7XHJcblxyXG4gIHRyeSB7XHJcbiAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRpb25zKTtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0aW9ucyk7XHJcbiAgfSBjYXRjaCAoZSkgey8vIERvIG5vdGhpbmdcclxuICB9XHJcblxyXG4gIHJldHVybiBzdXBwb3J0ZWQ7XHJcbn0oKTsgLy8gVG9nZ2xlIGV2ZW50IGxpc3RlbmVyXHJcblxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlTGlzdGVuZXIoZWxlbWVudCwgZXZlbnQsIGNhbGxiYWNrKSB7XHJcbiAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgdmFyIHRvZ2dsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XHJcbiAgdmFyIHBhc3NpdmUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRydWU7XHJcbiAgdmFyIGNhcHR1cmUgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IGZhbHNlO1xyXG5cclxuICAvLyBCYWlsIGlmIG5vIGVsZW1lbnQsIGV2ZW50LCBvciBjYWxsYmFja1xyXG4gIGlmICghZWxlbWVudCB8fCAhKCdhZGRFdmVudExpc3RlbmVyJyBpbiBlbGVtZW50KSB8fCBpcyQxLmVtcHR5KGV2ZW50KSB8fCAhaXMkMS5mdW5jdGlvbihjYWxsYmFjaykpIHtcclxuICAgIHJldHVybjtcclxuICB9IC8vIEFsbG93IG11bHRpcGxlIGV2ZW50c1xyXG5cclxuXHJcbiAgdmFyIGV2ZW50cyA9IGV2ZW50LnNwbGl0KCcgJyk7IC8vIEJ1aWxkIG9wdGlvbnNcclxuICAvLyBEZWZhdWx0IHRvIGp1c3QgdGhlIGNhcHR1cmUgYm9vbGVhbiBmb3IgYnJvd3NlcnMgd2l0aCBubyBwYXNzaXZlIGxpc3RlbmVyIHN1cHBvcnRcclxuXHJcbiAgdmFyIG9wdGlvbnMgPSBjYXB0dXJlOyAvLyBJZiBwYXNzaXZlIGV2ZW50cyBsaXN0ZW5lcnMgYXJlIHN1cHBvcnRlZFxyXG5cclxuICBpZiAoc3VwcG9ydHNQYXNzaXZlTGlzdGVuZXJzKSB7XHJcbiAgICBvcHRpb25zID0ge1xyXG4gICAgICAvLyBXaGV0aGVyIHRoZSBsaXN0ZW5lciBjYW4gYmUgcGFzc2l2ZSAoaS5lLiBkZWZhdWx0IG5ldmVyIHByZXZlbnRlZClcclxuICAgICAgcGFzc2l2ZTogcGFzc2l2ZSxcclxuICAgICAgLy8gV2hldGhlciB0aGUgbGlzdGVuZXIgaXMgYSBjYXB0dXJpbmcgbGlzdGVuZXIgb3Igbm90XHJcbiAgICAgIGNhcHR1cmU6IGNhcHR1cmVcclxuICAgIH07XHJcbiAgfSAvLyBJZiBhIHNpbmdsZSBub2RlIGlzIHBhc3NlZCwgYmluZCB0aGUgZXZlbnQgbGlzdGVuZXJcclxuXHJcblxyXG4gIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICBpZiAoX3RoaXMgJiYgX3RoaXMuZXZlbnRMaXN0ZW5lcnMgJiYgdG9nZ2xlKSB7XHJcbiAgICAgIC8vIENhY2hlIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgIF90aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2goe1xyXG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXHJcbiAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXHJcbiAgICAgICAgb3B0aW9uczogb3B0aW9uc1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBlbGVtZW50W3RvZ2dsZSA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdyZW1vdmVFdmVudExpc3RlbmVyJ10odHlwZSwgY2FsbGJhY2ssIG9wdGlvbnMpO1xyXG4gIH0pO1xyXG59IC8vIEJpbmQgZXZlbnQgaGFuZGxlclxyXG5cclxuZnVuY3Rpb24gb24oZWxlbWVudCkge1xyXG4gIHZhciBldmVudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xyXG4gIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xyXG4gIHZhciBwYXNzaXZlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB0cnVlO1xyXG4gIHZhciBjYXB0dXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBmYWxzZTtcclxuICB0b2dnbGVMaXN0ZW5lci5jYWxsKHRoaXMsIGVsZW1lbnQsIGV2ZW50cywgY2FsbGJhY2ssIHRydWUsIHBhc3NpdmUsIGNhcHR1cmUpO1xyXG59IC8vIFVuYmluZCBldmVudCBoYW5kbGVyXHJcblxyXG5mdW5jdGlvbiBvZmYoZWxlbWVudCkge1xyXG4gIHZhciBldmVudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xyXG4gIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xyXG4gIHZhciBwYXNzaXZlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB0cnVlO1xyXG4gIHZhciBjYXB0dXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBmYWxzZTtcclxuICB0b2dnbGVMaXN0ZW5lci5jYWxsKHRoaXMsIGVsZW1lbnQsIGV2ZW50cywgY2FsbGJhY2ssIGZhbHNlLCBwYXNzaXZlLCBjYXB0dXJlKTtcclxufSAvLyBCaW5kIG9uY2Utb25seSBldmVudCBoYW5kbGVyXHJcblxyXG5mdW5jdGlvbiBvbmNlKGVsZW1lbnQpIHtcclxuICB2YXIgX3RoaXMyID0gdGhpcztcclxuXHJcbiAgdmFyIGV2ZW50cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XHJcbiAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XHJcbiAgdmFyIHBhc3NpdmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHRydWU7XHJcbiAgdmFyIGNhcHR1cmUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IGZhbHNlO1xyXG5cclxuICB2YXIgb25jZUNhbGxiYWNrID0gZnVuY3Rpb24gb25jZUNhbGxiYWNrKCkge1xyXG4gICAgb2ZmKGVsZW1lbnQsIGV2ZW50cywgb25jZUNhbGxiYWNrLCBwYXNzaXZlLCBjYXB0dXJlKTtcclxuXHJcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcclxuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcclxuICAgIH1cclxuXHJcbiAgICBjYWxsYmFjay5hcHBseShfdGhpczIsIGFyZ3MpO1xyXG4gIH07XHJcblxyXG4gIHRvZ2dsZUxpc3RlbmVyLmNhbGwodGhpcywgZWxlbWVudCwgZXZlbnRzLCBvbmNlQ2FsbGJhY2ssIHRydWUsIHBhc3NpdmUsIGNhcHR1cmUpO1xyXG59IC8vIFRyaWdnZXIgZXZlbnRcclxuXHJcbmZ1bmN0aW9uIHRyaWdnZXJFdmVudChlbGVtZW50KSB7XHJcbiAgdmFyIHR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xyXG4gIHZhciBidWJibGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcclxuICB2YXIgZGV0YWlsID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcclxuXHJcbiAgLy8gQmFpbCBpZiBubyBlbGVtZW50XHJcbiAgaWYgKCFpcyQxLmVsZW1lbnQoZWxlbWVudCkgfHwgaXMkMS5lbXB0eSh0eXBlKSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH0gLy8gQ3JlYXRlIGFuZCBkaXNwYXRjaCB0aGUgZXZlbnRcclxuXHJcblxyXG4gIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudCh0eXBlLCB7XHJcbiAgICBidWJibGVzOiBidWJibGVzLFxyXG4gICAgZGV0YWlsOiBPYmplY3QuYXNzaWduKHt9LCBkZXRhaWwsIHtcclxuICAgICAgcGx5cjogdGhpc1xyXG4gICAgfSlcclxuICB9KTsgLy8gRGlzcGF0Y2ggdGhlIGV2ZW50XHJcblxyXG4gIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcbn0gLy8gVW5iaW5kIGFsbCBjYWNoZWQgZXZlbnQgbGlzdGVuZXJzXHJcblxyXG5mdW5jdGlvbiB1bmJpbmRMaXN0ZW5lcnMoKSB7XHJcbiAgaWYgKHRoaXMgJiYgdGhpcy5ldmVudExpc3RlbmVycykge1xyXG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgIHZhciBlbGVtZW50ID0gaXRlbS5lbGVtZW50LFxyXG4gICAgICAgICAgdHlwZSA9IGl0ZW0udHlwZSxcclxuICAgICAgICAgIGNhbGxiYWNrID0gaXRlbS5jYWxsYmFjayxcclxuICAgICAgICAgIG9wdGlvbnMgPSBpdGVtLm9wdGlvbnM7XHJcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgb3B0aW9ucyk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSBbXTtcclxuICB9XHJcbn0gLy8gUnVuIG1ldGhvZCB3aGVuIC8gaWYgcGxheWVyIGlzIHJlYWR5XHJcblxyXG5mdW5jdGlvbiByZWFkeSgpIHtcclxuICB2YXIgX3RoaXMzID0gdGhpcztcclxuXHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICByZXR1cm4gX3RoaXMzLnJlYWR5ID8gc2V0VGltZW91dChyZXNvbHZlLCAwKSA6IG9uLmNhbGwoX3RoaXMzLCBfdGhpczMuZWxlbWVudHMuY29udGFpbmVyLCAncmVhZHknLCByZXNvbHZlKTtcclxuICB9KS50aGVuKGZ1bmN0aW9uICgpIHt9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvbmVEZWVwKG9iamVjdCkge1xyXG4gIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iamVjdCkpO1xyXG59IC8vIEdldCBhIG5lc3RlZCB2YWx1ZSBpbiBhbiBvYmplY3RcclxuXHJcbmZ1bmN0aW9uIGdldERlZXAob2JqZWN0LCBwYXRoKSB7XHJcbiAgcmV0dXJuIHBhdGguc3BsaXQoJy4nKS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwga2V5KSB7XHJcbiAgICByZXR1cm4gb2JqICYmIG9ialtrZXldO1xyXG4gIH0sIG9iamVjdCk7XHJcbn0gLy8gRGVlcCBleHRlbmQgZGVzdGluYXRpb24gb2JqZWN0IHdpdGggTiBtb3JlIG9iamVjdHNcclxuXHJcbmZ1bmN0aW9uIGV4dGVuZCgpIHtcclxuICB2YXIgdGFyZ2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcclxuXHJcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHNvdXJjZXMgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xyXG4gICAgc291cmNlc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XHJcbiAgfVxyXG5cclxuICBpZiAoIXNvdXJjZXMubGVuZ3RoKSB7XHJcbiAgICByZXR1cm4gdGFyZ2V0O1xyXG4gIH1cclxuXHJcbiAgdmFyIHNvdXJjZSA9IHNvdXJjZXMuc2hpZnQoKTtcclxuXHJcbiAgaWYgKCFpcyQxLm9iamVjdChzb3VyY2UpKSB7XHJcbiAgICByZXR1cm4gdGFyZ2V0O1xyXG4gIH1cclxuXHJcbiAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgIGlmIChpcyQxLm9iamVjdChzb3VyY2Vba2V5XSkpIHtcclxuICAgICAgaWYgKCFPYmplY3Qua2V5cyh0YXJnZXQpLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKHRhcmdldCwgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIHt9KSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGV4dGVuZCh0YXJnZXRba2V5XSwgc291cmNlW2tleV0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgT2JqZWN0LmFzc2lnbih0YXJnZXQsIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LCBzb3VyY2Vba2V5XSkpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJldHVybiBleHRlbmQuYXBwbHkodm9pZCAwLCBbdGFyZ2V0XS5jb25jYXQoc291cmNlcykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB3cmFwKGVsZW1lbnRzLCB3cmFwcGVyKSB7XHJcbiAgLy8gQ29udmVydCBgZWxlbWVudHNgIHRvIGFuIGFycmF5LCBpZiBuZWNlc3NhcnkuXHJcbiAgdmFyIHRhcmdldHMgPSBlbGVtZW50cy5sZW5ndGggPyBlbGVtZW50cyA6IFtlbGVtZW50c107IC8vIExvb3BzIGJhY2t3YXJkcyB0byBwcmV2ZW50IGhhdmluZyB0byBjbG9uZSB0aGUgd3JhcHBlciBvbiB0aGVcclxuICAvLyBmaXJzdCBlbGVtZW50IChzZWUgYGNoaWxkYCBiZWxvdykuXHJcblxyXG4gIEFycmF5LmZyb20odGFyZ2V0cykucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4KSB7XHJcbiAgICB2YXIgY2hpbGQgPSBpbmRleCA+IDAgPyB3cmFwcGVyLmNsb25lTm9kZSh0cnVlKSA6IHdyYXBwZXI7IC8vIENhY2hlIHRoZSBjdXJyZW50IHBhcmVudCBhbmQgc2libGluZy5cclxuXHJcbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgdmFyIHNpYmxpbmcgPSBlbGVtZW50Lm5leHRTaWJsaW5nOyAvLyBXcmFwIHRoZSBlbGVtZW50IChpcyBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgZnJvbSBpdHMgY3VycmVudFxyXG4gICAgLy8gcGFyZW50KS5cclxuXHJcbiAgICBjaGlsZC5hcHBlbmRDaGlsZChlbGVtZW50KTsgLy8gSWYgdGhlIGVsZW1lbnQgaGFkIGEgc2libGluZywgaW5zZXJ0IHRoZSB3cmFwcGVyIGJlZm9yZVxyXG4gICAgLy8gdGhlIHNpYmxpbmcgdG8gbWFpbnRhaW4gdGhlIEhUTUwgc3RydWN0dXJlOyBvdGhlcndpc2UsIGp1c3RcclxuICAgIC8vIGFwcGVuZCBpdCB0byB0aGUgcGFyZW50LlxyXG5cclxuICAgIGlmIChzaWJsaW5nKSB7XHJcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIHNpYmxpbmcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuICAgIH1cclxuICB9KTtcclxufSAvLyBTZXQgYXR0cmlidXRlc1xyXG5cclxuZnVuY3Rpb24gc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzKSB7XHJcbiAgaWYgKCFpcyQxLmVsZW1lbnQoZWxlbWVudCkgfHwgaXMkMS5lbXB0eShhdHRyaWJ1dGVzKSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH0gLy8gQXNzdW1lIG51bGwgYW5kIHVuZGVmaW5lZCBhdHRyaWJ1dGVzIHNob3VsZCBiZSBsZWZ0IG91dCxcclxuICAvLyBTZXR0aW5nIHRoZW0gd291bGQgb3RoZXJ3aXNlIGNvbnZlcnQgdGhlbSB0byBcIm51bGxcIiBhbmQgXCJ1bmRlZmluZWRcIlxyXG5cclxuXHJcbiAgT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykuZmlsdGVyKGZ1bmN0aW9uIChfcmVmKSB7XHJcbiAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcclxuICAgICAgICB2YWx1ZSA9IF9yZWYyWzFdO1xyXG5cclxuICAgIHJldHVybiAhaXMkMS5udWxsT3JVbmRlZmluZWQodmFsdWUpO1xyXG4gIH0pLmZvckVhY2goZnVuY3Rpb24gKF9yZWYzKSB7XHJcbiAgICB2YXIgX3JlZjQgPSBfc2xpY2VkVG9BcnJheShfcmVmMywgMiksXHJcbiAgICAgICAga2V5ID0gX3JlZjRbMF0sXHJcbiAgICAgICAgdmFsdWUgPSBfcmVmNFsxXTtcclxuXHJcbiAgICByZXR1cm4gZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XHJcbiAgfSk7XHJcbn0gLy8gQ3JlYXRlIGEgRG9jdW1lbnRGcmFnbWVudFxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XHJcbiAgLy8gQ3JlYXRlIGEgbmV3IDxlbGVtZW50PlxyXG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTsgLy8gU2V0IGFsbCBwYXNzZWQgYXR0cmlidXRlc1xyXG5cclxuICBpZiAoaXMkMS5vYmplY3QoYXR0cmlidXRlcykpIHtcclxuICAgIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlcyk7XHJcbiAgfSAvLyBBZGQgdGV4dCBub2RlXHJcblxyXG5cclxuICBpZiAoaXMkMS5zdHJpbmcodGV4dCkpIHtcclxuICAgIGVsZW1lbnQuaW5uZXJUZXh0ID0gdGV4dDtcclxuICB9IC8vIFJldHVybiBidWlsdCBlbGVtZW50XHJcblxyXG5cclxuICByZXR1cm4gZWxlbWVudDtcclxufSAvLyBJbmFlcnQgYW4gZWxlbWVudCBhZnRlciBhbm90aGVyXHJcblxyXG5mdW5jdGlvbiBpbnNlcnRBZnRlcihlbGVtZW50LCB0YXJnZXQpIHtcclxuICBpZiAoIWlzJDEuZWxlbWVudChlbGVtZW50KSB8fCAhaXMkMS5lbGVtZW50KHRhcmdldCkpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHRhcmdldC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGVtZW50LCB0YXJnZXQubmV4dFNpYmxpbmcpO1xyXG59IC8vIEluc2VydCBhIERvY3VtZW50RnJhZ21lbnRcclxuXHJcbmZ1bmN0aW9uIGluc2VydEVsZW1lbnQodHlwZSwgcGFyZW50LCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XHJcbiAgaWYgKCFpcyQxLmVsZW1lbnQocGFyZW50KSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgcGFyZW50LmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQodHlwZSwgYXR0cmlidXRlcywgdGV4dCkpO1xyXG59IC8vIFJlbW92ZSBlbGVtZW50KHMpXHJcblxyXG5mdW5jdGlvbiByZW1vdmVFbGVtZW50KGVsZW1lbnQpIHtcclxuICBpZiAoaXMkMS5ub2RlTGlzdChlbGVtZW50KSB8fCBpcyQxLmFycmF5KGVsZW1lbnQpKSB7XHJcbiAgICBBcnJheS5mcm9tKGVsZW1lbnQpLmZvckVhY2gocmVtb3ZlRWxlbWVudCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBpZiAoIWlzJDEuZWxlbWVudChlbGVtZW50KSB8fCAhaXMkMS5lbGVtZW50KGVsZW1lbnQucGFyZW50Tm9kZSkpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcclxufSAvLyBSZW1vdmUgYWxsIGNoaWxkIGVsZW1lbnRzXHJcblxyXG5mdW5jdGlvbiBlbXB0eUVsZW1lbnQoZWxlbWVudCkge1xyXG4gIGlmICghaXMkMS5lbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICB2YXIgbGVuZ3RoID0gZWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aDtcclxuXHJcbiAgd2hpbGUgKGxlbmd0aCA+IDApIHtcclxuICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5sYXN0Q2hpbGQpO1xyXG4gICAgbGVuZ3RoIC09IDE7XHJcbiAgfVxyXG59IC8vIFJlcGxhY2UgZWxlbWVudFxyXG5cclxuZnVuY3Rpb24gcmVwbGFjZUVsZW1lbnQobmV3Q2hpbGQsIG9sZENoaWxkKSB7XHJcbiAgaWYgKCFpcyQxLmVsZW1lbnQob2xkQ2hpbGQpIHx8ICFpcyQxLmVsZW1lbnQob2xkQ2hpbGQucGFyZW50Tm9kZSkgfHwgIWlzJDEuZWxlbWVudChuZXdDaGlsZCkpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgb2xkQ2hpbGQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3Q2hpbGQsIG9sZENoaWxkKTtcclxuICByZXR1cm4gbmV3Q2hpbGQ7XHJcbn0gLy8gR2V0IGFuIGF0dHJpYnV0ZSBvYmplY3QgZnJvbSBhIHN0cmluZyBzZWxlY3RvclxyXG5cclxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlc0Zyb21TZWxlY3RvcihzZWwsIGV4aXN0aW5nQXR0cmlidXRlcykge1xyXG4gIC8vIEZvciBleGFtcGxlOlxyXG4gIC8vICcudGVzdCcgdG8geyBjbGFzczogJ3Rlc3QnIH1cclxuICAvLyAnI3Rlc3QnIHRvIHsgaWQ6ICd0ZXN0JyB9XHJcbiAgLy8gJ1tkYXRhLXRlc3Q9XCJ0ZXN0XCJdJyB0byB7ICdkYXRhLXRlc3QnOiAndGVzdCcgfVxyXG4gIGlmICghaXMkMS5zdHJpbmcoc2VsKSB8fCBpcyQxLmVtcHR5KHNlbCkpIHtcclxuICAgIHJldHVybiB7fTtcclxuICB9XHJcblxyXG4gIHZhciBhdHRyaWJ1dGVzID0ge307XHJcbiAgdmFyIGV4aXN0aW5nID0gZXh0ZW5kKHt9LCBleGlzdGluZ0F0dHJpYnV0ZXMpO1xyXG4gIHNlbC5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcclxuICAgIC8vIFJlbW92ZSB3aGl0ZXNwYWNlXHJcbiAgICB2YXIgc2VsZWN0b3IgPSBzLnRyaW0oKTtcclxuICAgIHZhciBjbGFzc05hbWUgPSBzZWxlY3Rvci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgdmFyIHN0cmlwcGVkID0gc2VsZWN0b3IucmVwbGFjZSgvW1tcXF1dL2csICcnKTsgLy8gR2V0IHRoZSBwYXJ0cyBhbmQgdmFsdWVcclxuXHJcbiAgICB2YXIgcGFydHMgPSBzdHJpcHBlZC5zcGxpdCgnPScpO1xyXG5cclxuICAgIHZhciBfcGFydHMgPSBfc2xpY2VkVG9BcnJheShwYXJ0cywgMSksXHJcbiAgICAgICAga2V5ID0gX3BhcnRzWzBdO1xyXG5cclxuICAgIHZhciB2YWx1ZSA9IHBhcnRzLmxlbmd0aCA+IDEgPyBwYXJ0c1sxXS5yZXBsYWNlKC9bXCInXS9nLCAnJykgOiAnJzsgLy8gR2V0IHRoZSBmaXJzdCBjaGFyYWN0ZXJcclxuXHJcbiAgICB2YXIgc3RhcnQgPSBzZWxlY3Rvci5jaGFyQXQoMCk7XHJcblxyXG4gICAgc3dpdGNoIChzdGFydCkge1xyXG4gICAgICBjYXNlICcuJzpcclxuICAgICAgICAvLyBBZGQgdG8gZXhpc3RpbmcgY2xhc3NuYW1lXHJcbiAgICAgICAgaWYgKGlzJDEuc3RyaW5nKGV4aXN0aW5nLmNsYXNzKSkge1xyXG4gICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyA9IFwiXCIuY29uY2F0KGV4aXN0aW5nLmNsYXNzLCBcIiBcIikuY29uY2F0KGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJyMnOlxyXG4gICAgICAgIC8vIElEIHNlbGVjdG9yXHJcbiAgICAgICAgYXR0cmlidXRlcy5pZCA9IHNlbGVjdG9yLnJlcGxhY2UoJyMnLCAnJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdbJzpcclxuICAgICAgICAvLyBBdHRyaWJ1dGUgc2VsZWN0b3JcclxuICAgICAgICBhdHRyaWJ1dGVzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGV4dGVuZChleGlzdGluZywgYXR0cmlidXRlcyk7XHJcbn0gLy8gVG9nZ2xlIGhpZGRlblxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlSGlkZGVuKGVsZW1lbnQsIGhpZGRlbikge1xyXG4gIGlmICghaXMkMS5lbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICB2YXIgaGlkZSA9IGhpZGRlbjtcclxuXHJcbiAgaWYgKCFpcyQxLmJvb2xlYW4oaGlkZSkpIHtcclxuICAgIGhpZGUgPSAhZWxlbWVudC5oaWRkZW47XHJcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cclxuXHJcblxyXG4gIGVsZW1lbnQuaGlkZGVuID0gaGlkZTtcclxufSAvLyBNaXJyb3IgRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlLCB3aXRoIElFIGNvbXBhdGliaWxpdHkgZm9yIFwiZm9yY2VcIiBhcmd1bWVudFxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lLCBmb3JjZSkge1xyXG4gIGlmIChpcyQxLm5vZGVMaXN0KGVsZW1lbnQpKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50KS5tYXAoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgcmV0dXJuIHRvZ2dsZUNsYXNzKGUsIGNsYXNzTmFtZSwgZm9yY2UpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAoaXMkMS5lbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICB2YXIgbWV0aG9kID0gJ3RvZ2dsZSc7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBmb3JjZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgbWV0aG9kID0gZm9yY2UgPyAnYWRkJyA6ICdyZW1vdmUnO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnQuY2xhc3NMaXN0W21ldGhvZF0oY2xhc3NOYW1lKTtcclxuICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59IC8vIEhhcyBjbGFzcyBuYW1lXHJcblxyXG5mdW5jdGlvbiBoYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICByZXR1cm4gaXMkMS5lbGVtZW50KGVsZW1lbnQpICYmIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XHJcbn0gLy8gRWxlbWVudCBtYXRjaGVzIHNlbGVjdG9yXHJcblxyXG5mdW5jdGlvbiBtYXRjaGVzJDEoZWxlbWVudCwgc2VsZWN0b3IpIHtcclxuXHJcbiAgZnVuY3Rpb24gbWF0Y2goKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkuaW5jbHVkZXModGhpcyk7XHJcbiAgfVxyXG5cclxuICB2YXIgbWV0aG9kID0gbWF0Y2g7XHJcbiAgcmV0dXJuIG1ldGhvZC5jYWxsKGVsZW1lbnQsIHNlbGVjdG9yKTtcclxufSAvLyBGaW5kIGFsbCBlbGVtZW50c1xyXG5cclxuZnVuY3Rpb24gZ2V0RWxlbWVudHMoc2VsZWN0b3IpIHtcclxuICByZXR1cm4gdGhpcy5lbGVtZW50cy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcbn0gLy8gRmluZCBhIHNpbmdsZSBlbGVtZW50XHJcblxyXG5mdW5jdGlvbiBnZXRFbGVtZW50KHNlbGVjdG9yKSB7XHJcbiAgcmV0dXJuIHRoaXMuZWxlbWVudHMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG59IC8vIFRyYXAgZm9jdXMgaW5zaWRlIGNvbnRhaW5lclxyXG5cclxuZnVuY3Rpb24gdHJhcEZvY3VzKCkge1xyXG4gIHZhciBlbGVtZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xyXG4gIHZhciB0b2dnbGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xyXG5cclxuICBpZiAoIWlzJDEuZWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgdmFyIGZvY3VzYWJsZSA9IGdldEVsZW1lbnRzLmNhbGwodGhpcywgJ2J1dHRvbjpub3QoOmRpc2FibGVkKSwgaW5wdXQ6bm90KDpkaXNhYmxlZCksIFt0YWJpbmRleF0nKTtcclxuICB2YXIgZmlyc3QgPSBmb2N1c2FibGVbMF07XHJcbiAgdmFyIGxhc3QgPSBmb2N1c2FibGVbZm9jdXNhYmxlLmxlbmd0aCAtIDFdO1xyXG5cclxuICB2YXIgdHJhcCA9IGZ1bmN0aW9uIHRyYXAoZXZlbnQpIHtcclxuICAgIC8vIEJhaWwgaWYgbm90IHRhYiBrZXkgb3Igbm90IGZ1bGxzY3JlZW5cclxuICAgIGlmIChldmVudC5rZXkgIT09ICdUYWInIHx8IGV2ZW50LmtleUNvZGUgIT09IDkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSAvLyBHZXQgdGhlIGN1cnJlbnQgZm9jdXNlZCBlbGVtZW50XHJcblxyXG5cclxuICAgIHZhciBmb2N1c2VkID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuXHJcbiAgICBpZiAoZm9jdXNlZCA9PT0gbGFzdCAmJiAhZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgLy8gTW92ZSBmb2N1cyB0byBmaXJzdCBlbGVtZW50IHRoYXQgY2FuIGJlIHRhYmJlZCBpZiBTaGlmdCBpc24ndCB1c2VkXHJcbiAgICAgIGZpcnN0LmZvY3VzKCk7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9IGVsc2UgaWYgKGZvY3VzZWQgPT09IGZpcnN0ICYmIGV2ZW50LnNoaWZ0S2V5KSB7XHJcbiAgICAgIC8vIE1vdmUgZm9jdXMgdG8gbGFzdCBlbGVtZW50IHRoYXQgY2FuIGJlIHRhYmJlZCBpZiBTaGlmdCBpcyB1c2VkXHJcbiAgICAgIGxhc3QuZm9jdXMoKTtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0b2dnbGVMaXN0ZW5lci5jYWxsKHRoaXMsIHRoaXMuZWxlbWVudHMuY29udGFpbmVyLCAna2V5ZG93bicsIHRyYXAsIHRvZ2dsZSwgZmFsc2UpO1xyXG59IC8vIFNldCBmb2N1cyBhbmQgdGFiIGZvY3VzIGNsYXNzXHJcblxyXG5mdW5jdGlvbiBzZXRGb2N1cygpIHtcclxuICB2YXIgZWxlbWVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcclxuICB2YXIgdGFiRm9jdXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xyXG5cclxuICBpZiAoIWlzJDEuZWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH0gLy8gU2V0IHJlZ3VsYXIgZm9jdXNcclxuXHJcblxyXG4gIGVsZW1lbnQuZm9jdXMoe1xyXG4gICAgcHJldmVudFNjcm9sbDogdHJ1ZVxyXG4gIH0pOyAvLyBJZiB3ZSB3YW50IHRvIG1pbWljIGtleWJvYXJkIGZvY3VzIHZpYSB0YWJcclxuXHJcbiAgaWYgKHRhYkZvY3VzKSB7XHJcbiAgICB0b2dnbGVDbGFzcyhlbGVtZW50LCB0aGlzLmNvbmZpZy5jbGFzc05hbWVzLnRhYkZvY3VzKTtcclxuICB9XHJcbn1cclxuXHJcbnZhciBkZWZhdWx0Q29kZWNzID0ge1xyXG4gICdhdWRpby9vZ2cnOiAndm9yYmlzJyxcclxuICAnYXVkaW8vd2F2JzogJzEnLFxyXG4gICd2aWRlby93ZWJtJzogJ3ZwOCwgdm9yYmlzJyxcclxuICAndmlkZW8vbXA0JzogJ2F2YzEuNDJFMDFFLCBtcDRhLjQwLjInLFxyXG4gICd2aWRlby9vZ2cnOiAndGhlb3JhJ1xyXG59OyAvLyBDaGVjayBmb3IgZmVhdHVyZSBzdXBwb3J0XHJcblxyXG52YXIgc3VwcG9ydCA9IHtcclxuICAvLyBCYXNpYyBzdXBwb3J0XHJcbiAgYXVkaW86ICdjYW5QbGF5VHlwZScgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKSxcclxuICB2aWRlbzogJ2NhblBsYXlUeXBlJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpLFxyXG4gIC8vIENoZWNrIGZvciBzdXBwb3J0XHJcbiAgLy8gQmFzaWMgZnVuY3Rpb25hbGl0eSB2cyBmdWxsIFVJXHJcbiAgY2hlY2s6IGZ1bmN0aW9uIGNoZWNrKHR5cGUsIHByb3ZpZGVyLCBwbGF5c2lubGluZSkge1xyXG4gICAgdmFyIGNhblBsYXlJbmxpbmUgPSBicm93c2VyLmlzSVBob25lICYmIHBsYXlzaW5saW5lICYmIHN1cHBvcnQucGxheXNpbmxpbmU7XHJcbiAgICB2YXIgYXBpID0gc3VwcG9ydFt0eXBlXSB8fCBwcm92aWRlciAhPT0gJ2h0bWw1JztcclxuICAgIHZhciB1aSA9IGFwaSAmJiBzdXBwb3J0LnJhbmdlSW5wdXQgJiYgKHR5cGUgIT09ICd2aWRlbycgfHwgIWJyb3dzZXIuaXNJUGhvbmUgfHwgY2FuUGxheUlubGluZSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhcGk6IGFwaSxcclxuICAgICAgdWk6IHVpXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgLy8gUGljdHVyZS1pbi1waWN0dXJlIHN1cHBvcnRcclxuICAvLyBTYWZhcmkgJiBDaHJvbWUgb25seSBjdXJyZW50bHlcclxuICBwaXA6IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChicm93c2VyLmlzSVBob25lKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gLy8gU2FmYXJpXHJcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi93ZWJraXRqcy9hZGRpbmdfcGljdHVyZV9pbl9waWN0dXJlX3RvX3lvdXJfc2FmYXJpX21lZGlhX2NvbnRyb2xzXHJcblxyXG5cclxuICAgIGlmIChpcyQxLmZ1bmN0aW9uKGNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJykud2Via2l0U2V0UHJlc2VudGF0aW9uTW9kZSkpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IC8vIENocm9tZVxyXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vd2ViL3VwZGF0ZXMvMjAxOC8xMC93YXRjaC12aWRlby11c2luZy1waWN0dXJlLWluLXBpY3R1cmVcclxuXHJcblxyXG4gICAgaWYgKGRvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbmFibGVkICYmICFjcmVhdGVFbGVtZW50KCd2aWRlbycpLmRpc2FibGVQaWN0dXJlSW5QaWN0dXJlKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9KCksXHJcbiAgLy8gQWlycGxheSBzdXBwb3J0XHJcbiAgLy8gU2FmYXJpIG9ubHkgY3VycmVudGx5XHJcbiAgYWlycGxheTogaXMkMS5mdW5jdGlvbih3aW5kb3cuV2ViS2l0UGxheWJhY2tUYXJnZXRBdmFpbGFiaWxpdHlFdmVudCksXHJcbiAgLy8gSW5saW5lIHBsYXliYWNrIHN1cHBvcnRcclxuICAvLyBodHRwczovL3dlYmtpdC5vcmcvYmxvZy82Nzg0L25ldy12aWRlby1wb2xpY2llcy1mb3ItaW9zL1xyXG4gIHBsYXlzaW5saW5lOiAncGxheXNJbmxpbmUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyksXHJcbiAgLy8gQ2hlY2sgZm9yIG1pbWUgdHlwZSBzdXBwb3J0IGFnYWluc3QgYSBwbGF5ZXIgaW5zdGFuY2VcclxuICAvLyBDcmVkaXRzOiBodHRwOi8vZGl2ZWludG9odG1sNS5pbmZvL2V2ZXJ5dGhpbmcuaHRtbFxyXG4gIC8vIFJlbGF0ZWQ6IGh0dHA6Ly93d3cubGVhbmJhY2twbGF5ZXIuY29tL3Rlc3QvaDVtdC5odG1sXHJcbiAgbWltZTogZnVuY3Rpb24gbWltZShpbnB1dCkge1xyXG4gICAgaWYgKGlzJDEuZW1wdHkoaW5wdXQpKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgX2lucHV0JHNwbGl0ID0gaW5wdXQuc3BsaXQoJy8nKSxcclxuICAgICAgICBfaW5wdXQkc3BsaXQyID0gX3NsaWNlZFRvQXJyYXkoX2lucHV0JHNwbGl0LCAxKSxcclxuICAgICAgICBtZWRpYVR5cGUgPSBfaW5wdXQkc3BsaXQyWzBdO1xyXG5cclxuICAgIHZhciB0eXBlID0gaW5wdXQ7IC8vIFZlcmlmeSB3ZSdyZSB1c2luZyBIVE1MNSBhbmQgdGhlcmUncyBubyBtZWRpYSB0eXBlIG1pc21hdGNoXHJcblxyXG4gICAgaWYgKCF0aGlzLmlzSFRNTDUgfHwgbWVkaWFUeXBlICE9PSB0aGlzLnR5cGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSAvLyBBZGQgY29kZWMgaWYgcmVxdWlyZWRcclxuXHJcblxyXG4gICAgaWYgKE9iamVjdC5rZXlzKGRlZmF1bHRDb2RlY3MpLmluY2x1ZGVzKHR5cGUpKSB7XHJcbiAgICAgIHR5cGUgKz0gXCI7IGNvZGVjcz1cXFwiXCIuY29uY2F0KGRlZmF1bHRDb2RlY3NbaW5wdXRdLCBcIlxcXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIEJvb2xlYW4odHlwZSAmJiB0aGlzLm1lZGlhLmNhblBsYXlUeXBlKHR5cGUpLnJlcGxhY2UoL25vLywgJycpKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8gQ2hlY2sgZm9yIHRleHRUcmFja3Mgc3VwcG9ydFxyXG4gIHRleHRUcmFja3M6ICd0ZXh0VHJhY2tzJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpLFxyXG4gIC8vIDxpbnB1dCB0eXBlPVwicmFuZ2VcIj4gU2xpZGVyc1xyXG4gIHJhbmdlSW5wdXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICByYW5nZS50eXBlID0gJ3JhbmdlJztcclxuICAgIHJldHVybiByYW5nZS50eXBlID09PSAncmFuZ2UnO1xyXG4gIH0oKSxcclxuICAvLyBUb3VjaFxyXG4gIC8vIE5PVEU6IFJlbWVtYmVyIGEgZGV2aWNlIGNhbiBiZSBtb3VzZSArIHRvdWNoIGVuYWJsZWQgc28gd2UgY2hlY2sgb24gZmlyc3QgdG91Y2ggZXZlbnRcclxuICB0b3VjaDogJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxyXG4gIC8vIERldGVjdCB0cmFuc2l0aW9ucyBzdXBwb3J0XHJcbiAgdHJhbnNpdGlvbnM6IHRyYW5zaXRpb25FbmRFdmVudCAhPT0gZmFsc2UsXHJcbiAgLy8gUmVkdWNlZCBtb3Rpb24gaU9TICYgTWFjT1Mgc2V0dGluZ1xyXG4gIC8vIGh0dHBzOi8vd2Via2l0Lm9yZy9ibG9nLzc1NTEvcmVzcG9uc2l2ZS1kZXNpZ24tZm9yLW1vdGlvbi9cclxuICByZWR1Y2VkTW90aW9uOiAnbWF0Y2hNZWRpYScgaW4gd2luZG93ICYmIHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbiknKS5tYXRjaGVzXHJcbn07XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZVJhdGlvKGlucHV0KSB7XHJcbiAgaWYgKCFpcyQxLmFycmF5KGlucHV0KSAmJiAoIWlzJDEuc3RyaW5nKGlucHV0KSB8fCAhaW5wdXQuaW5jbHVkZXMoJzonKSkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHZhciByYXRpbyA9IGlzJDEuYXJyYXkoaW5wdXQpID8gaW5wdXQgOiBpbnB1dC5zcGxpdCgnOicpO1xyXG4gIHJldHVybiByYXRpby5tYXAoTnVtYmVyKS5ldmVyeShpcyQxLm51bWJlcik7XHJcbn1cclxuZnVuY3Rpb24gcmVkdWNlQXNwZWN0UmF0aW8ocmF0aW8pIHtcclxuICBpZiAoIWlzJDEuYXJyYXkocmF0aW8pIHx8ICFyYXRpby5ldmVyeShpcyQxLm51bWJlcikpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgdmFyIF9yYXRpbyA9IF9zbGljZWRUb0FycmF5KHJhdGlvLCAyKSxcclxuICAgICAgd2lkdGggPSBfcmF0aW9bMF0sXHJcbiAgICAgIGhlaWdodCA9IF9yYXRpb1sxXTtcclxuXHJcbiAgdmFyIGdldERpdmlkZXIgPSBmdW5jdGlvbiBnZXREaXZpZGVyKHcsIGgpIHtcclxuICAgIHJldHVybiBoID09PSAwID8gdyA6IGdldERpdmlkZXIoaCwgdyAlIGgpO1xyXG4gIH07XHJcblxyXG4gIHZhciBkaXZpZGVyID0gZ2V0RGl2aWRlcih3aWR0aCwgaGVpZ2h0KTtcclxuICByZXR1cm4gW3dpZHRoIC8gZGl2aWRlciwgaGVpZ2h0IC8gZGl2aWRlcl07XHJcbn1cclxuZnVuY3Rpb24gZ2V0QXNwZWN0UmF0aW8oaW5wdXQpIHtcclxuICB2YXIgcGFyc2UgPSBmdW5jdGlvbiBwYXJzZShyYXRpbykge1xyXG4gICAgcmV0dXJuIHZhbGlkYXRlUmF0aW8ocmF0aW8pID8gcmF0aW8uc3BsaXQoJzonKS5tYXAoTnVtYmVyKSA6IG51bGw7XHJcbiAgfTsgLy8gVHJ5IHByb3ZpZGVkIHJhdGlvXHJcblxyXG5cclxuICB2YXIgcmF0aW8gPSBwYXJzZShpbnB1dCk7IC8vIEdldCBmcm9tIGNvbmZpZ1xyXG5cclxuICBpZiAocmF0aW8gPT09IG51bGwpIHtcclxuICAgIHJhdGlvID0gcGFyc2UodGhpcy5jb25maWcucmF0aW8pO1xyXG4gIH0gLy8gR2V0IGZyb20gZW1iZWRcclxuXHJcblxyXG4gIGlmIChyYXRpbyA9PT0gbnVsbCAmJiAhaXMkMS5lbXB0eSh0aGlzLmVtYmVkKSAmJiBpcyQxLmFycmF5KHRoaXMuZW1iZWQucmF0aW8pKSB7XHJcbiAgICByYXRpbyA9IHRoaXMuZW1iZWQucmF0aW87XHJcbiAgfSAvLyBHZXQgZnJvbSBIVE1MNSB2aWRlb1xyXG5cclxuXHJcbiAgaWYgKHJhdGlvID09PSBudWxsICYmIHRoaXMuaXNIVE1MNSkge1xyXG4gICAgdmFyIF90aGlzJG1lZGlhID0gdGhpcy5tZWRpYSxcclxuICAgICAgICB2aWRlb1dpZHRoID0gX3RoaXMkbWVkaWEudmlkZW9XaWR0aCxcclxuICAgICAgICB2aWRlb0hlaWdodCA9IF90aGlzJG1lZGlhLnZpZGVvSGVpZ2h0O1xyXG4gICAgcmF0aW8gPSByZWR1Y2VBc3BlY3RSYXRpbyhbdmlkZW9XaWR0aCwgdmlkZW9IZWlnaHRdKTtcclxuICB9XHJcblxyXG4gIHJldHVybiByYXRpbztcclxufSAvLyBTZXQgYXNwZWN0IHJhdGlvIGZvciByZXNwb25zaXZlIGNvbnRhaW5lclxyXG5cclxuZnVuY3Rpb24gc2V0QXNwZWN0UmF0aW8oaW5wdXQpIHtcclxuICBpZiAoIXRoaXMuaXNWaWRlbykge1xyXG4gICAgcmV0dXJuIHt9O1xyXG4gIH1cclxuXHJcbiAgdmFyIHJhdGlvID0gZ2V0QXNwZWN0UmF0aW8uY2FsbCh0aGlzLCBpbnB1dCk7XHJcblxyXG4gIHZhciBfcmVmID0gaXMkMS5hcnJheShyYXRpbykgPyByYXRpbyA6IFswLCAwXSxcclxuICAgICAgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcclxuICAgICAgdyA9IF9yZWYyWzBdLFxyXG4gICAgICBoID0gX3JlZjJbMV07XHJcblxyXG4gIHZhciBwYWRkaW5nID0gMTAwIC8gdyAqIGg7XHJcbiAgdGhpcy5lbGVtZW50cy53cmFwcGVyLnN0eWxlLnBhZGRpbmdCb3R0b20gPSBcIlwiLmNvbmNhdChwYWRkaW5nLCBcIiVcIik7IC8vIEZvciBWaW1lbyB3ZSBoYXZlIGFuIGV4dHJhIDxkaXY+IHRvIGhpZGUgdGhlIHN0YW5kYXJkIGNvbnRyb2xzIGFuZCBVSVxyXG5cclxuICBpZiAodGhpcy5pc1ZpbWVvICYmIHRoaXMuc3VwcG9ydGVkLnVpKSB7XHJcbiAgICB2YXIgaGVpZ2h0ID0gMjQwO1xyXG4gICAgdmFyIG9mZnNldCA9IChoZWlnaHQgLSBwYWRkaW5nKSAvIChoZWlnaHQgLyA1MCk7XHJcbiAgICB0aGlzLm1lZGlhLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgtXCIuY29uY2F0KG9mZnNldCwgXCIlKVwiKTtcclxuICB9IGVsc2UgaWYgKHRoaXMuaXNIVE1MNSkge1xyXG4gICAgdGhpcy5lbGVtZW50cy53cmFwcGVyLmNsYXNzTGlzdC50b2dnbGUodGhpcy5jb25maWcuY2xhc3NOYW1lcy52aWRlb0ZpeGVkUmF0aW8sIHJhdGlvICE9PSBudWxsKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBwYWRkaW5nOiBwYWRkaW5nLFxyXG4gICAgcmF0aW86IHJhdGlvXHJcbiAgfTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIGh0bWw1ID0ge1xyXG4gIGdldFNvdXJjZXM6IGZ1bmN0aW9uIGdldFNvdXJjZXMoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGlmICghdGhpcy5pc0hUTUw1KSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgc291cmNlcyA9IEFycmF5LmZyb20odGhpcy5tZWRpYS5xdWVyeVNlbGVjdG9yQWxsKCdzb3VyY2UnKSk7IC8vIEZpbHRlciBvdXQgdW5zdXBwb3J0ZWQgc291cmNlcyAoaWYgdHlwZSBpcyBzcGVjaWZpZWQpXHJcblxyXG4gICAgcmV0dXJuIHNvdXJjZXMuZmlsdGVyKGZ1bmN0aW9uIChzb3VyY2UpIHtcclxuICAgICAgdmFyIHR5cGUgPSBzb3VyY2UuZ2V0QXR0cmlidXRlKCd0eXBlJyk7XHJcblxyXG4gICAgICBpZiAoaXMkMS5lbXB0eSh0eXBlKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc3VwcG9ydC5taW1lLmNhbGwoX3RoaXMsIHR5cGUpO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICAvLyBHZXQgcXVhbGl0eSBsZXZlbHNcclxuICBnZXRRdWFsaXR5T3B0aW9uczogZnVuY3Rpb24gZ2V0UXVhbGl0eU9wdGlvbnMoKSB7XHJcbiAgICAvLyBHZXQgc2l6ZXMgZnJvbSA8c291cmNlPiBlbGVtZW50c1xyXG4gICAgcmV0dXJuIGh0bWw1LmdldFNvdXJjZXMuY2FsbCh0aGlzKS5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xyXG4gICAgICByZXR1cm4gTnVtYmVyKHNvdXJjZS5nZXRBdHRyaWJ1dGUoJ3NpemUnKSk7XHJcbiAgICB9KS5maWx0ZXIoQm9vbGVhbik7XHJcbiAgfSxcclxuICBleHRlbmQ6IGZ1bmN0aW9uIGV4dGVuZCgpIHtcclxuICAgIGlmICghdGhpcy5pc0hUTUw1KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcGxheWVyID0gdGhpczsgLy8gU2V0IGFzcGVjdCByYXRpbyBpZiBmaXhlZFxyXG5cclxuICAgIGlmICghaXMkMS5lbXB0eSh0aGlzLmNvbmZpZy5yYXRpbykpIHtcclxuICAgICAgc2V0QXNwZWN0UmF0aW8uY2FsbChwbGF5ZXIpO1xyXG4gICAgfSAvLyBRdWFsaXR5XHJcblxyXG5cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwbGF5ZXIubWVkaWEsICdxdWFsaXR5Jywge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICAvLyBHZXQgc291cmNlc1xyXG4gICAgICAgIHZhciBzb3VyY2VzID0gaHRtbDUuZ2V0U291cmNlcy5jYWxsKHBsYXllcik7XHJcbiAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXMuZmluZChmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgcmV0dXJuIHMuZ2V0QXR0cmlidXRlKCdzcmMnKSA9PT0gcGxheWVyLnNvdXJjZTtcclxuICAgICAgICB9KTsgLy8gUmV0dXJuIHNpemUsIGlmIG1hdGNoIGlzIGZvdW5kXHJcblxyXG4gICAgICAgIHJldHVybiBzb3VyY2UgJiYgTnVtYmVyKHNvdXJjZS5nZXRBdHRyaWJ1dGUoJ3NpemUnKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGlucHV0KSB7XHJcbiAgICAgICAgLy8gR2V0IHNvdXJjZXNcclxuICAgICAgICB2YXIgc291cmNlcyA9IGh0bWw1LmdldFNvdXJjZXMuY2FsbChwbGF5ZXIpOyAvLyBHZXQgZmlyc3QgbWF0Y2ggZm9yIHJlcXVlc3RlZCBzaXplXHJcblxyXG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzLmZpbmQoZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgIHJldHVybiBOdW1iZXIocy5nZXRBdHRyaWJ1dGUoJ3NpemUnKSkgPT09IGlucHV0O1xyXG4gICAgICAgIH0pOyAvLyBObyBtYXRjaGluZyBzb3VyY2UgZm91bmRcclxuXHJcbiAgICAgICAgaWYgKCFzb3VyY2UpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IC8vIEdldCBjdXJyZW50IHN0YXRlXHJcblxyXG5cclxuICAgICAgICB2YXIgX3BsYXllciRtZWRpYSA9IHBsYXllci5tZWRpYSxcclxuICAgICAgICAgICAgY3VycmVudFRpbWUgPSBfcGxheWVyJG1lZGlhLmN1cnJlbnRUaW1lLFxyXG4gICAgICAgICAgICBwYXVzZWQgPSBfcGxheWVyJG1lZGlhLnBhdXNlZCxcclxuICAgICAgICAgICAgcHJlbG9hZCA9IF9wbGF5ZXIkbWVkaWEucHJlbG9hZCxcclxuICAgICAgICAgICAgcmVhZHlTdGF0ZSA9IF9wbGF5ZXIkbWVkaWEucmVhZHlTdGF0ZTsgLy8gU2V0IG5ldyBzb3VyY2VcclxuXHJcbiAgICAgICAgcGxheWVyLm1lZGlhLnNyYyA9IHNvdXJjZS5nZXRBdHRyaWJ1dGUoJ3NyYycpOyAvLyBQcmV2ZW50IGxvYWRpbmcgaWYgcHJlbG9hZD1cIm5vbmVcIiBhbmQgdGhlIGN1cnJlbnQgc291cmNlIGlzbid0IGxvYWRlZCAoIzEwNDQpXHJcblxyXG4gICAgICAgIGlmIChwcmVsb2FkICE9PSAnbm9uZScgfHwgcmVhZHlTdGF0ZSkge1xyXG4gICAgICAgICAgLy8gUmVzdG9yZSB0aW1lXHJcbiAgICAgICAgICBwbGF5ZXIub25jZSgnbG9hZGVkbWV0YWRhdGEnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5jdXJyZW50VGltZSA9IGN1cnJlbnRUaW1lOyAvLyBSZXN1bWUgcGxheWluZ1xyXG5cclxuICAgICAgICAgICAgaWYgKCFwYXVzZWQpIHtcclxuICAgICAgICAgICAgICBwbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTsgLy8gTG9hZCBuZXcgc291cmNlXHJcblxyXG4gICAgICAgICAgcGxheWVyLm1lZGlhLmxvYWQoKTtcclxuICAgICAgICB9IC8vIFRyaWdnZXIgY2hhbmdlIGV2ZW50XHJcblxyXG5cclxuICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3F1YWxpdHljaGFuZ2UnLCBmYWxzZSwge1xyXG4gICAgICAgICAgcXVhbGl0eTogaW5wdXRcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICAvLyBDYW5jZWwgY3VycmVudCBuZXR3b3JrIHJlcXVlc3RzXHJcbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zYW1wb3R0cy9wbHlyL2lzc3Vlcy8xNzRcclxuICBjYW5jZWxSZXF1ZXN0czogZnVuY3Rpb24gY2FuY2VsUmVxdWVzdHMoKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNIVE1MNSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9IC8vIFJlbW92ZSBjaGlsZCBzb3VyY2VzXHJcblxyXG5cclxuICAgIHJlbW92ZUVsZW1lbnQoaHRtbDUuZ2V0U291cmNlcy5jYWxsKHRoaXMpKTsgLy8gU2V0IGJsYW5rIHZpZGVvIHNyYyBhdHRyaWJ1dGVcclxuICAgIC8vIFRoaXMgaXMgdG8gcHJldmVudCBhIE1FRElBX0VSUl9TUkNfTk9UX1NVUFBPUlRFRCBlcnJvclxyXG4gICAgLy8gSW5mbzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMjIzMTU3OS9ob3ctdG8tcHJvcGVybHktZGlzcG9zZS1vZi1hbi1odG1sNS12aWRlby1hbmQtY2xvc2Utc29ja2V0LW9yLWNvbm5lY3Rpb25cclxuXHJcbiAgICB0aGlzLm1lZGlhLnNldEF0dHJpYnV0ZSgnc3JjJywgdGhpcy5jb25maWcuYmxhbmtWaWRlbyk7IC8vIExvYWQgdGhlIG5ldyBlbXB0eSBzb3VyY2VcclxuICAgIC8vIFRoaXMgd2lsbCBjYW5jZWwgZXhpc3RpbmcgcmVxdWVzdHNcclxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vc2FtcG90dHMvcGx5ci9pc3N1ZXMvMTc0XHJcblxyXG4gICAgdGhpcy5tZWRpYS5sb2FkKCk7IC8vIERlYnVnZ2luZ1xyXG5cclxuICAgIHRoaXMuZGVidWcubG9nKCdDYW5jZWxsZWQgbmV0d29yayByZXF1ZXN0cycpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5mdW5jdGlvbiBkZWR1cGUoYXJyYXkpIHtcclxuICBpZiAoIWlzJDEuYXJyYXkoYXJyYXkpKSB7XHJcbiAgICByZXR1cm4gYXJyYXk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgPT09IGluZGV4O1xyXG4gIH0pO1xyXG59IC8vIEdldCB0aGUgY2xvc2VzdCB2YWx1ZSBpbiBhbiBhcnJheVxyXG5cclxuZnVuY3Rpb24gY2xvc2VzdChhcnJheSwgdmFsdWUpIHtcclxuICBpZiAoIWlzJDEuYXJyYXkoYXJyYXkpIHx8ICFhcnJheS5sZW5ndGgpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGFycmF5LnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3Vycikge1xyXG4gICAgcmV0dXJuIE1hdGguYWJzKGN1cnIgLSB2YWx1ZSkgPCBNYXRoLmFicyhwcmV2IC0gdmFsdWUpID8gY3VyciA6IHByZXY7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUlkKHByZWZpeCkge1xyXG4gIHJldHVybiBcIlwiLmNvbmNhdChwcmVmaXgsIFwiLVwiKS5jb25jYXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApKTtcclxufSAvLyBGb3JtYXQgc3RyaW5nXHJcblxyXG5mdW5jdGlvbiBmb3JtYXQoaW5wdXQpIHtcclxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XHJcbiAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcclxuICB9XHJcblxyXG4gIGlmIChpcyQxLmVtcHR5KGlucHV0KSkge1xyXG4gICAgcmV0dXJuIGlucHV0O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGlucHV0LnRvU3RyaW5nKCkucmVwbGFjZSgveyhcXGQrKX0vZywgZnVuY3Rpb24gKG1hdGNoLCBpKSB7XHJcbiAgICByZXR1cm4gYXJnc1tpXS50b1N0cmluZygpO1xyXG4gIH0pO1xyXG59IC8vIEdldCBwZXJjZW50YWdlXHJcblxyXG5mdW5jdGlvbiBnZXRQZXJjZW50YWdlKGN1cnJlbnQsIG1heCkge1xyXG4gIGlmIChjdXJyZW50ID09PSAwIHx8IG1heCA9PT0gMCB8fCBOdW1iZXIuaXNOYU4oY3VycmVudCkgfHwgTnVtYmVyLmlzTmFOKG1heCkpIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChjdXJyZW50IC8gbWF4ICogMTAwKS50b0ZpeGVkKDIpO1xyXG59IC8vIFJlcGxhY2UgYWxsIG9jY3VyYW5jZXMgb2YgYSBzdHJpbmcgaW4gYSBzdHJpbmdcclxuXHJcbmZ1bmN0aW9uIHJlcGxhY2VBbGwoKSB7XHJcbiAgdmFyIGlucHV0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcclxuICB2YXIgZmluZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XHJcbiAgdmFyIHJlcGxhY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICcnO1xyXG4gIHJldHVybiBpbnB1dC5yZXBsYWNlKG5ldyBSZWdFeHAoZmluZC50b1N0cmluZygpLnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXFxdL1xcXFxdKS9nLCAnXFxcXCQxJyksICdnJyksIHJlcGxhY2UudG9TdHJpbmcoKSk7XHJcbn0gLy8gQ29udmVydCB0byB0aXRsZSBjYXNlXHJcblxyXG5mdW5jdGlvbiB0b1RpdGxlQ2FzZSgpIHtcclxuICB2YXIgaW5wdXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xyXG4gIHJldHVybiBpbnB1dC50b1N0cmluZygpLnJlcGxhY2UoL1xcd1xcUyovZywgZnVuY3Rpb24gKHRleHQpIHtcclxuICAgIHJldHVybiB0ZXh0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGV4dC5zdWJzdHIoMSkudG9Mb3dlckNhc2UoKTtcclxuICB9KTtcclxufSAvLyBDb252ZXJ0IHN0cmluZyB0byBwYXNjYWxDYXNlXHJcblxyXG5mdW5jdGlvbiB0b1Bhc2NhbENhc2UoKSB7XHJcbiAgdmFyIGlucHV0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcclxuICB2YXIgc3RyaW5nID0gaW5wdXQudG9TdHJpbmcoKTsgLy8gQ29udmVydCBrZWJhYiBjYXNlXHJcblxyXG4gIHN0cmluZyA9IHJlcGxhY2VBbGwoc3RyaW5nLCAnLScsICcgJyk7IC8vIENvbnZlcnQgc25ha2UgY2FzZVxyXG5cclxuICBzdHJpbmcgPSByZXBsYWNlQWxsKHN0cmluZywgJ18nLCAnICcpOyAvLyBDb252ZXJ0IHRvIHRpdGxlIGNhc2VcclxuXHJcbiAgc3RyaW5nID0gdG9UaXRsZUNhc2Uoc3RyaW5nKTsgLy8gQ29udmVydCB0byBwYXNjYWwgY2FzZVxyXG5cclxuICByZXR1cm4gcmVwbGFjZUFsbChzdHJpbmcsICcgJywgJycpO1xyXG59IC8vIENvbnZlcnQgc3RyaW5nIHRvIHBhc2NhbENhc2VcclxuXHJcbmZ1bmN0aW9uIHRvQ2FtZWxDYXNlKCkge1xyXG4gIHZhciBpbnB1dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XHJcbiAgdmFyIHN0cmluZyA9IGlucHV0LnRvU3RyaW5nKCk7IC8vIENvbnZlcnQgdG8gcGFzY2FsIGNhc2VcclxuXHJcbiAgc3RyaW5nID0gdG9QYXNjYWxDYXNlKHN0cmluZyk7IC8vIENvbnZlcnQgZmlyc3QgY2hhcmFjdGVyIHRvIGxvd2VyY2FzZVxyXG5cclxuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xyXG59IC8vIFJlbW92ZSBIVE1MIGZyb20gYSBzdHJpbmdcclxuXHJcbmZ1bmN0aW9uIHN0cmlwSFRNTChzb3VyY2UpIHtcclxuICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICBlbGVtZW50LmlubmVySFRNTCA9IHNvdXJjZTtcclxuICByZXR1cm4gZnJhZ21lbnQuZmlyc3RDaGlsZC5pbm5lclRleHQ7XHJcbn0gLy8gTGlrZSBvdXRlckhUTUwsIGJ1dCBhbHNvIHdvcmtzIGZvciBEb2N1bWVudEZyYWdtZW50XHJcblxyXG5mdW5jdGlvbiBnZXRIVE1MKGVsZW1lbnQpIHtcclxuICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgcmV0dXJuIHdyYXBwZXIuaW5uZXJIVE1MO1xyXG59XHJcblxyXG52YXIgcmVzb3VyY2VzID0ge1xyXG4gIHBpcDogJ1BJUCcsXHJcbiAgYWlycGxheTogJ0FpclBsYXknLFxyXG4gIGh0bWw1OiAnSFRNTDUnLFxyXG4gIHZpbWVvOiAnVmltZW8nLFxyXG4gIHlvdXR1YmU6ICdZb3VUdWJlJ1xyXG59O1xyXG52YXIgaTE4biA9IHtcclxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xyXG4gICAgdmFyIGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XHJcblxyXG4gICAgaWYgKGlzJDEuZW1wdHkoa2V5KSB8fCBpcyQxLmVtcHR5KGNvbmZpZykpIHtcclxuICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzdHJpbmcgPSBnZXREZWVwKGNvbmZpZy5pMThuLCBrZXkpO1xyXG5cclxuICAgIGlmIChpcyQxLmVtcHR5KHN0cmluZykpIHtcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKHJlc291cmNlcykuaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgIHJldHVybiByZXNvdXJjZXNba2V5XTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciByZXBsYWNlID0ge1xyXG4gICAgICAne3NlZWt0aW1lfSc6IGNvbmZpZy5zZWVrVGltZSxcclxuICAgICAgJ3t0aXRsZX0nOiBjb25maWcudGl0bGVcclxuICAgIH07XHJcbiAgICBPYmplY3QuZW50cmllcyhyZXBsYWNlKS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XHJcbiAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxyXG4gICAgICAgICAgayA9IF9yZWYyWzBdLFxyXG4gICAgICAgICAgdiA9IF9yZWYyWzFdO1xyXG5cclxuICAgICAgc3RyaW5nID0gcmVwbGFjZUFsbChzdHJpbmcsIGssIHYpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gc3RyaW5nO1xyXG4gIH1cclxufTtcclxuXHJcbnZhciBTdG9yYWdlID1cclxuLyojX19QVVJFX18qL1xyXG5mdW5jdGlvbiAoKSB7XHJcbiAgZnVuY3Rpb24gU3RvcmFnZShwbGF5ZXIpIHtcclxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdG9yYWdlKTtcclxuXHJcbiAgICB0aGlzLmVuYWJsZWQgPSBwbGF5ZXIuY29uZmlnLnN0b3JhZ2UuZW5hYmxlZDtcclxuICAgIHRoaXMua2V5ID0gcGxheWVyLmNvbmZpZy5zdG9yYWdlLmtleTtcclxuICB9IC8vIENoZWNrIGZvciBhY3R1YWwgc3VwcG9ydCAoc2VlIGlmIHdlIGNhbiB1c2UgaXQpXHJcblxyXG5cclxuICBfY3JlYXRlQ2xhc3MoU3RvcmFnZSwgW3tcclxuICAgIGtleTogXCJnZXRcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoa2V5KSB7XHJcbiAgICAgIGlmICghU3RvcmFnZS5zdXBwb3J0ZWQgfHwgIXRoaXMuZW5hYmxlZCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgc3RvcmUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5rZXkpO1xyXG5cclxuICAgICAgaWYgKGlzJDEuZW1wdHkoc3RvcmUpKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShzdG9yZSk7XHJcbiAgICAgIHJldHVybiBpcyQxLnN0cmluZyhrZXkpICYmIGtleS5sZW5ndGggPyBqc29uW2tleV0gOiBqc29uO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJzZXRcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQob2JqZWN0KSB7XHJcbiAgICAgIC8vIEJhaWwgaWYgd2UgZG9uJ3QgaGF2ZSBsb2NhbFN0b3JhZ2Ugc3VwcG9ydCBvciBpdCdzIGRpc2FibGVkXHJcbiAgICAgIGlmICghU3RvcmFnZS5zdXBwb3J0ZWQgfHwgIXRoaXMuZW5hYmxlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSAvLyBDYW4gb25seSBzdG9yZSBvYmplY3RzdFxyXG5cclxuXHJcbiAgICAgIGlmICghaXMkMS5vYmplY3Qob2JqZWN0KSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSAvLyBHZXQgY3VycmVudCBzdG9yYWdlXHJcblxyXG5cclxuICAgICAgdmFyIHN0b3JhZ2UgPSB0aGlzLmdldCgpOyAvLyBEZWZhdWx0IHRvIGVtcHR5IG9iamVjdFxyXG5cclxuICAgICAgaWYgKGlzJDEuZW1wdHkoc3RvcmFnZSkpIHtcclxuICAgICAgICBzdG9yYWdlID0ge307XHJcbiAgICAgIH0gLy8gVXBkYXRlIHRoZSB3b3JraW5nIGNvcHkgb2YgdGhlIHZhbHVlc1xyXG5cclxuXHJcbiAgICAgIGV4dGVuZChzdG9yYWdlLCBvYmplY3QpOyAvLyBVcGRhdGUgc3RvcmFnZVxyXG5cclxuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMua2V5LCBKU09OLnN0cmluZ2lmeShzdG9yYWdlKSk7XHJcbiAgICB9XHJcbiAgfV0sIFt7XHJcbiAgICBrZXk6IFwic3VwcG9ydGVkXCIsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoISgnbG9jYWxTdG9yYWdlJyBpbiB3aW5kb3cpKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdGVzdCA9ICdfX190ZXN0JzsgLy8gVHJ5IHRvIHVzZSBpdCAoaXQgbWlnaHQgYmUgZGlzYWJsZWQsIGUuZy4gdXNlciBpcyBpbiBwcml2YXRlIG1vZGUpXHJcbiAgICAgICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vc2FtcG90dHMvcGx5ci9pc3N1ZXMvMTMxXHJcblxyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0ZXN0LCB0ZXN0KTtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGVzdCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XSk7XHJcblxyXG4gIHJldHVybiBTdG9yYWdlO1xyXG59KCk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBGZXRjaCB3cmFwcGVyXHJcbi8vIFVzaW5nIFhIUiB0byBhdm9pZCBpc3N1ZXMgd2l0aCBvbGRlciBicm93c2Vyc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5mdW5jdGlvbiBmZXRjaCh1cmwpIHtcclxuICB2YXIgcmVzcG9uc2VUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAndGV4dCc7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7IC8vIENoZWNrIGZvciBDT1JTIHN1cHBvcnRcclxuXHJcbiAgICAgIGlmICghKCd3aXRoQ3JlZGVudGlhbHMnIGluIHJlcXVlc3QpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlc29sdmUocmVxdWVzdC5yZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVxdWVzdC5zdGF0dXMpO1xyXG4gICAgICB9KTtcclxuICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpOyAvLyBTZXQgdGhlIHJlcXVpcmVkIHJlc3BvbnNlIHR5cGVcclxuXHJcbiAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlO1xyXG4gICAgICByZXF1ZXN0LnNlbmQoKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZnVuY3Rpb24gbG9hZFNwcml0ZSh1cmwsIGlkKSB7XHJcbiAgaWYgKCFpcyQxLnN0cmluZyh1cmwpKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICB2YXIgcHJlZml4ID0gJ2NhY2hlJztcclxuICB2YXIgaGFzSWQgPSBpcyQxLnN0cmluZyhpZCk7XHJcbiAgdmFyIGlzQ2FjaGVkID0gZmFsc2U7XHJcblxyXG4gIHZhciBleGlzdHMgPSBmdW5jdGlvbiBleGlzdHMoKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpICE9PSBudWxsO1xyXG4gIH07XHJcblxyXG4gIHZhciB1cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoY29udGFpbmVyLCBkYXRhKSB7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cclxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBkYXRhOyAvLyBDaGVjayBhZ2FpbiBpbmNhc2Ugb2YgcmFjZSBjb25kaXRpb25cclxuXHJcbiAgICBpZiAoaGFzSWQgJiYgZXhpc3RzKCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSAvLyBJbmplY3QgdGhlIFNWRyB0byB0aGUgYm9keVxyXG5cclxuXHJcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJiZWdpbicsIGNvbnRhaW5lcik7XHJcbiAgfTsgLy8gT25seSBsb2FkIG9uY2UgaWYgSUQgc2V0XHJcblxyXG5cclxuICBpZiAoIWhhc0lkIHx8ICFleGlzdHMoKSkge1xyXG4gICAgdmFyIHVzZVN0b3JhZ2UgPSBTdG9yYWdlLnN1cHBvcnRlZDsgLy8gQ3JlYXRlIGNvbnRhaW5lclxyXG5cclxuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcclxuXHJcbiAgICBpZiAoaGFzSWQpIHtcclxuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XHJcbiAgICB9IC8vIENoZWNrIGluIGNhY2hlXHJcblxyXG5cclxuICAgIGlmICh1c2VTdG9yYWdlKSB7XHJcbiAgICAgIHZhciBjYWNoZWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJcIi5jb25jYXQocHJlZml4LCBcIi1cIikuY29uY2F0KGlkKSk7XHJcbiAgICAgIGlzQ2FjaGVkID0gY2FjaGVkICE9PSBudWxsO1xyXG5cclxuICAgICAgaWYgKGlzQ2FjaGVkKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGNhY2hlZCk7XHJcbiAgICAgICAgdXBkYXRlKGNvbnRhaW5lciwgZGF0YS5jb250ZW50KTtcclxuICAgICAgfVxyXG4gICAgfSAvLyBHZXQgdGhlIHNwcml0ZVxyXG5cclxuXHJcbiAgICBmZXRjaCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICBpZiAoaXMkMS5lbXB0eShyZXN1bHQpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodXNlU3RvcmFnZSkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIlwiLmNvbmNhdChwcmVmaXgsIFwiLVwiKS5jb25jYXQoaWQpLCBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBjb250ZW50OiByZXN1bHRcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHVwZGF0ZShjb250YWluZXIsIHJlc3VsdCk7XHJcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIGdldEhvdXJzID0gZnVuY3Rpb24gZ2V0SG91cnModmFsdWUpIHtcclxuICByZXR1cm4gTWF0aC50cnVuYyh2YWx1ZSAvIDYwIC8gNjAgJSA2MCwgMTApO1xyXG59O1xyXG52YXIgZ2V0TWludXRlcyA9IGZ1bmN0aW9uIGdldE1pbnV0ZXModmFsdWUpIHtcclxuICByZXR1cm4gTWF0aC50cnVuYyh2YWx1ZSAvIDYwICUgNjAsIDEwKTtcclxufTtcclxudmFyIGdldFNlY29uZHMgPSBmdW5jdGlvbiBnZXRTZWNvbmRzKHZhbHVlKSB7XHJcbiAgcmV0dXJuIE1hdGgudHJ1bmModmFsdWUgJSA2MCwgMTApO1xyXG59OyAvLyBGb3JtYXQgdGltZSB0byBVSSBmcmllbmRseSBzdHJpbmdcclxuXHJcbmZ1bmN0aW9uIGZvcm1hdFRpbWUoKSB7XHJcbiAgdmFyIHRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XHJcbiAgdmFyIGRpc3BsYXlIb3VycyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XHJcbiAgdmFyIGludmVydGVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcclxuXHJcbiAgLy8gQmFpbCBpZiB0aGUgdmFsdWUgaXNuJ3QgYSBudW1iZXJcclxuICBpZiAoIWlzJDEubnVtYmVyKHRpbWUpKSB7XHJcbiAgICByZXR1cm4gZm9ybWF0VGltZShudWxsLCBkaXNwbGF5SG91cnMsIGludmVydGVkKTtcclxuICB9IC8vIEZvcm1hdCB0aW1lIGNvbXBvbmVudCB0byBhZGQgbGVhZGluZyB6ZXJvXHJcblxyXG5cclxuICB2YXIgZm9ybWF0ID0gZnVuY3Rpb24gZm9ybWF0KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gXCIwXCIuY29uY2F0KHZhbHVlKS5zbGljZSgtMik7XHJcbiAgfTsgLy8gQnJlYWtkb3duIHRvIGhvdXJzLCBtaW5zLCBzZWNzXHJcblxyXG5cclxuICB2YXIgaG91cnMgPSBnZXRIb3Vycyh0aW1lKTtcclxuICB2YXIgbWlucyA9IGdldE1pbnV0ZXModGltZSk7XHJcbiAgdmFyIHNlY3MgPSBnZXRTZWNvbmRzKHRpbWUpOyAvLyBEbyB3ZSBuZWVkIHRvIGRpc3BsYXkgaG91cnM/XHJcblxyXG4gIGlmIChkaXNwbGF5SG91cnMgfHwgaG91cnMgPiAwKSB7XHJcbiAgICBob3VycyA9IFwiXCIuY29uY2F0KGhvdXJzLCBcIjpcIik7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhvdXJzID0gJyc7XHJcbiAgfSAvLyBSZW5kZXJcclxuXHJcblxyXG4gIHJldHVybiBcIlwiLmNvbmNhdChpbnZlcnRlZCAmJiB0aW1lID4gMCA/ICctJyA6ICcnKS5jb25jYXQoaG91cnMpLmNvbmNhdChmb3JtYXQobWlucyksIFwiOlwiKS5jb25jYXQoZm9ybWF0KHNlY3MpKTtcclxufVxyXG5cclxudmFyIGNvbnRyb2xzID0ge1xyXG4gIC8vIEdldCBpY29uIFVSTFxyXG4gIGdldEljb25Vcmw6IGZ1bmN0aW9uIGdldEljb25VcmwoKSB7XHJcbiAgICB2YXIgdXJsID0gbmV3IFVSTCh0aGlzLmNvbmZpZy5pY29uVXJsLCB3aW5kb3cubG9jYXRpb24pO1xyXG4gICAgdmFyIGNvcnMgPSB1cmwuaG9zdCAhPT0gd2luZG93LmxvY2F0aW9uLmhvc3QgfHwgYnJvd3Nlci5pc0lFICYmICF3aW5kb3cuc3ZnNGV2ZXJ5Ym9keTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVybDogdGhpcy5jb25maWcuaWNvblVybCxcclxuICAgICAgY29yczogY29yc1xyXG4gICAgfTtcclxuICB9LFxyXG4gIC8vIEZpbmQgdGhlIFVJIGNvbnRyb2xzXHJcbiAgZmluZEVsZW1lbnRzOiBmdW5jdGlvbiBmaW5kRWxlbWVudHMoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLmVsZW1lbnRzLmNvbnRyb2xzID0gZ2V0RWxlbWVudC5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLnNlbGVjdG9ycy5jb250cm9scy53cmFwcGVyKTsgLy8gQnV0dG9uc1xyXG5cclxuICAgICAgdGhpcy5lbGVtZW50cy5idXR0b25zID0ge1xyXG4gICAgICAgIHBsYXk6IGdldEVsZW1lbnRzLmNhbGwodGhpcywgdGhpcy5jb25maWcuc2VsZWN0b3JzLmJ1dHRvbnMucGxheSksXHJcbiAgICAgICAgcGF1c2U6IGdldEVsZW1lbnQuY2FsbCh0aGlzLCB0aGlzLmNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5wYXVzZSksXHJcbiAgICAgICAgcmVzdGFydDogZ2V0RWxlbWVudC5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLnJlc3RhcnQpLFxyXG4gICAgICAgIHJld2luZDogZ2V0RWxlbWVudC5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLnJld2luZCksXHJcbiAgICAgICAgZmFzdEZvcndhcmQ6IGdldEVsZW1lbnQuY2FsbCh0aGlzLCB0aGlzLmNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5mYXN0Rm9yd2FyZCksXHJcbiAgICAgICAgbXV0ZTogZ2V0RWxlbWVudC5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLm11dGUpLFxyXG4gICAgICAgIHBpcDogZ2V0RWxlbWVudC5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLnBpcCksXHJcbiAgICAgICAgYWlycGxheTogZ2V0RWxlbWVudC5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLmFpcnBsYXkpLFxyXG4gICAgICAgIHNldHRpbmdzOiBnZXRFbGVtZW50LmNhbGwodGhpcywgdGhpcy5jb25maWcuc2VsZWN0b3JzLmJ1dHRvbnMuc2V0dGluZ3MpLFxyXG4gICAgICAgIGNhcHRpb25zOiBnZXRFbGVtZW50LmNhbGwodGhpcywgdGhpcy5jb25maWcuc2VsZWN0b3JzLmJ1dHRvbnMuY2FwdGlvbnMpLFxyXG4gICAgICAgIGZ1bGxzY3JlZW46IGdldEVsZW1lbnQuY2FsbCh0aGlzLCB0aGlzLmNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5mdWxsc2NyZWVuKVxyXG4gICAgICB9OyAvLyBQcm9ncmVzc1xyXG5cclxuICAgICAgdGhpcy5lbGVtZW50cy5wcm9ncmVzcyA9IGdldEVsZW1lbnQuY2FsbCh0aGlzLCB0aGlzLmNvbmZpZy5zZWxlY3RvcnMucHJvZ3Jlc3MpOyAvLyBJbnB1dHNcclxuXHJcbiAgICAgIHRoaXMuZWxlbWVudHMuaW5wdXRzID0ge1xyXG4gICAgICAgIHNlZWs6IGdldEVsZW1lbnQuY2FsbCh0aGlzLCB0aGlzLmNvbmZpZy5zZWxlY3RvcnMuaW5wdXRzLnNlZWspLFxyXG4gICAgICAgIHZvbHVtZTogZ2V0RWxlbWVudC5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLnNlbGVjdG9ycy5pbnB1dHMudm9sdW1lKVxyXG4gICAgICB9OyAvLyBEaXNwbGF5XHJcblxyXG4gICAgICB0aGlzLmVsZW1lbnRzLmRpc3BsYXkgPSB7XHJcbiAgICAgICAgYnVmZmVyOiBnZXRFbGVtZW50LmNhbGwodGhpcywgdGhpcy5jb25maWcuc2VsZWN0b3JzLmRpc3BsYXkuYnVmZmVyKSxcclxuICAgICAgICBjdXJyZW50VGltZTogZ2V0RWxlbWVudC5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLnNlbGVjdG9ycy5kaXNwbGF5LmN1cnJlbnRUaW1lKSxcclxuICAgICAgICBkdXJhdGlvbjogZ2V0RWxlbWVudC5jYWxsKHRoaXMsIHRoaXMuY29uZmlnLnNlbGVjdG9ycy5kaXNwbGF5LmR1cmF0aW9uKVxyXG4gICAgICB9OyAvLyBTZWVrIHRvb2x0aXBcclxuXHJcbiAgICAgIGlmIChpcyQxLmVsZW1lbnQodGhpcy5lbGVtZW50cy5wcm9ncmVzcykpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmRpc3BsYXkuc2Vla1Rvb2x0aXAgPSB0aGlzLmVsZW1lbnRzLnByb2dyZXNzLnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KHRoaXMuY29uZmlnLmNsYXNzTmFtZXMudG9vbHRpcCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vIExvZyBpdFxyXG4gICAgICB0aGlzLmRlYnVnLndhcm4oJ0l0IGxvb2tzIGxpa2UgdGhlcmUgaXMgYSBwcm9ibGVtIHdpdGggeW91ciBjdXN0b20gY29udHJvbHMgSFRNTCcsIGVycm9yKTsgLy8gUmVzdG9yZSBuYXRpdmUgdmlkZW8gY29udHJvbHNcclxuXHJcbiAgICAgIHRoaXMudG9nZ2xlTmF0aXZlQ29udHJvbHModHJ1ZSk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9LFxyXG4gIC8vIENyZWF0ZSA8c3ZnPiBpY29uXHJcbiAgY3JlYXRlSWNvbjogZnVuY3Rpb24gY3JlYXRlSWNvbih0eXBlLCBhdHRyaWJ1dGVzKSB7XHJcbiAgICB2YXIgbmFtZXNwYWNlID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxuICAgIHZhciBpY29uVXJsID0gY29udHJvbHMuZ2V0SWNvblVybC5jYWxsKHRoaXMpO1xyXG4gICAgdmFyIGljb25QYXRoID0gXCJcIi5jb25jYXQoIWljb25VcmwuY29ycyA/IGljb25VcmwudXJsIDogJycsIFwiI1wiKS5jb25jYXQodGhpcy5jb25maWcuaWNvblByZWZpeCk7IC8vIENyZWF0ZSA8c3ZnPlxyXG5cclxuICAgIHZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZSwgJ3N2ZycpO1xyXG4gICAgc2V0QXR0cmlidXRlcyhpY29uLCBleHRlbmQoYXR0cmlidXRlcywge1xyXG4gICAgICByb2xlOiAncHJlc2VudGF0aW9uJyxcclxuICAgICAgZm9jdXNhYmxlOiAnZmFsc2UnXHJcbiAgICB9KSk7IC8vIENyZWF0ZSB0aGUgPHVzZT4gdG8gcmVmZXJlbmNlIHNwcml0ZVxyXG5cclxuICAgIHZhciB1c2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlLCAndXNlJyk7XHJcbiAgICB2YXIgcGF0aCA9IFwiXCIuY29uY2F0KGljb25QYXRoLCBcIi1cIikuY29uY2F0KHR5cGUpOyAvLyBTZXQgYGhyZWZgIGF0dHJpYnV0ZXNcclxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zYW1wb3R0cy9wbHlyL2lzc3Vlcy80NjBcclxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUveGxpbms6aHJlZlxyXG5cclxuICAgIGlmICgnaHJlZicgaW4gdXNlKSB7XHJcbiAgICAgIHVzZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJywgcGF0aCk7XHJcbiAgICB9IC8vIEFsd2F5cyBzZXQgdGhlIG9sZGVyIGF0dHJpYnV0ZSBldmVuIHRob3VnaCBpdCdzIFwiZGVwcmVjYXRlZFwiIChpdCdsbCBiZSBhcm91bmQgZm9yIGFnZXMpXHJcblxyXG5cclxuICAgIHVzZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICd4bGluazpocmVmJywgcGF0aCk7IC8vIEFkZCA8dXNlPiB0byA8c3ZnPlxyXG5cclxuICAgIGljb24uYXBwZW5kQ2hpbGQodXNlKTtcclxuICAgIHJldHVybiBpY29uO1xyXG4gIH0sXHJcbiAgLy8gQ3JlYXRlIGhpZGRlbiB0ZXh0IGxhYmVsXHJcbiAgY3JlYXRlTGFiZWw6IGZ1bmN0aW9uIGNyZWF0ZUxhYmVsKGtleSkge1xyXG4gICAgdmFyIGF0dHIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xyXG4gICAgdmFyIHRleHQgPSBpMThuLmdldChrZXksIHRoaXMuY29uZmlnKTtcclxuICAgIHZhciBhdHRyaWJ1dGVzID0gT2JqZWN0LmFzc2lnbih7fSwgYXR0ciwge1xyXG4gICAgICBjbGFzczogW2F0dHIuY2xhc3MsIHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuaGlkZGVuXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KCdzcGFuJywgYXR0cmlidXRlcywgdGV4dCk7XHJcbiAgfSxcclxuICAvLyBDcmVhdGUgYSBiYWRnZVxyXG4gIGNyZWF0ZUJhZGdlOiBmdW5jdGlvbiBjcmVhdGVCYWRnZSh0ZXh0KSB7XHJcbiAgICBpZiAoaXMkMS5lbXB0eSh0ZXh0KSkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYmFkZ2UgPSBjcmVhdGVFbGVtZW50KCdzcGFuJywge1xyXG4gICAgICBjbGFzczogdGhpcy5jb25maWcuY2xhc3NOYW1lcy5tZW51LnZhbHVlXHJcbiAgICB9KTtcclxuICAgIGJhZGdlLmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XHJcbiAgICAgIGNsYXNzOiB0aGlzLmNvbmZpZy5jbGFzc05hbWVzLm1lbnUuYmFkZ2VcclxuICAgIH0sIHRleHQpKTtcclxuICAgIHJldHVybiBiYWRnZTtcclxuICB9LFxyXG4gIC8vIENyZWF0ZSBhIDxidXR0b24+XHJcbiAgY3JlYXRlQnV0dG9uOiBmdW5jdGlvbiBjcmVhdGVCdXR0b24oYnV0dG9uVHlwZSwgYXR0cikge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICB2YXIgYXR0cmlidXRlcyA9IGV4dGVuZCh7fSwgYXR0cik7XHJcbiAgICB2YXIgdHlwZSA9IHRvQ2FtZWxDYXNlKGJ1dHRvblR5cGUpO1xyXG4gICAgdmFyIHByb3BzID0ge1xyXG4gICAgICBlbGVtZW50OiAnYnV0dG9uJyxcclxuICAgICAgdG9nZ2xlOiBmYWxzZSxcclxuICAgICAgbGFiZWw6IG51bGwsXHJcbiAgICAgIGljb246IG51bGwsXHJcbiAgICAgIGxhYmVsUHJlc3NlZDogbnVsbCxcclxuICAgICAgaWNvblByZXNzZWQ6IG51bGxcclxuICAgIH07XHJcbiAgICBbJ2VsZW1lbnQnLCAnaWNvbicsICdsYWJlbCddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICBpZiAoT2JqZWN0LmtleXMoYXR0cmlidXRlcykuaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgIHByb3BzW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XHJcbiAgICAgICAgZGVsZXRlIGF0dHJpYnV0ZXNba2V5XTtcclxuICAgICAgfVxyXG4gICAgfSk7IC8vIERlZmF1bHQgdG8gJ2J1dHRvbicgdHlwZSB0byBwcmV2ZW50IGZvcm0gc3VibWlzc2lvblxyXG5cclxuICAgIGlmIChwcm9wcy5lbGVtZW50ID09PSAnYnV0dG9uJyAmJiAhT2JqZWN0LmtleXMoYXR0cmlidXRlcykuaW5jbHVkZXMoJ3R5cGUnKSkge1xyXG4gICAgICBhdHRyaWJ1dGVzLnR5cGUgPSAnYnV0dG9uJztcclxuICAgIH0gLy8gU2V0IGNsYXNzIG5hbWVcclxuXHJcblxyXG4gICAgaWYgKE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmluY2x1ZGVzKCdjbGFzcycpKSB7XHJcbiAgICAgIGlmICghYXR0cmlidXRlcy5jbGFzcy5zcGxpdCgnICcpLnNvbWUoZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICByZXR1cm4gYyA9PT0gX3RoaXMuY29uZmlnLmNsYXNzTmFtZXMuY29udHJvbDtcclxuICAgICAgfSkpIHtcclxuICAgICAgICBleHRlbmQoYXR0cmlidXRlcywge1xyXG4gICAgICAgICAgY2xhc3M6IFwiXCIuY29uY2F0KGF0dHJpYnV0ZXMuY2xhc3MsIFwiIFwiKS5jb25jYXQodGhpcy5jb25maWcuY2xhc3NOYW1lcy5jb250cm9sKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhdHRyaWJ1dGVzLmNsYXNzID0gdGhpcy5jb25maWcuY2xhc3NOYW1lcy5jb250cm9sO1xyXG4gICAgfSAvLyBMYXJnZSBwbGF5IGJ1dHRvblxyXG5cclxuXHJcbiAgICBzd2l0Y2ggKGJ1dHRvblR5cGUpIHtcclxuICAgICAgY2FzZSAncGxheSc6XHJcbiAgICAgICAgcHJvcHMudG9nZ2xlID0gdHJ1ZTtcclxuICAgICAgICBwcm9wcy5sYWJlbCA9ICdwbGF5JztcclxuICAgICAgICBwcm9wcy5sYWJlbFByZXNzZWQgPSAncGF1c2UnO1xyXG4gICAgICAgIHByb3BzLmljb24gPSAncGxheSc7XHJcbiAgICAgICAgcHJvcHMuaWNvblByZXNzZWQgPSAncGF1c2UnO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnbXV0ZSc6XHJcbiAgICAgICAgcHJvcHMudG9nZ2xlID0gdHJ1ZTtcclxuICAgICAgICBwcm9wcy5sYWJlbCA9ICdtdXRlJztcclxuICAgICAgICBwcm9wcy5sYWJlbFByZXNzZWQgPSAndW5tdXRlJztcclxuICAgICAgICBwcm9wcy5pY29uID0gJ3ZvbHVtZSc7XHJcbiAgICAgICAgcHJvcHMuaWNvblByZXNzZWQgPSAnbXV0ZWQnO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnY2FwdGlvbnMnOlxyXG4gICAgICAgIHByb3BzLnRvZ2dsZSA9IHRydWU7XHJcbiAgICAgICAgcHJvcHMubGFiZWwgPSAnZW5hYmxlQ2FwdGlvbnMnO1xyXG4gICAgICAgIHByb3BzLmxhYmVsUHJlc3NlZCA9ICdkaXNhYmxlQ2FwdGlvbnMnO1xyXG4gICAgICAgIHByb3BzLmljb24gPSAnY2FwdGlvbnMtb2ZmJztcclxuICAgICAgICBwcm9wcy5pY29uUHJlc3NlZCA9ICdjYXB0aW9ucy1vbic7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdmdWxsc2NyZWVuJzpcclxuICAgICAgICBwcm9wcy50b2dnbGUgPSB0cnVlO1xyXG4gICAgICAgIHByb3BzLmxhYmVsID0gJ2VudGVyRnVsbHNjcmVlbic7XHJcbiAgICAgICAgcHJvcHMubGFiZWxQcmVzc2VkID0gJ2V4aXRGdWxsc2NyZWVuJztcclxuICAgICAgICBwcm9wcy5pY29uID0gJ2VudGVyLWZ1bGxzY3JlZW4nO1xyXG4gICAgICAgIHByb3BzLmljb25QcmVzc2VkID0gJ2V4aXQtZnVsbHNjcmVlbic7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdwbGF5LWxhcmdlJzpcclxuICAgICAgICBhdHRyaWJ1dGVzLmNsYXNzICs9IFwiIFwiLmNvbmNhdCh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmNvbnRyb2wsIFwiLS1vdmVybGFpZFwiKTtcclxuICAgICAgICB0eXBlID0gJ3BsYXknO1xyXG4gICAgICAgIHByb3BzLmxhYmVsID0gJ3BsYXknO1xyXG4gICAgICAgIHByb3BzLmljb24gPSAncGxheSc7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGlmIChpcyQxLmVtcHR5KHByb3BzLmxhYmVsKSkge1xyXG4gICAgICAgICAgcHJvcHMubGFiZWwgPSB0eXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzJDEuZW1wdHkocHJvcHMuaWNvbikpIHtcclxuICAgICAgICAgIHByb3BzLmljb24gPSBidXR0b25UeXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQocHJvcHMuZWxlbWVudCk7IC8vIFNldHVwIHRvZ2dsZSBpY29uIGFuZCBsYWJlbHNcclxuXHJcbiAgICBpZiAocHJvcHMudG9nZ2xlKSB7XHJcbiAgICAgIC8vIEljb25cclxuICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKGNvbnRyb2xzLmNyZWF0ZUljb24uY2FsbCh0aGlzLCBwcm9wcy5pY29uUHJlc3NlZCwge1xyXG4gICAgICAgIGNsYXNzOiAnaWNvbi0tcHJlc3NlZCdcclxuICAgICAgfSkpO1xyXG4gICAgICBidXR0b24uYXBwZW5kQ2hpbGQoY29udHJvbHMuY3JlYXRlSWNvbi5jYWxsKHRoaXMsIHByb3BzLmljb24sIHtcclxuICAgICAgICBjbGFzczogJ2ljb24tLW5vdC1wcmVzc2VkJ1xyXG4gICAgICB9KSk7IC8vIExhYmVsL1Rvb2x0aXBcclxuXHJcbiAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChjb250cm9scy5jcmVhdGVMYWJlbC5jYWxsKHRoaXMsIHByb3BzLmxhYmVsUHJlc3NlZCwge1xyXG4gICAgICAgIGNsYXNzOiAnbGFiZWwtLXByZXNzZWQnXHJcbiAgICAgIH0pKTtcclxuICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKGNvbnRyb2xzLmNyZWF0ZUxhYmVsLmNhbGwodGhpcywgcHJvcHMubGFiZWwsIHtcclxuICAgICAgICBjbGFzczogJ2xhYmVsLS1ub3QtcHJlc3NlZCdcclxuICAgICAgfSkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKGNvbnRyb2xzLmNyZWF0ZUljb24uY2FsbCh0aGlzLCBwcm9wcy5pY29uKSk7XHJcbiAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChjb250cm9scy5jcmVhdGVMYWJlbC5jYWxsKHRoaXMsIHByb3BzLmxhYmVsKSk7XHJcbiAgICB9IC8vIE1lcmdlIGFuZCBzZXQgYXR0cmlidXRlc1xyXG5cclxuXHJcbiAgICBleHRlbmQoYXR0cmlidXRlcywgZ2V0QXR0cmlidXRlc0Zyb21TZWxlY3Rvcih0aGlzLmNvbmZpZy5zZWxlY3RvcnMuYnV0dG9uc1t0eXBlXSwgYXR0cmlidXRlcykpO1xyXG4gICAgc2V0QXR0cmlidXRlcyhidXR0b24sIGF0dHJpYnV0ZXMpOyAvLyBXZSBoYXZlIG11bHRpcGxlIHBsYXkgYnV0dG9uc1xyXG5cclxuICAgIGlmICh0eXBlID09PSAncGxheScpIHtcclxuICAgICAgaWYgKCFpcyQxLmFycmF5KHRoaXMuZWxlbWVudHMuYnV0dG9uc1t0eXBlXSkpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmJ1dHRvbnNbdHlwZV0gPSBbXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5lbGVtZW50cy5idXR0b25zW3R5cGVdLnB1c2goYnV0dG9uKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudHMuYnV0dG9uc1t0eXBlXSA9IGJ1dHRvbjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYnV0dG9uO1xyXG4gIH0sXHJcbiAgLy8gQ3JlYXRlIGFuIDxpbnB1dCB0eXBlPSdyYW5nZSc+XHJcbiAgY3JlYXRlUmFuZ2U6IGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKHR5cGUsIGF0dHJpYnV0ZXMpIHtcclxuICAgIC8vIFNlZWsgaW5wdXRcclxuICAgIHZhciBpbnB1dCA9IGNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgZXh0ZW5kKGdldEF0dHJpYnV0ZXNGcm9tU2VsZWN0b3IodGhpcy5jb25maWcuc2VsZWN0b3JzLmlucHV0c1t0eXBlXSksIHtcclxuICAgICAgdHlwZTogJ3JhbmdlJyxcclxuICAgICAgbWluOiAwLFxyXG4gICAgICBtYXg6IDEwMCxcclxuICAgICAgc3RlcDogMC4wMSxcclxuICAgICAgdmFsdWU6IDAsXHJcbiAgICAgIGF1dG9jb21wbGV0ZTogJ29mZicsXHJcbiAgICAgIC8vIEExMXkgZml4ZXMgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9zYW1wb3R0cy9wbHlyL2lzc3Vlcy85MDVcclxuICAgICAgcm9sZTogJ3NsaWRlcicsXHJcbiAgICAgICdhcmlhLWxhYmVsJzogaTE4bi5nZXQodHlwZSwgdGhpcy5jb25maWcpLFxyXG4gICAgICAnYXJpYS12YWx1ZW1pbic6IDAsXHJcbiAgICAgICdhcmlhLXZhbHVlbWF4JzogMTAwLFxyXG4gICAgICAnYXJpYS12YWx1ZW5vdyc6IDBcclxuICAgIH0sIGF0dHJpYnV0ZXMpKTtcclxuICAgIHRoaXMuZWxlbWVudHMuaW5wdXRzW3R5cGVdID0gaW5wdXQ7IC8vIFNldCB0aGUgZmlsbCBmb3Igd2Via2l0IG5vd1xyXG5cclxuICAgIGNvbnRyb2xzLnVwZGF0ZVJhbmdlRmlsbC5jYWxsKHRoaXMsIGlucHV0KTsgLy8gSW1wcm92ZSBzdXBwb3J0IG9uIHRvdWNoIGRldmljZXNcclxuXHJcbiAgICBSYW5nZVRvdWNoLnNldHVwKGlucHV0KTtcclxuICAgIHJldHVybiBpbnB1dDtcclxuICB9LFxyXG4gIC8vIENyZWF0ZSBhIDxwcm9ncmVzcz5cclxuICBjcmVhdGVQcm9ncmVzczogZnVuY3Rpb24gY3JlYXRlUHJvZ3Jlc3ModHlwZSwgYXR0cmlidXRlcykge1xyXG4gICAgdmFyIHByb2dyZXNzID0gY3JlYXRlRWxlbWVudCgncHJvZ3Jlc3MnLCBleHRlbmQoZ2V0QXR0cmlidXRlc0Zyb21TZWxlY3Rvcih0aGlzLmNvbmZpZy5zZWxlY3RvcnMuZGlzcGxheVt0eXBlXSksIHtcclxuICAgICAgbWluOiAwLFxyXG4gICAgICBtYXg6IDEwMCxcclxuICAgICAgdmFsdWU6IDAsXHJcbiAgICAgIHJvbGU6ICdwcm9ncmVzc2JhcicsXHJcbiAgICAgICdhcmlhLWhpZGRlbic6IHRydWVcclxuICAgIH0sIGF0dHJpYnV0ZXMpKTsgLy8gQ3JlYXRlIHRoZSBsYWJlbCBpbnNpZGVcclxuXHJcbiAgICBpZiAodHlwZSAhPT0gJ3ZvbHVtZScpIHtcclxuICAgICAgcHJvZ3Jlc3MuYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudCgnc3BhbicsIG51bGwsICcwJykpO1xyXG4gICAgICB2YXIgc3VmZml4S2V5ID0ge1xyXG4gICAgICAgIHBsYXllZDogJ3BsYXllZCcsXHJcbiAgICAgICAgYnVmZmVyOiAnYnVmZmVyZWQnXHJcbiAgICAgIH1bdHlwZV07XHJcbiAgICAgIHZhciBzdWZmaXggPSBzdWZmaXhLZXkgPyBpMThuLmdldChzdWZmaXhLZXksIHRoaXMuY29uZmlnKSA6ICcnO1xyXG4gICAgICBwcm9ncmVzcy5pbm5lclRleHQgPSBcIiUgXCIuY29uY2F0KHN1ZmZpeC50b0xvd2VyQ2FzZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVsZW1lbnRzLmRpc3BsYXlbdHlwZV0gPSBwcm9ncmVzcztcclxuICAgIHJldHVybiBwcm9ncmVzcztcclxuICB9LFxyXG4gIC8vIENyZWF0ZSB0aW1lIGRpc3BsYXlcclxuICBjcmVhdGVUaW1lOiBmdW5jdGlvbiBjcmVhdGVUaW1lKHR5cGUsIGF0dHJzKSB7XHJcbiAgICB2YXIgYXR0cmlidXRlcyA9IGdldEF0dHJpYnV0ZXNGcm9tU2VsZWN0b3IodGhpcy5jb25maWcuc2VsZWN0b3JzLmRpc3BsYXlbdHlwZV0sIGF0dHJzKTtcclxuICAgIHZhciBjb250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBleHRlbmQoYXR0cmlidXRlcywge1xyXG4gICAgICBjbGFzczogXCJcIi5jb25jYXQoYXR0cmlidXRlcy5jbGFzcyA/IGF0dHJpYnV0ZXMuY2xhc3MgOiAnJywgXCIgXCIpLmNvbmNhdCh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmRpc3BsYXkudGltZSwgXCIgXCIpLnRyaW0oKSxcclxuICAgICAgJ2FyaWEtbGFiZWwnOiBpMThuLmdldCh0eXBlLCB0aGlzLmNvbmZpZylcclxuICAgIH0pLCAnMDA6MDAnKTsgLy8gUmVmZXJlbmNlIGZvciB1cGRhdGVzXHJcblxyXG4gICAgdGhpcy5lbGVtZW50cy5kaXNwbGF5W3R5cGVdID0gY29udGFpbmVyO1xyXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICB9LFxyXG4gIC8vIEJpbmQga2V5Ym9hcmQgc2hvcnRjdXRzIGZvciBhIG1lbnUgaXRlbVxyXG4gIC8vIFdlIGhhdmUgdG8gYmluZCB0byBrZXl1cCBvdGhlcndpc2UgRmlyZWZveCB0cmlnZ2VycyBhIGNsaWNrIHdoZW4gYSBrZXlkb3duIGV2ZW50IGhhbmRsZXIgc2hpZnRzIGZvY3VzXHJcbiAgLy8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTIyMDE0M1xyXG4gIGJpbmRNZW51SXRlbVNob3J0Y3V0czogZnVuY3Rpb24gYmluZE1lbnVJdGVtU2hvcnRjdXRzKG1lbnVJdGVtLCB0eXBlKSB7XHJcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcclxuXHJcbiAgICAvLyBOYXZpZ2F0ZSB0aHJvdWdoIG1lbnVzIHZpYSBhcnJvdyBrZXlzIGFuZCBzcGFjZVxyXG4gICAgb24obWVudUl0ZW0sICdrZXlkb3duIGtleXVwJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIC8vIFdlIG9ubHkgY2FyZSBhYm91dCBzcGFjZSBhbmQg4qyG77iPIOKsh++4j++4jyDinqHvuI9cclxuICAgICAgaWYgKCFbMzIsIDM4LCAzOSwgNDBdLmluY2x1ZGVzKGV2ZW50LndoaWNoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSAvLyBQcmV2ZW50IHBsYXkgLyBzZWVrXHJcblxyXG5cclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIFdlJ3JlIGp1c3QgaGVyZSB0byBwcmV2ZW50IHRoZSBrZXlkb3duIGJ1YmJsaW5nXHJcblxyXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgaXNSYWRpb0J1dHRvbiA9IG1hdGNoZXMkMShtZW51SXRlbSwgJ1tyb2xlPVwibWVudWl0ZW1yYWRpb1wiXScpOyAvLyBTaG93IHRoZSByZXNwZWN0aXZlIG1lbnVcclxuXHJcbiAgICAgIGlmICghaXNSYWRpb0J1dHRvbiAmJiBbMzIsIDM5XS5pbmNsdWRlcyhldmVudC53aGljaCkpIHtcclxuICAgICAgICBjb250cm9scy5zaG93TWVudVBhbmVsLmNhbGwoX3RoaXMyLCB0eXBlLCB0cnVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgdGFyZ2V0O1xyXG5cclxuICAgICAgICBpZiAoZXZlbnQud2hpY2ggIT09IDMyKSB7XHJcbiAgICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDQwIHx8IGlzUmFkaW9CdXR0b24gJiYgZXZlbnQud2hpY2ggPT09IDM5KSB7XHJcbiAgICAgICAgICAgIHRhcmdldCA9IG1lbnVJdGVtLm5leHRFbGVtZW50U2libGluZztcclxuXHJcbiAgICAgICAgICAgIGlmICghaXMkMS5lbGVtZW50KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICB0YXJnZXQgPSBtZW51SXRlbS5wYXJlbnROb2RlLmZpcnN0RWxlbWVudENoaWxkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0YXJnZXQgPSBtZW51SXRlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFpcyQxLmVsZW1lbnQodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgIHRhcmdldCA9IG1lbnVJdGVtLnBhcmVudE5vZGUubGFzdEVsZW1lbnRDaGlsZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNldEZvY3VzLmNhbGwoX3RoaXMyLCB0YXJnZXQsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgZmFsc2UpOyAvLyBFbnRlciB3aWxsIGZpcmUgYSBgY2xpY2tgIGV2ZW50IGJ1dCB3ZSBzdGlsbCBuZWVkIHRvIG1hbmFnZSBmb2N1c1xyXG4gICAgLy8gU28gd2UgYmluZCB0byBrZXl1cCB3aGljaCBmaXJlcyBhZnRlciBhbmQgc2V0IGZvY3VzIGhlcmVcclxuXHJcbiAgICBvbihtZW51SXRlbSwgJ2tleXVwJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIGlmIChldmVudC53aGljaCAhPT0gMTMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnRyb2xzLmZvY3VzRmlyc3RNZW51SXRlbS5jYWxsKF90aGlzMiwgbnVsbCwgdHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIC8vIENyZWF0ZSBhIHNldHRpbmdzIG1lbnUgaXRlbVxyXG4gIGNyZWF0ZU1lbnVJdGVtOiBmdW5jdGlvbiBjcmVhdGVNZW51SXRlbShfcmVmKSB7XHJcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcclxuXHJcbiAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlLFxyXG4gICAgICAgIGxpc3QgPSBfcmVmLmxpc3QsXHJcbiAgICAgICAgdHlwZSA9IF9yZWYudHlwZSxcclxuICAgICAgICB0aXRsZSA9IF9yZWYudGl0bGUsXHJcbiAgICAgICAgX3JlZiRiYWRnZSA9IF9yZWYuYmFkZ2UsXHJcbiAgICAgICAgYmFkZ2UgPSBfcmVmJGJhZGdlID09PSB2b2lkIDAgPyBudWxsIDogX3JlZiRiYWRnZSxcclxuICAgICAgICBfcmVmJGNoZWNrZWQgPSBfcmVmLmNoZWNrZWQsXHJcbiAgICAgICAgY2hlY2tlZCA9IF9yZWYkY2hlY2tlZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGNoZWNrZWQ7XHJcbiAgICB2YXIgYXR0cmlidXRlcyA9IGdldEF0dHJpYnV0ZXNGcm9tU2VsZWN0b3IodGhpcy5jb25maWcuc2VsZWN0b3JzLmlucHV0c1t0eXBlXSk7XHJcbiAgICB2YXIgbWVudUl0ZW0gPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCBleHRlbmQoYXR0cmlidXRlcywge1xyXG4gICAgICB0eXBlOiAnYnV0dG9uJyxcclxuICAgICAgcm9sZTogJ21lbnVpdGVtcmFkaW8nLFxyXG4gICAgICBjbGFzczogXCJcIi5jb25jYXQodGhpcy5jb25maWcuY2xhc3NOYW1lcy5jb250cm9sLCBcIiBcIikuY29uY2F0KGF0dHJpYnV0ZXMuY2xhc3MgPyBhdHRyaWJ1dGVzLmNsYXNzIDogJycpLnRyaW0oKSxcclxuICAgICAgJ2FyaWEtY2hlY2tlZCc6IGNoZWNrZWQsXHJcbiAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgfSkpO1xyXG4gICAgdmFyIGZsZXggPSBjcmVhdGVFbGVtZW50KCdzcGFuJyk7IC8vIFdlIGhhdmUgdG8gc2V0IGFzIEhUTUwgaW5jYXNlIG9mIHNwZWNpYWwgY2hhcmFjdGVyc1xyXG5cclxuICAgIGZsZXguaW5uZXJIVE1MID0gdGl0bGU7XHJcblxyXG4gICAgaWYgKGlzJDEuZWxlbWVudChiYWRnZSkpIHtcclxuICAgICAgZmxleC5hcHBlbmRDaGlsZChiYWRnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWVudUl0ZW0uYXBwZW5kQ2hpbGQoZmxleCk7IC8vIFJlcGxpY2F0ZSByYWRpbyBidXR0b24gYmVoYXZpb3VyXHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1lbnVJdGVtLCAnY2hlY2tlZCcsIHtcclxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIG1lbnVJdGVtLmdldEF0dHJpYnV0ZSgnYXJpYS1jaGVja2VkJykgPT09ICd0cnVlJztcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoY2hlY2spIHtcclxuICAgICAgICAvLyBFbnN1cmUgZXhjbHVzaXZpdHlcclxuICAgICAgICBpZiAoY2hlY2spIHtcclxuICAgICAgICAgIEFycmF5LmZyb20obWVudUl0ZW0ucGFyZW50Tm9kZS5jaGlsZHJlbikuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzJDEobm9kZSwgJ1tyb2xlPVwibWVudWl0ZW1yYWRpb1wiXScpO1xyXG4gICAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbm9kZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY2hlY2tlZCcsICdmYWxzZScpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtZW51SXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY2hlY2tlZCcsIGNoZWNrID8gJ3RydWUnIDogJ2ZhbHNlJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuYmluZChtZW51SXRlbSwgJ2NsaWNrIGtleXVwJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIGlmIChpcyQxLmtleWJvYXJkRXZlbnQoZXZlbnQpICYmIGV2ZW50LndoaWNoICE9PSAzMikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIG1lbnVJdGVtLmNoZWNrZWQgPSB0cnVlO1xyXG5cclxuICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgY2FzZSAnbGFuZ3VhZ2UnOlxyXG4gICAgICAgICAgX3RoaXMzLmN1cnJlbnRUcmFjayA9IE51bWJlcih2YWx1ZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAncXVhbGl0eSc6XHJcbiAgICAgICAgICBfdGhpczMucXVhbGl0eSA9IHZhbHVlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgJ3NwZWVkJzpcclxuICAgICAgICAgIF90aGlzMy5zcGVlZCA9IHBhcnNlRmxvYXQodmFsdWUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgY29udHJvbHMuc2hvd01lbnVQYW5lbC5jYWxsKF90aGlzMywgJ2hvbWUnLCBpcyQxLmtleWJvYXJkRXZlbnQoZXZlbnQpKTtcclxuICAgIH0sIHR5cGUsIGZhbHNlKTtcclxuICAgIGNvbnRyb2xzLmJpbmRNZW51SXRlbVNob3J0Y3V0cy5jYWxsKHRoaXMsIG1lbnVJdGVtLCB0eXBlKTtcclxuICAgIGxpc3QuYXBwZW5kQ2hpbGQobWVudUl0ZW0pO1xyXG4gIH0sXHJcbiAgLy8gRm9ybWF0IGEgdGltZSBmb3IgZGlzcGxheVxyXG4gIGZvcm1hdFRpbWU6IGZ1bmN0aW9uIGZvcm1hdFRpbWUkMSgpIHtcclxuICAgIHZhciB0aW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xyXG4gICAgdmFyIGludmVydGVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcclxuXHJcbiAgICAvLyBCYWlsIGlmIHRoZSB2YWx1ZSBpc24ndCBhIG51bWJlclxyXG4gICAgaWYgKCFpcyQxLm51bWJlcih0aW1lKSkge1xyXG4gICAgICByZXR1cm4gdGltZTtcclxuICAgIH0gLy8gQWx3YXlzIGRpc3BsYXkgaG91cnMgaWYgZHVyYXRpb24gaXMgb3ZlciBhbiBob3VyXHJcblxyXG5cclxuICAgIHZhciBmb3JjZUhvdXJzID0gZ2V0SG91cnModGhpcy5kdXJhdGlvbikgPiAwO1xyXG4gICAgcmV0dXJuIGZvcm1hdFRpbWUodGltZSwgZm9yY2VIb3VycywgaW52ZXJ0ZWQpO1xyXG4gIH0sXHJcbiAgLy8gVXBkYXRlIHRoZSBkaXNwbGF5ZWQgdGltZVxyXG4gIHVwZGF0ZVRpbWVEaXNwbGF5OiBmdW5jdGlvbiB1cGRhdGVUaW1lRGlzcGxheSgpIHtcclxuICAgIHZhciB0YXJnZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XHJcbiAgICB2YXIgdGltZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcclxuICAgIHZhciBpbnZlcnRlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XHJcblxyXG4gICAgLy8gQmFpbCBpZiB0aGVyZSdzIG5vIGVsZW1lbnQgdG8gZGlzcGxheSBvciB0aGUgdmFsdWUgaXNuJ3QgYSBudW1iZXJcclxuICAgIGlmICghaXMkMS5lbGVtZW50KHRhcmdldCkgfHwgIWlzJDEubnVtYmVyKHRpbWUpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXHJcblxyXG5cclxuICAgIHRhcmdldC5pbm5lclRleHQgPSBjb250cm9scy5mb3JtYXRUaW1lKHRpbWUsIGludmVydGVkKTtcclxuICB9LFxyXG4gIC8vIFVwZGF0ZSB2b2x1bWUgVUkgYW5kIHN0b3JhZ2VcclxuICB1cGRhdGVWb2x1bWU6IGZ1bmN0aW9uIHVwZGF0ZVZvbHVtZSgpIHtcclxuICAgIGlmICghdGhpcy5zdXBwb3J0ZWQudWkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSAvLyBVcGRhdGUgcmFuZ2VcclxuXHJcblxyXG4gICAgaWYgKGlzJDEuZWxlbWVudCh0aGlzLmVsZW1lbnRzLmlucHV0cy52b2x1bWUpKSB7XHJcbiAgICAgIGNvbnRyb2xzLnNldFJhbmdlLmNhbGwodGhpcywgdGhpcy5lbGVtZW50cy5pbnB1dHMudm9sdW1lLCB0aGlzLm11dGVkID8gMCA6IHRoaXMudm9sdW1lKTtcclxuICAgIH0gLy8gVXBkYXRlIG11dGUgc3RhdGVcclxuXHJcblxyXG4gICAgaWYgKGlzJDEuZWxlbWVudCh0aGlzLmVsZW1lbnRzLmJ1dHRvbnMubXV0ZSkpIHtcclxuICAgICAgdGhpcy5lbGVtZW50cy5idXR0b25zLm11dGUucHJlc3NlZCA9IHRoaXMubXV0ZWQgfHwgdGhpcy52b2x1bWUgPT09IDA7XHJcbiAgICB9XHJcbiAgfSxcclxuICAvLyBVcGRhdGUgc2VlayB2YWx1ZSBhbmQgbG93ZXIgZmlsbFxyXG4gIHNldFJhbmdlOiBmdW5jdGlvbiBzZXRSYW5nZSh0YXJnZXQpIHtcclxuICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcclxuXHJcbiAgICBpZiAoIWlzJDEuZWxlbWVudCh0YXJnZXQpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcblxyXG5cclxuICAgIHRhcmdldC52YWx1ZSA9IHZhbHVlOyAvLyBXZWJraXQgcmFuZ2UgZmlsbFxyXG5cclxuICAgIGNvbnRyb2xzLnVwZGF0ZVJhbmdlRmlsbC5jYWxsKHRoaXMsIHRhcmdldCk7XHJcbiAgfSxcclxuICAvLyBVcGRhdGUgPHByb2dyZXNzPiBlbGVtZW50c1xyXG4gIHVwZGF0ZVByb2dyZXNzOiBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyhldmVudCkge1xyXG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XHJcblxyXG4gICAgaWYgKCF0aGlzLnN1cHBvcnRlZC51aSB8fCAhaXMkMS5ldmVudChldmVudCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB2YWx1ZSA9IDA7XHJcblxyXG4gICAgdmFyIHNldFByb2dyZXNzID0gZnVuY3Rpb24gc2V0UHJvZ3Jlc3ModGFyZ2V0LCBpbnB1dCkge1xyXG4gICAgICB2YXIgdmFsID0gaXMkMS5udW1iZXIoaW5wdXQpID8gaW5wdXQgOiAwO1xyXG4gICAgICB2YXIgcHJvZ3Jlc3MgPSBpcyQxLmVsZW1lbnQodGFyZ2V0KSA/IHRhcmdldCA6IF90aGlzNC5lbGVtZW50cy5kaXNwbGF5LmJ1ZmZlcjsgLy8gVXBkYXRlIHZhbHVlIGFuZCBsYWJlbFxyXG5cclxuICAgICAgaWYgKGlzJDEuZWxlbWVudChwcm9ncmVzcykpIHtcclxuICAgICAgICBwcm9ncmVzcy52YWx1ZSA9IHZhbDsgLy8gVXBkYXRlIHRleHQgbGFiZWwgaW5zaWRlXHJcblxyXG4gICAgICAgIHZhciBsYWJlbCA9IHByb2dyZXNzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzcGFuJylbMF07XHJcblxyXG4gICAgICAgIGlmIChpcyQxLmVsZW1lbnQobGFiZWwpKSB7XHJcbiAgICAgICAgICBsYWJlbC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKGV2ZW50KSB7XHJcbiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xyXG4gICAgICAgIC8vIFZpZGVvIHBsYXlpbmdcclxuICAgICAgICBjYXNlICd0aW1ldXBkYXRlJzpcclxuICAgICAgICBjYXNlICdzZWVraW5nJzpcclxuICAgICAgICBjYXNlICdzZWVrZWQnOlxyXG4gICAgICAgICAgdmFsdWUgPSBnZXRQZXJjZW50YWdlKHRoaXMuY3VycmVudFRpbWUsIHRoaXMuZHVyYXRpb24pOyAvLyBTZXQgc2VlayByYW5nZSB2YWx1ZSBvbmx5IGlmIGl0J3MgYSAnbmF0dXJhbCcgdGltZSBldmVudFxyXG5cclxuICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAndGltZXVwZGF0ZScpIHtcclxuICAgICAgICAgICAgY29udHJvbHMuc2V0UmFuZ2UuY2FsbCh0aGlzLCB0aGlzLmVsZW1lbnRzLmlucHV0cy5zZWVrLCB2YWx1ZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gQ2hlY2sgYnVmZmVyIHN0YXR1c1xyXG5cclxuICAgICAgICBjYXNlICdwbGF5aW5nJzpcclxuICAgICAgICBjYXNlICdwcm9ncmVzcyc6XHJcbiAgICAgICAgICBzZXRQcm9ncmVzcyh0aGlzLmVsZW1lbnRzLmRpc3BsYXkuYnVmZmVyLCB0aGlzLmJ1ZmZlcmVkICogMTAwKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIC8vIFdlYmtpdCBwb2x5ZmlsbCBmb3IgbG93ZXIgZmlsbCByYW5nZVxyXG4gIHVwZGF0ZVJhbmdlRmlsbDogZnVuY3Rpb24gdXBkYXRlUmFuZ2VGaWxsKHRhcmdldCkge1xyXG4gICAgLy8gR2V0IHJhbmdlIGZyb20gZXZlbnQgaWYgZXZlbnQgcGFzc2VkXHJcbiAgICB2YXIgcmFuZ2UgPSBpcyQxLmV2ZW50KHRhcmdldCkgPyB0YXJnZXQudGFyZ2V0IDogdGFyZ2V0OyAvLyBOZWVkcyB0byBiZSBhIHZhbGlkIDxpbnB1dCB0eXBlPSdyYW5nZSc+XHJcblxyXG4gICAgaWYgKCFpcyQxLmVsZW1lbnQocmFuZ2UpIHx8IHJhbmdlLmdldEF0dHJpYnV0ZSgndHlwZScpICE9PSAncmFuZ2UnKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gU2V0IGFyaWEgdmFsdWVzIGZvciBodHRwczovL2dpdGh1Yi5jb20vc2FtcG90dHMvcGx5ci9pc3N1ZXMvOTA1XHJcblxyXG5cclxuICAgIGlmIChtYXRjaGVzJDEocmFuZ2UsIHRoaXMuY29uZmlnLnNlbGVjdG9ycy5pbnB1dHMuc2VlaykpIHtcclxuICAgICAgcmFuZ2Uuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgdGhpcy5jdXJyZW50VGltZSk7XHJcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IGNvbnRyb2xzLmZvcm1hdFRpbWUodGhpcy5jdXJyZW50VGltZSk7XHJcbiAgICAgIHZhciBkdXJhdGlvbiA9IGNvbnRyb2xzLmZvcm1hdFRpbWUodGhpcy5kdXJhdGlvbik7XHJcbiAgICAgIHZhciBmb3JtYXQgPSBpMThuLmdldCgnc2Vla0xhYmVsJywgdGhpcy5jb25maWcpO1xyXG4gICAgICByYW5nZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWV0ZXh0JywgZm9ybWF0LnJlcGxhY2UoJ3tjdXJyZW50VGltZX0nLCBjdXJyZW50VGltZSkucmVwbGFjZSgne2R1cmF0aW9ufScsIGR1cmF0aW9uKSk7XHJcbiAgICB9IGVsc2UgaWYgKG1hdGNoZXMkMShyYW5nZSwgdGhpcy5jb25maWcuc2VsZWN0b3JzLmlucHV0cy52b2x1bWUpKSB7XHJcbiAgICAgIHZhciBwZXJjZW50ID0gcmFuZ2UudmFsdWUgKiAxMDA7XHJcbiAgICAgIHJhbmdlLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIHBlcmNlbnQpO1xyXG4gICAgICByYW5nZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWV0ZXh0JywgXCJcIi5jb25jYXQocGVyY2VudC50b0ZpeGVkKDEpLCBcIiVcIikpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmFuZ2Uuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgcmFuZ2UudmFsdWUpO1xyXG4gICAgfSAvLyBXZWJLaXQgb25seVxyXG5cclxuXHJcbiAgICBpZiAoIWJyb3dzZXIuaXNXZWJraXQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSAvLyBTZXQgQ1NTIGN1c3RvbSBwcm9wZXJ0eVxyXG5cclxuXHJcbiAgICByYW5nZS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS12YWx1ZScsIFwiXCIuY29uY2F0KHJhbmdlLnZhbHVlIC8gcmFuZ2UubWF4ICogMTAwLCBcIiVcIikpO1xyXG4gIH0sXHJcbiAgLy8gVXBkYXRlIGhvdmVyIHRvb2x0aXAgZm9yIHNlZWtpbmdcclxuICB1cGRhdGVTZWVrVG9vbHRpcDogZnVuY3Rpb24gdXBkYXRlU2Vla1Rvb2x0aXAoZXZlbnQpIHtcclxuICAgIHZhciBfdGhpczUgPSB0aGlzO1xyXG5cclxuICAgIC8vIEJhaWwgaWYgc2V0dGluZyBub3QgdHJ1ZVxyXG4gICAgaWYgKCF0aGlzLmNvbmZpZy50b29sdGlwcy5zZWVrIHx8ICFpcyQxLmVsZW1lbnQodGhpcy5lbGVtZW50cy5pbnB1dHMuc2VlaykgfHwgIWlzJDEuZWxlbWVudCh0aGlzLmVsZW1lbnRzLmRpc3BsYXkuc2Vla1Rvb2x0aXApIHx8IHRoaXMuZHVyYXRpb24gPT09IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB2aXNpYmxlID0gXCJcIi5jb25jYXQodGhpcy5jb25maWcuY2xhc3NOYW1lcy50b29sdGlwLCBcIi0tdmlzaWJsZVwiKTtcclxuXHJcbiAgICB2YXIgdG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKHNob3cpIHtcclxuICAgICAgcmV0dXJuIHRvZ2dsZUNsYXNzKF90aGlzNS5lbGVtZW50cy5kaXNwbGF5LnNlZWtUb29sdGlwLCB2aXNpYmxlLCBzaG93KTtcclxuICAgIH07IC8vIEhpZGUgb24gdG91Y2hcclxuXHJcblxyXG4gICAgaWYgKHRoaXMudG91Y2gpIHtcclxuICAgICAgdG9nZ2xlKGZhbHNlKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSAvLyBEZXRlcm1pbmUgcGVyY2VudGFnZSwgaWYgYWxyZWFkeSB2aXNpYmxlXHJcblxyXG5cclxuICAgIHZhciBwZXJjZW50ID0gMDtcclxuICAgIHZhciBjbGllbnRSZWN0ID0gdGhpcy5lbGVtZW50cy5wcm9ncmVzcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICBpZiAoaXMkMS5ldmVudChldmVudCkpIHtcclxuICAgICAgcGVyY2VudCA9IDEwMCAvIGNsaWVudFJlY3Qud2lkdGggKiAoZXZlbnQucGFnZVggLSBjbGllbnRSZWN0LmxlZnQpO1xyXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyh0aGlzLmVsZW1lbnRzLmRpc3BsYXkuc2Vla1Rvb2x0aXAsIHZpc2libGUpKSB7XHJcbiAgICAgIHBlcmNlbnQgPSBwYXJzZUZsb2F0KHRoaXMuZWxlbWVudHMuZGlzcGxheS5zZWVrVG9vbHRpcC5zdHlsZS5sZWZ0LCAxMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9IC8vIFNldCBib3VuZHNcclxuXHJcblxyXG4gICAgaWYgKHBlcmNlbnQgPCAwKSB7XHJcbiAgICAgIHBlcmNlbnQgPSAwO1xyXG4gICAgfSBlbHNlIGlmIChwZXJjZW50ID4gMTAwKSB7XHJcbiAgICAgIHBlcmNlbnQgPSAxMDA7XHJcbiAgICB9IC8vIERpc3BsYXkgdGhlIHRpbWUgYSBjbGljayB3b3VsZCBzZWVrIHRvXHJcblxyXG5cclxuICAgIGNvbnRyb2xzLnVwZGF0ZVRpbWVEaXNwbGF5LmNhbGwodGhpcywgdGhpcy5lbGVtZW50cy5kaXNwbGF5LnNlZWtUb29sdGlwLCB0aGlzLmR1cmF0aW9uIC8gMTAwICogcGVyY2VudCk7IC8vIFNldCBwb3NpdGlvblxyXG5cclxuICAgIHRoaXMuZWxlbWVudHMuZGlzcGxheS5zZWVrVG9vbHRpcC5zdHlsZS5sZWZ0ID0gXCJcIi5jb25jYXQocGVyY2VudCwgXCIlXCIpOyAvLyBTaG93L2hpZGUgdGhlIHRvb2x0aXBcclxuICAgIC8vIElmIHRoZSBldmVudCBpcyBhIG1vdWVzIGluL291dCBhbmQgcGVyY2VudGFnZSBpcyBpbnNpZGUgYm91bmRzXHJcblxyXG4gICAgaWYgKGlzJDEuZXZlbnQoZXZlbnQpICYmIFsnbW91c2VlbnRlcicsICdtb3VzZWxlYXZlJ10uaW5jbHVkZXMoZXZlbnQudHlwZSkpIHtcclxuICAgICAgdG9nZ2xlKGV2ZW50LnR5cGUgPT09ICdtb3VzZWVudGVyJyk7XHJcbiAgICB9XHJcbiAgfSxcclxuICAvLyBIYW5kbGUgdGltZSBjaGFuZ2UgZXZlbnRcclxuICB0aW1lVXBkYXRlOiBmdW5jdGlvbiB0aW1lVXBkYXRlKGV2ZW50KSB7XHJcbiAgICAvLyBPbmx5IGludmVydCBpZiBvbmx5IG9uZSB0aW1lIGVsZW1lbnQgaXMgZGlzcGxheWVkIGFuZCB1c2VkIGZvciBib3RoIGR1cmF0aW9uIGFuZCBjdXJyZW50VGltZVxyXG4gICAgdmFyIGludmVydCA9ICFpcyQxLmVsZW1lbnQodGhpcy5lbGVtZW50cy5kaXNwbGF5LmR1cmF0aW9uKSAmJiB0aGlzLmNvbmZpZy5pbnZlcnRUaW1lOyAvLyBEdXJhdGlvblxyXG5cclxuICAgIGNvbnRyb2xzLnVwZGF0ZVRpbWVEaXNwbGF5LmNhbGwodGhpcywgdGhpcy5lbGVtZW50cy5kaXNwbGF5LmN1cnJlbnRUaW1lLCBpbnZlcnQgPyB0aGlzLmR1cmF0aW9uIC0gdGhpcy5jdXJyZW50VGltZSA6IHRoaXMuY3VycmVudFRpbWUsIGludmVydCk7IC8vIElnbm9yZSB1cGRhdGVzIHdoaWxlIHNlZWtpbmdcclxuXHJcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gJ3RpbWV1cGRhdGUnICYmIHRoaXMubWVkaWEuc2Vla2luZykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9IC8vIFBsYXlpbmcgcHJvZ3Jlc3NcclxuXHJcblxyXG4gICAgY29udHJvbHMudXBkYXRlUHJvZ3Jlc3MuY2FsbCh0aGlzLCBldmVudCk7XHJcbiAgfSxcclxuICAvLyBTaG93IHRoZSBkdXJhdGlvbiBvbiBtZXRhZGF0YWxvYWRlZCBvciBkdXJhdGlvbmNoYW5nZSBldmVudHNcclxuICBkdXJhdGlvblVwZGF0ZTogZnVuY3Rpb24gZHVyYXRpb25VcGRhdGUoKSB7XHJcbiAgICAvLyBCYWlsIGlmIG5vIFVJIG9yIGR1cmF0aW9uY2hhbmdlIGV2ZW50IHRyaWdnZXJlZCBhZnRlciBwbGF5aW5nL3NlZWsgd2hlbiBpbnZlcnRUaW1lIGlzIGZhbHNlXHJcbiAgICBpZiAoIXRoaXMuc3VwcG9ydGVkLnVpIHx8ICF0aGlzLmNvbmZpZy5pbnZlcnRUaW1lICYmIHRoaXMuY3VycmVudFRpbWUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSAvLyBJZiBkdXJhdGlvbiBpcyB0aGUgMioqMzIgKHNoYWthKSwgSW5maW5pdHkgKEhMUyksIERBU0gtSUYgKE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8IE51bWJlci5NQVhfVkFMVUUpIGluZGljYXRpbmcgbGl2ZSB3ZSBoaWRlIHRoZSBjdXJyZW50VGltZSBhbmQgcHJvZ3Jlc3NiYXIuXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9ibG9iLzU4MjBkMjlkM2M0YzhhNDZlOGI3NWYxZTNhZmEzZTY4YzFhOWEyZGIvc3JjL2NvbnRyb2xsZXIvYnVmZmVyLWNvbnRyb2xsZXIuanMjTDQxNVxyXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9zaGFrYS1wbGF5ZXIvYmxvYi80ZDg4OTA1NDYzMWY0ZTFjZjBmYmQ4MGRkZDJiNzE4ODdjMDJlMjMyL2xpYi9tZWRpYS9zdHJlYW1pbmdfZW5naW5lLmpzI0wxMDYyXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vRGFzaC1JbmR1c3RyeS1Gb3J1bS9kYXNoLmpzL2Jsb2IvNjk4NTlmNTFiOTY5NjQ1YjIzNDY2NjgwMGQ0Y2I1OTZkODljNjAyZC9zcmMvZGFzaC9tb2RlbHMvRGFzaE1hbmlmZXN0TW9kZWwuanMjTDMzOFxyXG5cclxuXHJcbiAgICBpZiAodGhpcy5kdXJhdGlvbiA+PSBNYXRoLnBvdygyLCAzMikpIHtcclxuICAgICAgdG9nZ2xlSGlkZGVuKHRoaXMuZWxlbWVudHMuZGlzcGxheS5jdXJyZW50VGltZSwgdHJ1ZSk7XHJcbiAgICAgIHRvZ2dsZUhpZGRlbih0aGlzLmVsZW1lbnRzLnByb2dyZXNzLCB0cnVlKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSAvLyBVcGRhdGUgQVJJQSB2YWx1ZXNcclxuXHJcblxyXG4gICAgaWYgKGlzJDEuZWxlbWVudCh0aGlzLmVsZW1lbnRzLmlucHV0cy5zZWVrKSkge1xyXG4gICAgICB0aGlzLmVsZW1lbnRzLmlucHV0cy5zZWVrLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW1heCcsIHRoaXMuZHVyYXRpb24pO1xyXG4gICAgfSAvLyBJZiB0aGVyZSdzIGEgc3BvdCB0byBkaXNwbGF5IGR1cmF0aW9uXHJcblxyXG5cclxuICAgIHZhciBoYXNEdXJhdGlvbiA9IGlzJDEuZWxlbWVudCh0aGlzLmVsZW1lbnRzLmRpc3BsYXkuZHVyYXRpb24pOyAvLyBJZiB0aGVyZSdzIG9ubHkgb25lIHRpbWUgZGlzcGxheSwgZGlzcGxheSBkdXJhdGlvbiB0aGVyZVxyXG5cclxuICAgIGlmICghaGFzRHVyYXRpb24gJiYgdGhpcy5jb25maWcuZGlzcGxheUR1cmF0aW9uICYmIHRoaXMucGF1c2VkKSB7XHJcbiAgICAgIGNvbnRyb2xzLnVwZGF0ZVRpbWVEaXNwbGF5LmNhbGwodGhpcywgdGhpcy5lbGVtZW50cy5kaXNwbGF5LmN1cnJlbnRUaW1lLCB0aGlzLmR1cmF0aW9uKTtcclxuICAgIH0gLy8gSWYgdGhlcmUncyBhIGR1cmF0aW9uIGVsZW1lbnQsIHVwZGF0ZSBjb250ZW50XHJcblxyXG5cclxuICAgIGlmIChoYXNEdXJhdGlvbikge1xyXG4gICAgICBjb250cm9scy51cGRhdGVUaW1lRGlzcGxheS5jYWxsKHRoaXMsIHRoaXMuZWxlbWVudHMuZGlzcGxheS5kdXJhdGlvbiwgdGhpcy5kdXJhdGlvbik7XHJcbiAgICB9IC8vIFVwZGF0ZSB0aGUgdG9vbHRpcCAoaWYgdmlzaWJsZSlcclxuXHJcblxyXG4gICAgY29udHJvbHMudXBkYXRlU2Vla1Rvb2x0aXAuY2FsbCh0aGlzKTtcclxuICB9LFxyXG4gIC8vIEhpZGUvc2hvdyBhIHRhYlxyXG4gIHRvZ2dsZU1lbnVCdXR0b246IGZ1bmN0aW9uIHRvZ2dsZU1lbnVCdXR0b24oc2V0dGluZywgdG9nZ2xlKSB7XHJcbiAgICB0b2dnbGVIaWRkZW4odGhpcy5lbGVtZW50cy5zZXR0aW5ncy5idXR0b25zW3NldHRpbmddLCAhdG9nZ2xlKTtcclxuICB9LFxyXG4gIC8vIFVwZGF0ZSB0aGUgc2VsZWN0ZWQgc2V0dGluZ1xyXG4gIHVwZGF0ZVNldHRpbmc6IGZ1bmN0aW9uIHVwZGF0ZVNldHRpbmcoc2V0dGluZywgY29udGFpbmVyLCBpbnB1dCkge1xyXG4gICAgdmFyIHBhbmUgPSB0aGlzLmVsZW1lbnRzLnNldHRpbmdzLnBhbmVsc1tzZXR0aW5nXTtcclxuICAgIHZhciB2YWx1ZSA9IG51bGw7XHJcbiAgICB2YXIgbGlzdCA9IGNvbnRhaW5lcjtcclxuXHJcbiAgICBpZiAoc2V0dGluZyA9PT0gJ2NhcHRpb25zJykge1xyXG4gICAgICB2YWx1ZSA9IHRoaXMuY3VycmVudFRyYWNrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFsdWUgPSAhaXMkMS5lbXB0eShpbnB1dCkgPyBpbnB1dCA6IHRoaXNbc2V0dGluZ107IC8vIEdldCBkZWZhdWx0XHJcblxyXG4gICAgICBpZiAoaXMkMS5lbXB0eSh2YWx1ZSkpIHtcclxuICAgICAgICB2YWx1ZSA9IHRoaXMuY29uZmlnW3NldHRpbmddLmRlZmF1bHQ7XHJcbiAgICAgIH0gLy8gVW5zdXBwb3J0ZWQgdmFsdWVcclxuXHJcblxyXG4gICAgICBpZiAoIWlzJDEuZW1wdHkodGhpcy5vcHRpb25zW3NldHRpbmddKSAmJiAhdGhpcy5vcHRpb25zW3NldHRpbmddLmluY2x1ZGVzKHZhbHVlKSkge1xyXG4gICAgICAgIHRoaXMuZGVidWcud2FybihcIlVuc3VwcG9ydGVkIHZhbHVlIG9mICdcIi5jb25jYXQodmFsdWUsIFwiJyBmb3IgXCIpLmNvbmNhdChzZXR0aW5nKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IC8vIERpc2FibGVkIHZhbHVlXHJcblxyXG5cclxuICAgICAgaWYgKCF0aGlzLmNvbmZpZ1tzZXR0aW5nXS5vcHRpb25zLmluY2x1ZGVzKHZhbHVlKSkge1xyXG4gICAgICAgIHRoaXMuZGVidWcud2FybihcIkRpc2FibGVkIHZhbHVlIG9mICdcIi5jb25jYXQodmFsdWUsIFwiJyBmb3IgXCIpLmNvbmNhdChzZXR0aW5nKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9IC8vIEdldCB0aGUgbGlzdCBpZiB3ZSBuZWVkIHRvXHJcblxyXG5cclxuICAgIGlmICghaXMkMS5lbGVtZW50KGxpc3QpKSB7XHJcbiAgICAgIGxpc3QgPSBwYW5lICYmIHBhbmUucXVlcnlTZWxlY3RvcignW3JvbGU9XCJtZW51XCJdJyk7XHJcbiAgICB9IC8vIElmIHRoZXJlJ3Mgbm8gbGlzdCBpdCBtZWFucyBpdCdzIG5vdCBiZWVuIHJlbmRlcmVkLi4uXHJcblxyXG5cclxuICAgIGlmICghaXMkMS5lbGVtZW50KGxpc3QpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gVXBkYXRlIHRoZSBsYWJlbFxyXG5cclxuXHJcbiAgICB2YXIgbGFiZWwgPSB0aGlzLmVsZW1lbnRzLnNldHRpbmdzLmJ1dHRvbnNbc2V0dGluZ10ucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQodGhpcy5jb25maWcuY2xhc3NOYW1lcy5tZW51LnZhbHVlKSk7XHJcbiAgICBsYWJlbC5pbm5lckhUTUwgPSBjb250cm9scy5nZXRMYWJlbC5jYWxsKHRoaXMsIHNldHRpbmcsIHZhbHVlKTsgLy8gRmluZCB0aGUgcmFkaW8gb3B0aW9uIGFuZCBjaGVjayBpdFxyXG5cclxuICAgIHZhciB0YXJnZXQgPSBsaXN0ICYmIGxpc3QucXVlcnlTZWxlY3RvcihcIlt2YWx1ZT1cXFwiXCIuY29uY2F0KHZhbHVlLCBcIlxcXCJdXCIpKTtcclxuXHJcbiAgICBpZiAoaXMkMS5lbGVtZW50KHRhcmdldCkpIHtcclxuICAgICAgdGFyZ2V0LmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8gVHJhbnNsYXRlIGEgdmFsdWUgaW50byBhIG5pY2UgbGFiZWxcclxuICBnZXRMYWJlbDogZnVuY3Rpb24gZ2V0TGFiZWwoc2V0dGluZywgdmFsdWUpIHtcclxuICAgIHN3aXRjaCAoc2V0dGluZykge1xyXG4gICAgICBjYXNlICdzcGVlZCc6XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAxID8gaTE4bi5nZXQoJ25vcm1hbCcsIHRoaXMuY29uZmlnKSA6IFwiXCIuY29uY2F0KHZhbHVlLCBcIiZ0aW1lcztcIik7XHJcblxyXG4gICAgICBjYXNlICdxdWFsaXR5JzpcclxuICAgICAgICBpZiAoaXMkMS5udW1iZXIodmFsdWUpKSB7XHJcbiAgICAgICAgICB2YXIgbGFiZWwgPSBpMThuLmdldChcInF1YWxpdHlMYWJlbC5cIi5jb25jYXQodmFsdWUpLCB0aGlzLmNvbmZpZyk7XHJcblxyXG4gICAgICAgICAgaWYgKCFsYWJlbC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHZhbHVlLCBcInBcIik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGxhYmVsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRvVGl0bGVDYXNlKHZhbHVlKTtcclxuXHJcbiAgICAgIGNhc2UgJ2NhcHRpb25zJzpcclxuICAgICAgICByZXR1cm4gY2FwdGlvbnMuZ2V0TGFiZWwuY2FsbCh0aGlzKTtcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfSxcclxuICAvLyBTZXQgdGhlIHF1YWxpdHkgbWVudVxyXG4gIHNldFF1YWxpdHlNZW51OiBmdW5jdGlvbiBzZXRRdWFsaXR5TWVudShvcHRpb25zKSB7XHJcbiAgICB2YXIgX3RoaXM2ID0gdGhpcztcclxuXHJcbiAgICAvLyBNZW51IHJlcXVpcmVkXHJcbiAgICBpZiAoIWlzJDEuZWxlbWVudCh0aGlzLmVsZW1lbnRzLnNldHRpbmdzLnBhbmVscy5xdWFsaXR5KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHR5cGUgPSAncXVhbGl0eSc7XHJcbiAgICB2YXIgbGlzdCA9IHRoaXMuZWxlbWVudHMuc2V0dGluZ3MucGFuZWxzLnF1YWxpdHkucXVlcnlTZWxlY3RvcignW3JvbGU9XCJtZW51XCJdJyk7IC8vIFNldCBvcHRpb25zIGlmIHBhc3NlZCBhbmQgZmlsdGVyIGJhc2VkIG9uIHVuaXF1ZW5lc3MgYW5kIGNvbmZpZ1xyXG5cclxuICAgIGlmIChpcyQxLmFycmF5KG9wdGlvbnMpKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucy5xdWFsaXR5ID0gZGVkdXBlKG9wdGlvbnMpLmZpbHRlcihmdW5jdGlvbiAocXVhbGl0eSkge1xyXG4gICAgICAgIHJldHVybiBfdGhpczYuY29uZmlnLnF1YWxpdHkub3B0aW9ucy5pbmNsdWRlcyhxdWFsaXR5KTtcclxuICAgICAgfSk7XHJcbiAgICB9IC8vIFRvZ2dsZSB0aGUgcGFuZSBhbmQgdGFiXHJcblxyXG5cclxuICAgIHZhciB0b2dnbGUgPSAhaXMkMS5lbXB0eSh0aGlzLm9wdGlvbnMucXVhbGl0eSkgJiYgdGhpcy5vcHRpb25zLnF1YWxpdHkubGVuZ3RoID4gMTtcclxuICAgIGNvbnRyb2xzLnRvZ2dsZU1lbnVCdXR0b24uY2FsbCh0aGlzLCB0eXBlLCB0b2dnbGUpOyAvLyBFbXB0eSB0aGUgbWVudVxyXG5cclxuICAgIGVtcHR5RWxlbWVudChsaXN0KTsgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byB0b2dnbGUgdGhlIHBhcmVudFxyXG5cclxuICAgIGNvbnRyb2xzLmNoZWNrTWVudS5jYWxsKHRoaXMpOyAvLyBJZiB3ZSdyZSBoaWRpbmcsIG5vdGhpbmcgbW9yZSB0byBkb1xyXG5cclxuICAgIGlmICghdG9nZ2xlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gR2V0IHRoZSBiYWRnZSBIVE1MIGZvciBIRCwgNEsgZXRjXHJcblxyXG5cclxuICAgIHZhciBnZXRCYWRnZSA9IGZ1bmN0aW9uIGdldEJhZGdlKHF1YWxpdHkpIHtcclxuICAgICAgdmFyIGxhYmVsID0gaTE4bi5nZXQoXCJxdWFsaXR5QmFkZ2UuXCIuY29uY2F0KHF1YWxpdHkpLCBfdGhpczYuY29uZmlnKTtcclxuXHJcbiAgICAgIGlmICghbGFiZWwubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBjb250cm9scy5jcmVhdGVCYWRnZS5jYWxsKF90aGlzNiwgbGFiZWwpO1xyXG4gICAgfTsgLy8gU29ydCBvcHRpb25zIGJ5IHRoZSBjb25maWcgYW5kIHRoZW4gcmVuZGVyIG9wdGlvbnNcclxuXHJcblxyXG4gICAgdGhpcy5vcHRpb25zLnF1YWxpdHkuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICB2YXIgc29ydGluZyA9IF90aGlzNi5jb25maWcucXVhbGl0eS5vcHRpb25zO1xyXG4gICAgICByZXR1cm4gc29ydGluZy5pbmRleE9mKGEpID4gc29ydGluZy5pbmRleE9mKGIpID8gMSA6IC0xO1xyXG4gICAgfSkuZm9yRWFjaChmdW5jdGlvbiAocXVhbGl0eSkge1xyXG4gICAgICBjb250cm9scy5jcmVhdGVNZW51SXRlbS5jYWxsKF90aGlzNiwge1xyXG4gICAgICAgIHZhbHVlOiBxdWFsaXR5LFxyXG4gICAgICAgIGxpc3Q6IGxpc3QsXHJcbiAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICB0aXRsZTogY29udHJvbHMuZ2V0TGFiZWwuY2FsbChfdGhpczYsICdxdWFsaXR5JywgcXVhbGl0eSksXHJcbiAgICAgICAgYmFkZ2U6IGdldEJhZGdlKHF1YWxpdHkpXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBjb250cm9scy51cGRhdGVTZXR0aW5nLmNhbGwodGhpcywgdHlwZSwgbGlzdCk7XHJcbiAgfSxcclxuICAvLyBTZXQgdGhlIGxvb3Bpbmcgb3B0aW9uc1xyXG5cclxuICAvKiBzZXRMb29wTWVudSgpIHtcclxuICAgICAgLy8gTWVudSByZXF1aXJlZFxyXG4gICAgICBpZiAoIWlzLmVsZW1lbnQodGhpcy5lbGVtZW50cy5zZXR0aW5ncy5wYW5lbHMubG9vcCkpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICAgY29uc3Qgb3B0aW9ucyA9IFsnc3RhcnQnLCAnZW5kJywgJ2FsbCcsICdyZXNldCddO1xyXG4gICAgICBjb25zdCBsaXN0ID0gdGhpcy5lbGVtZW50cy5zZXR0aW5ncy5wYW5lbHMubG9vcC5xdWVyeVNlbGVjdG9yKCdbcm9sZT1cIm1lbnVcIl0nKTtcclxuICAgICAgIC8vIFNob3cgdGhlIHBhbmUgYW5kIHRhYlxyXG4gICAgICB0b2dnbGVIaWRkZW4odGhpcy5lbGVtZW50cy5zZXR0aW5ncy5idXR0b25zLmxvb3AsIGZhbHNlKTtcclxuICAgICAgdG9nZ2xlSGlkZGVuKHRoaXMuZWxlbWVudHMuc2V0dGluZ3MucGFuZWxzLmxvb3AsIGZhbHNlKTtcclxuICAgICAgIC8vIFRvZ2dsZSB0aGUgcGFuZSBhbmQgdGFiXHJcbiAgICAgIGNvbnN0IHRvZ2dsZSA9ICFpcy5lbXB0eSh0aGlzLmxvb3Aub3B0aW9ucyk7XHJcbiAgICAgIGNvbnRyb2xzLnRvZ2dsZU1lbnVCdXR0b24uY2FsbCh0aGlzLCAnbG9vcCcsIHRvZ2dsZSk7XHJcbiAgICAgICAvLyBFbXB0eSB0aGUgbWVudVxyXG4gICAgICBlbXB0eUVsZW1lbnQobGlzdCk7XHJcbiAgICAgICBvcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcclxuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBjcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgJ2J1dHRvbicsXHJcbiAgICAgICAgICAgICAgZXh0ZW5kKGdldEF0dHJpYnV0ZXNGcm9tU2VsZWN0b3IodGhpcy5jb25maWcuc2VsZWN0b3JzLmJ1dHRvbnMubG9vcCksIHtcclxuICAgICAgICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzOiB0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmNvbnRyb2wsXHJcbiAgICAgICAgICAgICAgICAgICdkYXRhLXBseXItbG9vcC1hY3Rpb24nOiBvcHRpb24sXHJcbiAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgaTE4bi5nZXQob3B0aW9uLCB0aGlzLmNvbmZpZylcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICAgaWYgKFsnc3RhcnQnLCAnZW5kJ10uaW5jbHVkZXMob3B0aW9uKSkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGJhZGdlID0gY29udHJvbHMuY3JlYXRlQmFkZ2UuY2FsbCh0aGlzLCAnMDA6MDAnKTtcclxuICAgICAgICAgICAgICBidXR0b24uYXBwZW5kQ2hpbGQoYmFkZ2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XHJcbiAgICAgIH0pO1xyXG4gIH0sICovXHJcbiAgLy8gR2V0IGN1cnJlbnQgc2VsZWN0ZWQgY2FwdGlvbiBsYW5ndWFnZVxyXG4gIC8vIFRPRE86IHJld29yayB0aGlzIHRvIHVzZXIgdGhlIGdldHRlciBpbiB0aGUgQVBJP1xyXG4gIC8vIFNldCBhIGxpc3Qgb2YgYXZhaWxhYmxlIGNhcHRpb25zIGxhbmd1YWdlc1xyXG4gIHNldENhcHRpb25zTWVudTogZnVuY3Rpb24gc2V0Q2FwdGlvbnNNZW51KCkge1xyXG4gICAgdmFyIF90aGlzNyA9IHRoaXM7XHJcblxyXG4gICAgLy8gTWVudSByZXF1aXJlZFxyXG4gICAgaWYgKCFpcyQxLmVsZW1lbnQodGhpcy5lbGVtZW50cy5zZXR0aW5ncy5wYW5lbHMuY2FwdGlvbnMpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gVE9ETzogQ2FwdGlvbnMgb3IgbGFuZ3VhZ2U/IEN1cnJlbnRseSBpdCdzIG1peGVkXHJcblxyXG5cclxuICAgIHZhciB0eXBlID0gJ2NhcHRpb25zJztcclxuICAgIHZhciBsaXN0ID0gdGhpcy5lbGVtZW50cy5zZXR0aW5ncy5wYW5lbHMuY2FwdGlvbnMucXVlcnlTZWxlY3RvcignW3JvbGU9XCJtZW51XCJdJyk7XHJcbiAgICB2YXIgdHJhY2tzID0gY2FwdGlvbnMuZ2V0VHJhY2tzLmNhbGwodGhpcyk7XHJcbiAgICB2YXIgdG9nZ2xlID0gQm9vbGVhbih0cmFja3MubGVuZ3RoKTsgLy8gVG9nZ2xlIHRoZSBwYW5lIGFuZCB0YWJcclxuXHJcbiAgICBjb250cm9scy50b2dnbGVNZW51QnV0dG9uLmNhbGwodGhpcywgdHlwZSwgdG9nZ2xlKTsgLy8gRW1wdHkgdGhlIG1lbnVcclxuXHJcbiAgICBlbXB0eUVsZW1lbnQobGlzdCk7IC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gdG9nZ2xlIHRoZSBwYXJlbnRcclxuXHJcbiAgICBjb250cm9scy5jaGVja01lbnUuY2FsbCh0aGlzKTsgLy8gSWYgdGhlcmUncyBubyBjYXB0aW9ucywgYmFpbFxyXG5cclxuICAgIGlmICghdG9nZ2xlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gR2VuZXJhdGUgb3B0aW9ucyBkYXRhXHJcblxyXG5cclxuICAgIHZhciBvcHRpb25zID0gdHJhY2tzLm1hcChmdW5jdGlvbiAodHJhY2ssIHZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxyXG4gICAgICAgIGNoZWNrZWQ6IF90aGlzNy5jYXB0aW9ucy50b2dnbGVkICYmIF90aGlzNy5jdXJyZW50VHJhY2sgPT09IHZhbHVlLFxyXG4gICAgICAgIHRpdGxlOiBjYXB0aW9ucy5nZXRMYWJlbC5jYWxsKF90aGlzNywgdHJhY2spLFxyXG4gICAgICAgIGJhZGdlOiB0cmFjay5sYW5ndWFnZSAmJiBjb250cm9scy5jcmVhdGVCYWRnZS5jYWxsKF90aGlzNywgdHJhY2subGFuZ3VhZ2UudG9VcHBlckNhc2UoKSksXHJcbiAgICAgICAgbGlzdDogbGlzdCxcclxuICAgICAgICB0eXBlOiAnbGFuZ3VhZ2UnXHJcbiAgICAgIH07XHJcbiAgICB9KTsgLy8gQWRkIHRoZSBcIkRpc2FibGVkXCIgb3B0aW9uIHRvIHR1cm4gb2ZmIGNhcHRpb25zXHJcblxyXG4gICAgb3B0aW9ucy51bnNoaWZ0KHtcclxuICAgICAgdmFsdWU6IC0xLFxyXG4gICAgICBjaGVja2VkOiAhdGhpcy5jYXB0aW9ucy50b2dnbGVkLFxyXG4gICAgICB0aXRsZTogaTE4bi5nZXQoJ2Rpc2FibGVkJywgdGhpcy5jb25maWcpLFxyXG4gICAgICBsaXN0OiBsaXN0LFxyXG4gICAgICB0eXBlOiAnbGFuZ3VhZ2UnXHJcbiAgICB9KTsgLy8gR2VuZXJhdGUgb3B0aW9uc1xyXG5cclxuICAgIG9wdGlvbnMuZm9yRWFjaChjb250cm9scy5jcmVhdGVNZW51SXRlbS5iaW5kKHRoaXMpKTtcclxuICAgIGNvbnRyb2xzLnVwZGF0ZVNldHRpbmcuY2FsbCh0aGlzLCB0eXBlLCBsaXN0KTtcclxuICB9LFxyXG4gIC8vIFNldCBhIGxpc3Qgb2YgYXZhaWxhYmxlIGNhcHRpb25zIGxhbmd1YWdlc1xyXG4gIHNldFNwZWVkTWVudTogZnVuY3Rpb24gc2V0U3BlZWRNZW51KG9wdGlvbnMpIHtcclxuICAgIHZhciBfdGhpczggPSB0aGlzO1xyXG5cclxuICAgIC8vIE1lbnUgcmVxdWlyZWRcclxuICAgIGlmICghaXMkMS5lbGVtZW50KHRoaXMuZWxlbWVudHMuc2V0dGluZ3MucGFuZWxzLnNwZWVkKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHR5cGUgPSAnc3BlZWQnO1xyXG4gICAgdmFyIGxpc3QgPSB0aGlzLmVsZW1lbnRzLnNldHRpbmdzLnBhbmVscy5zcGVlZC5xdWVyeVNlbGVjdG9yKCdbcm9sZT1cIm1lbnVcIl0nKTsgLy8gU2V0IHRoZSBzcGVlZCBvcHRpb25zXHJcblxyXG4gICAgaWYgKGlzJDEuYXJyYXkob3B0aW9ucykpIHtcclxuICAgICAgdGhpcy5vcHRpb25zLnNwZWVkID0gb3B0aW9ucztcclxuICAgIH0gZWxzZSBpZiAodGhpcy5pc0hUTUw1IHx8IHRoaXMuaXNWaW1lbykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMuc3BlZWQgPSBbMC41LCAwLjc1LCAxLCAxLjI1LCAxLjUsIDEuNzUsIDJdO1xyXG4gICAgfSAvLyBTZXQgb3B0aW9ucyBpZiBwYXNzZWQgYW5kIGZpbHRlciBiYXNlZCBvbiBjb25maWdcclxuXHJcblxyXG4gICAgdGhpcy5vcHRpb25zLnNwZWVkID0gdGhpcy5vcHRpb25zLnNwZWVkLmZpbHRlcihmdW5jdGlvbiAoc3BlZWQpIHtcclxuICAgICAgcmV0dXJuIF90aGlzOC5jb25maWcuc3BlZWQub3B0aW9ucy5pbmNsdWRlcyhzcGVlZCk7XHJcbiAgICB9KTsgLy8gVG9nZ2xlIHRoZSBwYW5lIGFuZCB0YWJcclxuXHJcbiAgICB2YXIgdG9nZ2xlID0gIWlzJDEuZW1wdHkodGhpcy5vcHRpb25zLnNwZWVkKSAmJiB0aGlzLm9wdGlvbnMuc3BlZWQubGVuZ3RoID4gMTtcclxuICAgIGNvbnRyb2xzLnRvZ2dsZU1lbnVCdXR0b24uY2FsbCh0aGlzLCB0eXBlLCB0b2dnbGUpOyAvLyBFbXB0eSB0aGUgbWVudVxyXG5cclxuICAgIGVtcHR5RWxlbWVudChsaXN0KTsgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byB0b2dnbGUgdGhlIHBhcmVudFxyXG5cclxuICAgIGNvbnRyb2xzLmNoZWNrTWVudS5jYWxsKHRoaXMpOyAvLyBJZiB3ZSdyZSBoaWRpbmcsIG5vdGhpbmcgbW9yZSB0byBkb1xyXG5cclxuICAgIGlmICghdG9nZ2xlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gQ3JlYXRlIGl0ZW1zXHJcblxyXG5cclxuICAgIHRoaXMub3B0aW9ucy5zcGVlZC5mb3JFYWNoKGZ1bmN0aW9uIChzcGVlZCkge1xyXG4gICAgICBjb250cm9scy5jcmVhdGVNZW51SXRlbS5jYWxsKF90aGlzOCwge1xyXG4gICAgICAgIHZhbHVlOiBzcGVlZCxcclxuICAgICAgICBsaXN0OiBsaXN0LFxyXG4gICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgdGl0bGU6IGNvbnRyb2xzLmdldExhYmVsLmNhbGwoX3RoaXM4LCAnc3BlZWQnLCBzcGVlZClcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGNvbnRyb2xzLnVwZGF0ZVNldHRpbmcuY2FsbCh0aGlzLCB0eXBlLCBsaXN0KTtcclxuICB9LFxyXG4gIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gaGlkZS9zaG93IHRoZSBzZXR0aW5ncyBtZW51XHJcbiAgY2hlY2tNZW51OiBmdW5jdGlvbiBjaGVja01lbnUoKSB7XHJcbiAgICB2YXIgYnV0dG9ucyA9IHRoaXMuZWxlbWVudHMuc2V0dGluZ3MuYnV0dG9ucztcclxuICAgIHZhciB2aXNpYmxlID0gIWlzJDEuZW1wdHkoYnV0dG9ucykgJiYgT2JqZWN0LnZhbHVlcyhidXR0b25zKS5zb21lKGZ1bmN0aW9uIChidXR0b24pIHtcclxuICAgICAgcmV0dXJuICFidXR0b24uaGlkZGVuO1xyXG4gICAgfSk7XHJcbiAgICB0b2dnbGVIaWRkZW4odGhpcy5lbGVtZW50cy5zZXR0aW5ncy5tZW51LCAhdmlzaWJsZSk7XHJcbiAgfSxcclxuICAvLyBGb2N1cyB0aGUgZmlyc3QgbWVudSBpdGVtIGluIGEgZ2l2ZW4gKG9yIHZpc2libGUpIG1lbnVcclxuICBmb2N1c0ZpcnN0TWVudUl0ZW06IGZ1bmN0aW9uIGZvY3VzRmlyc3RNZW51SXRlbShwYW5lKSB7XHJcbiAgICB2YXIgdGFiRm9jdXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xyXG5cclxuICAgIGlmICh0aGlzLmVsZW1lbnRzLnNldHRpbmdzLnBvcHVwLmhpZGRlbikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRhcmdldCA9IHBhbmU7XHJcblxyXG4gICAgaWYgKCFpcyQxLmVsZW1lbnQodGFyZ2V0KSkge1xyXG4gICAgICB0YXJnZXQgPSBPYmplY3QudmFsdWVzKHRoaXMuZWxlbWVudHMuc2V0dGluZ3MucGFuZWxzKS5maW5kKGZ1bmN0aW9uIChwKSB7XHJcbiAgICAgICAgcmV0dXJuICFwLmhpZGRlbjtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGZpcnN0SXRlbSA9IHRhcmdldC5xdWVyeVNlbGVjdG9yKCdbcm9sZV49XCJtZW51aXRlbVwiXScpO1xyXG4gICAgc2V0Rm9jdXMuY2FsbCh0aGlzLCBmaXJzdEl0ZW0sIHRhYkZvY3VzKTtcclxuICB9LFxyXG4gIC8vIFNob3cvaGlkZSBtZW51XHJcbiAgdG9nZ2xlTWVudTogZnVuY3Rpb24gdG9nZ2xlTWVudShpbnB1dCkge1xyXG4gICAgdmFyIHBvcHVwID0gdGhpcy5lbGVtZW50cy5zZXR0aW5ncy5wb3B1cDtcclxuICAgIHZhciBidXR0b24gPSB0aGlzLmVsZW1lbnRzLmJ1dHRvbnMuc2V0dGluZ3M7IC8vIE1lbnUgYW5kIGJ1dHRvbiBhcmUgcmVxdWlyZWRcclxuXHJcbiAgICBpZiAoIWlzJDEuZWxlbWVudChwb3B1cCkgfHwgIWlzJDEuZWxlbWVudChidXR0b24pKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gVHJ1ZSB0b2dnbGUgYnkgZGVmYXVsdFxyXG5cclxuXHJcbiAgICB2YXIgaGlkZGVuID0gcG9wdXAuaGlkZGVuO1xyXG4gICAgdmFyIHNob3cgPSBoaWRkZW47XHJcblxyXG4gICAgaWYgKGlzJDEuYm9vbGVhbihpbnB1dCkpIHtcclxuICAgICAgc2hvdyA9IGlucHV0O1xyXG4gICAgfSBlbHNlIGlmIChpcyQxLmtleWJvYXJkRXZlbnQoaW5wdXQpICYmIGlucHV0LndoaWNoID09PSAyNykge1xyXG4gICAgICBzaG93ID0gZmFsc2U7XHJcbiAgICB9IGVsc2UgaWYgKGlzJDEuZXZlbnQoaW5wdXQpKSB7XHJcbiAgICAgIC8vIElmIFBseXIgaXMgaW4gYSBzaGFkb3dET00sIHRoZSBldmVudCB0YXJnZXQgaXMgc2V0IHRvIHRoZSBjb21wb25lbnQsIGluc3RlYWQgb2YgdGhlXHJcbiAgICAgIC8vIEVsZW1lbnQgaW4gdGhlIHNoYWRvd0RPTS4gVGhlIHBhdGgsIGlmIGF2YWlsYWJsZSwgaXMgY29tcGxldGUuXHJcbiAgICAgIHZhciB0YXJnZXQgPSBpcyQxLmZ1bmN0aW9uKGlucHV0LmNvbXBvc2VkUGF0aCkgPyBpbnB1dC5jb21wb3NlZFBhdGgoKVswXSA6IGlucHV0LnRhcmdldDtcclxuICAgICAgdmFyIGlzTWVudUl0ZW0gPSBwb3B1cC5jb250YWlucyh0YXJnZXQpOyAvLyBJZiB0aGUgY2xpY2sgd2FzIGluc2lkZSB0aGUgbWVudSBvciBpZiB0aGUgY2xpY2tcclxuICAgICAgLy8gd2Fzbid0IHRoZSBidXR0b24gb3IgbWVudSBpdGVtIGFuZCB3ZSdyZSB0cnlpbmcgdG9cclxuICAgICAgLy8gc2hvdyB0aGUgbWVudSAoYSBkb2MgY2xpY2sgc2hvdWxkbid0IHNob3cgdGhlIG1lbnUpXHJcblxyXG4gICAgICBpZiAoaXNNZW51SXRlbSB8fCAhaXNNZW51SXRlbSAmJiBpbnB1dC50YXJnZXQgIT09IGJ1dHRvbiAmJiBzaG93KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9IC8vIFNldCBidXR0b24gYXR0cmlidXRlc1xyXG5cclxuXHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgc2hvdyk7IC8vIFNob3cgdGhlIGFjdHVhbCBwb3B1cFxyXG5cclxuICAgIHRvZ2dsZUhpZGRlbihwb3B1cCwgIXNob3cpOyAvLyBBZGQgY2xhc3MgaG9va1xyXG5cclxuICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLCB0aGlzLmNvbmZpZy5jbGFzc05hbWVzLm1lbnUub3Blbiwgc2hvdyk7IC8vIEZvY3VzIHRoZSBmaXJzdCBpdGVtIGlmIGtleSBpbnRlcmFjdGlvblxyXG5cclxuICAgIGlmIChzaG93ICYmIGlzJDEua2V5Ym9hcmRFdmVudChpbnB1dCkpIHtcclxuICAgICAgY29udHJvbHMuZm9jdXNGaXJzdE1lbnVJdGVtLmNhbGwodGhpcywgbnVsbCwgdHJ1ZSk7XHJcbiAgICB9IGVsc2UgaWYgKCFzaG93ICYmICFoaWRkZW4pIHtcclxuICAgICAgLy8gSWYgY2xvc2luZywgcmUtZm9jdXMgdGhlIGJ1dHRvblxyXG4gICAgICBzZXRGb2N1cy5jYWxsKHRoaXMsIGJ1dHRvbiwgaXMkMS5rZXlib2FyZEV2ZW50KGlucHV0KSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICAvLyBHZXQgdGhlIG5hdHVyYWwgc2l6ZSBvZiBhIG1lbnUgcGFuZWxcclxuICBnZXRNZW51U2l6ZTogZnVuY3Rpb24gZ2V0TWVudVNpemUodGFiKSB7XHJcbiAgICB2YXIgY2xvbmUgPSB0YWIuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgY2xvbmUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgY2xvbmUuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICBjbG9uZS5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpOyAvLyBBcHBlbmQgdG8gcGFyZW50IHNvIHdlIGdldCB0aGUgXCJyZWFsXCIgc2l6ZVxyXG5cclxuICAgIHRhYi5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGNsb25lKTsgLy8gR2V0IHRoZSBzaXplcyBiZWZvcmUgd2UgcmVtb3ZlXHJcblxyXG4gICAgdmFyIHdpZHRoID0gY2xvbmUuc2Nyb2xsV2lkdGg7XHJcbiAgICB2YXIgaGVpZ2h0ID0gY2xvbmUuc2Nyb2xsSGVpZ2h0OyAvLyBSZW1vdmUgZnJvbSB0aGUgRE9NXHJcblxyXG4gICAgcmVtb3ZlRWxlbWVudChjbG9uZSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgIGhlaWdodDogaGVpZ2h0XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgLy8gU2hvdyBhIHBhbmVsIGluIHRoZSBtZW51XHJcbiAgc2hvd01lbnVQYW5lbDogZnVuY3Rpb24gc2hvd01lbnVQYW5lbCgpIHtcclxuICAgIHZhciBfdGhpczkgPSB0aGlzO1xyXG5cclxuICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcclxuICAgIHZhciB0YWJGb2N1cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XHJcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy5lbGVtZW50cy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIiNwbHlyLXNldHRpbmdzLVwiLmNvbmNhdCh0aGlzLmlkLCBcIi1cIikuY29uY2F0KHR5cGUpKTsgLy8gTm90aGluZyB0byBzaG93LCBiYWlsXHJcblxyXG4gICAgaWYgKCFpcyQxLmVsZW1lbnQodGFyZ2V0KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9IC8vIEhpZGUgYWxsIG90aGVyIHBhbmVsc1xyXG5cclxuXHJcbiAgICB2YXIgY29udGFpbmVyID0gdGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICB2YXIgY3VycmVudCA9IEFycmF5LmZyb20oY29udGFpbmVyLmNoaWxkcmVuKS5maW5kKGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgIHJldHVybiAhbm9kZS5oaWRkZW47XHJcbiAgICB9KTsgLy8gSWYgd2UgY2FuIGRvIGZhbmN5IGFuaW1hdGlvbnMsIHdlJ2xsIGFuaW1hdGUgdGhlIGhlaWdodC93aWR0aFxyXG5cclxuICAgIGlmIChzdXBwb3J0LnRyYW5zaXRpb25zICYmICFzdXBwb3J0LnJlZHVjZWRNb3Rpb24pIHtcclxuICAgICAgLy8gU2V0IHRoZSBjdXJyZW50IHdpZHRoIGFzIGEgYmFzZVxyXG4gICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBcIlwiLmNvbmNhdChjdXJyZW50LnNjcm9sbFdpZHRoLCBcInB4XCIpO1xyXG4gICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQoY3VycmVudC5zY3JvbGxIZWlnaHQsIFwicHhcIik7IC8vIEdldCBwb3RlbnRpYWwgc2l6ZXNcclxuXHJcbiAgICAgIHZhciBzaXplID0gY29udHJvbHMuZ2V0TWVudVNpemUuY2FsbCh0aGlzLCB0YXJnZXQpOyAvLyBSZXN0b3JlIGF1dG8gaGVpZ2h0L3dpZHRoXHJcblxyXG4gICAgICB2YXIgcmVzdG9yZSA9IGZ1bmN0aW9uIHJlc3RvcmUoZXZlbnQpIHtcclxuICAgICAgICAvLyBXZSdyZSBvbmx5IGJvdGhlcmVkIGFib3V0IGhlaWdodCBhbmQgd2lkdGggb24gdGhlIGNvbnRhaW5lclxyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQgIT09IGNvbnRhaW5lciB8fCAhWyd3aWR0aCcsICdoZWlnaHQnXS5pbmNsdWRlcyhldmVudC5wcm9wZXJ0eU5hbWUpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSAvLyBSZXZlcnQgYmFjayB0byBhdXRvXHJcblxyXG5cclxuICAgICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSAnJztcclxuICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJyc7IC8vIE9ubHkgbGlzdGVuIG9uY2VcclxuXHJcbiAgICAgICAgb2ZmLmNhbGwoX3RoaXM5LCBjb250YWluZXIsIHRyYW5zaXRpb25FbmRFdmVudCwgcmVzdG9yZSk7XHJcbiAgICAgIH07IC8vIExpc3RlbiBmb3IgdGhlIHRyYW5zaXRpb24gZmluaXNoaW5nIGFuZCByZXN0b3JlIGF1dG8gaGVpZ2h0L3dpZHRoXHJcblxyXG5cclxuICAgICAgb24uY2FsbCh0aGlzLCBjb250YWluZXIsIHRyYW5zaXRpb25FbmRFdmVudCwgcmVzdG9yZSk7IC8vIFNldCBkaW1lbnNpb25zIHRvIHRhcmdldFxyXG5cclxuICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQoc2l6ZS53aWR0aCwgXCJweFwiKTtcclxuICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiXCIuY29uY2F0KHNpemUuaGVpZ2h0LCBcInB4XCIpO1xyXG4gICAgfSAvLyBTZXQgYXR0cmlidXRlcyBvbiBjdXJyZW50IHRhYlxyXG5cclxuXHJcbiAgICB0b2dnbGVIaWRkZW4oY3VycmVudCwgdHJ1ZSk7IC8vIFNldCBhdHRyaWJ1dGVzIG9uIHRhcmdldFxyXG5cclxuICAgIHRvZ2dsZUhpZGRlbih0YXJnZXQsIGZhbHNlKTsgLy8gRm9jdXMgdGhlIGZpcnN0IGl0ZW1cclxuXHJcbiAgICBjb250cm9scy5mb2N1c0ZpcnN0TWVudUl0ZW0uY2FsbCh0aGlzLCB0YXJnZXQsIHRhYkZvY3VzKTtcclxuICB9LFxyXG4gIC8vIFNldCB0aGUgZG93bmxvYWQgVVJMXHJcbiAgc2V0RG93bmxvYWRVcmw6IGZ1bmN0aW9uIHNldERvd25sb2FkVXJsKCkge1xyXG4gICAgdmFyIGJ1dHRvbiA9IHRoaXMuZWxlbWVudHMuYnV0dG9ucy5kb3dubG9hZDsgLy8gQmFpbCBpZiBubyBidXR0b25cclxuXHJcbiAgICBpZiAoIWlzJDEuZWxlbWVudChidXR0b24pKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gU2V0IGF0dHJpYnV0ZVxyXG5cclxuXHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdocmVmJywgdGhpcy5kb3dubG9hZCk7XHJcbiAgfSxcclxuICAvLyBCdWlsZCB0aGUgZGVmYXVsdCBIVE1MXHJcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoZGF0YSkge1xyXG4gICAgdmFyIF90aGlzMTAgPSB0aGlzO1xyXG5cclxuICAgIHZhciBiaW5kTWVudUl0ZW1TaG9ydGN1dHMgPSBjb250cm9scy5iaW5kTWVudUl0ZW1TaG9ydGN1dHMsXHJcbiAgICAgICAgY3JlYXRlQnV0dG9uID0gY29udHJvbHMuY3JlYXRlQnV0dG9uLFxyXG4gICAgICAgIGNyZWF0ZVByb2dyZXNzID0gY29udHJvbHMuY3JlYXRlUHJvZ3Jlc3MsXHJcbiAgICAgICAgY3JlYXRlUmFuZ2UgPSBjb250cm9scy5jcmVhdGVSYW5nZSxcclxuICAgICAgICBjcmVhdGVUaW1lID0gY29udHJvbHMuY3JlYXRlVGltZSxcclxuICAgICAgICBzZXRRdWFsaXR5TWVudSA9IGNvbnRyb2xzLnNldFF1YWxpdHlNZW51LFxyXG4gICAgICAgIHNldFNwZWVkTWVudSA9IGNvbnRyb2xzLnNldFNwZWVkTWVudSxcclxuICAgICAgICBzaG93TWVudVBhbmVsID0gY29udHJvbHMuc2hvd01lbnVQYW5lbDtcclxuICAgIHRoaXMuZWxlbWVudHMuY29udHJvbHMgPSBudWxsOyAvLyBMYXJnZXIgb3ZlcmxhaWQgcGxheSBidXR0b25cclxuXHJcbiAgICBpZiAodGhpcy5jb25maWcuY29udHJvbHMuaW5jbHVkZXMoJ3BsYXktbGFyZ2UnKSkge1xyXG4gICAgICB0aGlzLmVsZW1lbnRzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVCdXR0b24uY2FsbCh0aGlzLCAncGxheS1sYXJnZScpKTtcclxuICAgIH0gLy8gQ3JlYXRlIHRoZSBjb250YWluZXJcclxuXHJcblxyXG4gICAgdmFyIGNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIGdldEF0dHJpYnV0ZXNGcm9tU2VsZWN0b3IodGhpcy5jb25maWcuc2VsZWN0b3JzLmNvbnRyb2xzLndyYXBwZXIpKTtcclxuICAgIHRoaXMuZWxlbWVudHMuY29udHJvbHMgPSBjb250YWluZXI7IC8vIERlZmF1bHQgaXRlbSBhdHRyaWJ1dGVzXHJcblxyXG4gICAgdmFyIGRlZmF1bHRBdHRyaWJ1dGVzID0ge1xyXG4gICAgICBjbGFzczogJ3BseXJfX2NvbnRyb2xzX19pdGVtJ1xyXG4gICAgfTsgLy8gTG9vcCB0aHJvdWdoIGNvbnRyb2xzIGluIG9yZGVyXHJcblxyXG4gICAgZGVkdXBlKHRoaXMuY29uZmlnLmNvbnRyb2xzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb250cm9sKSB7XHJcbiAgICAgIC8vIFJlc3RhcnQgYnV0dG9uXHJcbiAgICAgIGlmIChjb250cm9sID09PSAncmVzdGFydCcpIHtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlQnV0dG9uLmNhbGwoX3RoaXMxMCwgJ3Jlc3RhcnQnLCBkZWZhdWx0QXR0cmlidXRlcykpO1xyXG4gICAgICB9IC8vIFJld2luZCBidXR0b25cclxuXHJcblxyXG4gICAgICBpZiAoY29udHJvbCA9PT0gJ3Jld2luZCcpIHtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlQnV0dG9uLmNhbGwoX3RoaXMxMCwgJ3Jld2luZCcsIGRlZmF1bHRBdHRyaWJ1dGVzKSk7XHJcbiAgICAgIH0gLy8gUGxheS9QYXVzZSBidXR0b25cclxuXHJcblxyXG4gICAgICBpZiAoY29udHJvbCA9PT0gJ3BsYXknKSB7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUJ1dHRvbi5jYWxsKF90aGlzMTAsICdwbGF5JywgZGVmYXVsdEF0dHJpYnV0ZXMpKTtcclxuICAgICAgfSAvLyBGYXN0IGZvcndhcmQgYnV0dG9uXHJcblxyXG5cclxuICAgICAgaWYgKGNvbnRyb2wgPT09ICdmYXN0LWZvcndhcmQnKSB7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUJ1dHRvbi5jYWxsKF90aGlzMTAsICdmYXN0LWZvcndhcmQnLCBkZWZhdWx0QXR0cmlidXRlcykpO1xyXG4gICAgICB9IC8vIFByb2dyZXNzXHJcblxyXG5cclxuICAgICAgaWYgKGNvbnRyb2wgPT09ICdwcm9ncmVzcycpIHtcclxuICAgICAgICB2YXIgcHJvZ3Jlc3NDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XHJcbiAgICAgICAgICBjbGFzczogXCJcIi5jb25jYXQoZGVmYXVsdEF0dHJpYnV0ZXMuY2xhc3MsIFwiIHBseXJfX3Byb2dyZXNzX19jb250YWluZXJcIilcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBnZXRBdHRyaWJ1dGVzRnJvbVNlbGVjdG9yKF90aGlzMTAuY29uZmlnLnNlbGVjdG9ycy5wcm9ncmVzcykpOyAvLyBTZWVrIHJhbmdlIHNsaWRlclxyXG5cclxuICAgICAgICBwcm9ncmVzcy5hcHBlbmRDaGlsZChjcmVhdGVSYW5nZS5jYWxsKF90aGlzMTAsICdzZWVrJywge1xyXG4gICAgICAgICAgaWQ6IFwicGx5ci1zZWVrLVwiLmNvbmNhdChkYXRhLmlkKVxyXG4gICAgICAgIH0pKTsgLy8gQnVmZmVyIHByb2dyZXNzXHJcblxyXG4gICAgICAgIHByb2dyZXNzLmFwcGVuZENoaWxkKGNyZWF0ZVByb2dyZXNzLmNhbGwoX3RoaXMxMCwgJ2J1ZmZlcicpKTsgLy8gVE9ETzogQWRkIGxvb3AgZGlzcGxheSBpbmRpY2F0b3JcclxuICAgICAgICAvLyBTZWVrIHRvb2x0aXBcclxuXHJcbiAgICAgICAgaWYgKF90aGlzMTAuY29uZmlnLnRvb2x0aXBzLnNlZWspIHtcclxuICAgICAgICAgIHZhciB0b29sdGlwID0gY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcclxuICAgICAgICAgICAgY2xhc3M6IF90aGlzMTAuY29uZmlnLmNsYXNzTmFtZXMudG9vbHRpcFxyXG4gICAgICAgICAgfSwgJzAwOjAwJyk7XHJcbiAgICAgICAgICBwcm9ncmVzcy5hcHBlbmRDaGlsZCh0b29sdGlwKTtcclxuICAgICAgICAgIF90aGlzMTAuZWxlbWVudHMuZGlzcGxheS5zZWVrVG9vbHRpcCA9IHRvb2x0aXA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfdGhpczEwLmVsZW1lbnRzLnByb2dyZXNzID0gcHJvZ3Jlc3M7XHJcbiAgICAgICAgcHJvZ3Jlc3NDb250YWluZXIuYXBwZW5kQ2hpbGQoX3RoaXMxMC5lbGVtZW50cy5wcm9ncmVzcyk7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHByb2dyZXNzQ29udGFpbmVyKTtcclxuICAgICAgfSAvLyBNZWRpYSBjdXJyZW50IHRpbWUgZGlzcGxheVxyXG5cclxuXHJcbiAgICAgIGlmIChjb250cm9sID09PSAnY3VycmVudC10aW1lJykge1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVUaW1lLmNhbGwoX3RoaXMxMCwgJ2N1cnJlbnRUaW1lJywgZGVmYXVsdEF0dHJpYnV0ZXMpKTtcclxuICAgICAgfSAvLyBNZWRpYSBkdXJhdGlvbiBkaXNwbGF5XHJcblxyXG5cclxuICAgICAgaWYgKGNvbnRyb2wgPT09ICdkdXJhdGlvbicpIHtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlVGltZS5jYWxsKF90aGlzMTAsICdkdXJhdGlvbicsIGRlZmF1bHRBdHRyaWJ1dGVzKSk7XHJcbiAgICAgIH0gLy8gVm9sdW1lIGNvbnRyb2xzXHJcblxyXG5cclxuICAgICAgaWYgKGNvbnRyb2wgPT09ICdtdXRlJyB8fCBjb250cm9sID09PSAndm9sdW1lJykge1xyXG4gICAgICAgIHZhciB2b2x1bWUgPSBfdGhpczEwLmVsZW1lbnRzLnZvbHVtZTsgLy8gQ3JlYXRlIHRoZSB2b2x1bWUgY29udGFpbmVyIGlmIG5lZWRlZFxyXG5cclxuICAgICAgICBpZiAoIWlzJDEuZWxlbWVudCh2b2x1bWUpIHx8ICFjb250YWluZXIuY29udGFpbnModm9sdW1lKSkge1xyXG4gICAgICAgICAgdm9sdW1lID0gY3JlYXRlRWxlbWVudCgnZGl2JywgZXh0ZW5kKHt9LCBkZWZhdWx0QXR0cmlidXRlcywge1xyXG4gICAgICAgICAgICBjbGFzczogXCJcIi5jb25jYXQoZGVmYXVsdEF0dHJpYnV0ZXMuY2xhc3MsIFwiIHBseXJfX3ZvbHVtZVwiKS50cmltKClcclxuICAgICAgICAgIH0pKTtcclxuICAgICAgICAgIF90aGlzMTAuZWxlbWVudHMudm9sdW1lID0gdm9sdW1lO1xyXG4gICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHZvbHVtZSk7XHJcbiAgICAgICAgfSAvLyBUb2dnbGUgbXV0ZSBidXR0b25cclxuXHJcblxyXG4gICAgICAgIGlmIChjb250cm9sID09PSAnbXV0ZScpIHtcclxuICAgICAgICAgIHZvbHVtZS5hcHBlbmRDaGlsZChjcmVhdGVCdXR0b24uY2FsbChfdGhpczEwLCAnbXV0ZScpKTtcclxuICAgICAgICB9IC8vIFZvbHVtZSByYW5nZSBjb250cm9sXHJcblxyXG5cclxuICAgICAgICBpZiAoY29udHJvbCA9PT0gJ3ZvbHVtZScpIHtcclxuICAgICAgICAgIC8vIFNldCB0aGUgYXR0cmlidXRlc1xyXG4gICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSB7XHJcbiAgICAgICAgICAgIG1heDogMSxcclxuICAgICAgICAgICAgc3RlcDogMC4wNSxcclxuICAgICAgICAgICAgdmFsdWU6IF90aGlzMTAuY29uZmlnLnZvbHVtZVxyXG4gICAgICAgICAgfTsgLy8gQ3JlYXRlIHRoZSB2b2x1bWUgcmFuZ2Ugc2xpZGVyXHJcblxyXG4gICAgICAgICAgdm9sdW1lLmFwcGVuZENoaWxkKGNyZWF0ZVJhbmdlLmNhbGwoX3RoaXMxMCwgJ3ZvbHVtZScsIGV4dGVuZChhdHRyaWJ1dGVzLCB7XHJcbiAgICAgICAgICAgIGlkOiBcInBseXItdm9sdW1lLVwiLmNvbmNhdChkYXRhLmlkKVxyXG4gICAgICAgICAgfSkpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gLy8gVG9nZ2xlIGNhcHRpb25zIGJ1dHRvblxyXG5cclxuXHJcbiAgICAgIGlmIChjb250cm9sID09PSAnY2FwdGlvbnMnKSB7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUJ1dHRvbi5jYWxsKF90aGlzMTAsICdjYXB0aW9ucycsIGRlZmF1bHRBdHRyaWJ1dGVzKSk7XHJcbiAgICAgIH0gLy8gU2V0dGluZ3MgYnV0dG9uIC8gbWVudVxyXG5cclxuXHJcbiAgICAgIGlmIChjb250cm9sID09PSAnc2V0dGluZ3MnICYmICFpcyQxLmVtcHR5KF90aGlzMTAuY29uZmlnLnNldHRpbmdzKSkge1xyXG4gICAgICAgIHZhciB3cmFwcGVyID0gY3JlYXRlRWxlbWVudCgnZGl2JywgZXh0ZW5kKHt9LCBkZWZhdWx0QXR0cmlidXRlcywge1xyXG4gICAgICAgICAgY2xhc3M6IFwiXCIuY29uY2F0KGRlZmF1bHRBdHRyaWJ1dGVzLmNsYXNzLCBcIiBwbHlyX19tZW51XCIpLnRyaW0oKSxcclxuICAgICAgICAgIGhpZGRlbjogJydcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChjcmVhdGVCdXR0b24uY2FsbChfdGhpczEwLCAnc2V0dGluZ3MnLCB7XHJcbiAgICAgICAgICAnYXJpYS1oYXNwb3B1cCc6IHRydWUsXHJcbiAgICAgICAgICAnYXJpYS1jb250cm9scyc6IFwicGx5ci1zZXR0aW5ncy1cIi5jb25jYXQoZGF0YS5pZCksXHJcbiAgICAgICAgICAnYXJpYS1leHBhbmRlZCc6IGZhbHNlXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHZhciBwb3B1cCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcclxuICAgICAgICAgIGNsYXNzOiAncGx5cl9fbWVudV9fY29udGFpbmVyJyxcclxuICAgICAgICAgIGlkOiBcInBseXItc2V0dGluZ3MtXCIuY29uY2F0KGRhdGEuaWQpLFxyXG4gICAgICAgICAgaGlkZGVuOiAnJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBpbm5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHZhciBob21lID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xyXG4gICAgICAgICAgaWQ6IFwicGx5ci1zZXR0aW5ncy1cIi5jb25jYXQoZGF0YS5pZCwgXCItaG9tZVwiKVxyXG4gICAgICAgIH0pOyAvLyBDcmVhdGUgdGhlIG1lbnVcclxuXHJcbiAgICAgICAgdmFyIG1lbnUgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XHJcbiAgICAgICAgICByb2xlOiAnbWVudSdcclxuICAgICAgICB9KTtcclxuICAgICAgICBob21lLmFwcGVuZENoaWxkKG1lbnUpO1xyXG4gICAgICAgIGlubmVyLmFwcGVuZENoaWxkKGhvbWUpO1xyXG4gICAgICAgIF90aGlzMTAuZWxlbWVudHMuc2V0dGluZ3MucGFuZWxzLmhvbWUgPSBob21lOyAvLyBCdWlsZCB0aGUgbWVudSBpdGVtc1xyXG5cclxuICAgICAgICBfdGhpczEwLmNvbmZpZy5zZXR0aW5ncy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAvLyBUT0RPOiBidW5kbGUgdGhpcyB3aXRoIHRoZSBjcmVhdGVNZW51SXRlbSBoZWxwZXIgYW5kIGJpbmRpbmdzXHJcbiAgICAgICAgICB2YXIgbWVudUl0ZW0gPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCBleHRlbmQoZ2V0QXR0cmlidXRlc0Zyb21TZWxlY3RvcihfdGhpczEwLmNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5zZXR0aW5ncyksIHtcclxuICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXHJcbiAgICAgICAgICAgIGNsYXNzOiBcIlwiLmNvbmNhdChfdGhpczEwLmNvbmZpZy5jbGFzc05hbWVzLmNvbnRyb2wsIFwiIFwiKS5jb25jYXQoX3RoaXMxMC5jb25maWcuY2xhc3NOYW1lcy5jb250cm9sLCBcIi0tZm9yd2FyZFwiKSxcclxuICAgICAgICAgICAgcm9sZTogJ21lbnVpdGVtJyxcclxuICAgICAgICAgICAgJ2FyaWEtaGFzcG9wdXAnOiB0cnVlLFxyXG4gICAgICAgICAgICBoaWRkZW46ICcnXHJcbiAgICAgICAgICB9KSk7IC8vIEJpbmQgbWVudSBzaG9ydGN1dHMgZm9yIGtleWJvYXJkIHVzZXJzXHJcblxyXG4gICAgICAgICAgYmluZE1lbnVJdGVtU2hvcnRjdXRzLmNhbGwoX3RoaXMxMCwgbWVudUl0ZW0sIHR5cGUpOyAvLyBTaG93IG1lbnUgb24gY2xpY2tcclxuXHJcbiAgICAgICAgICBvbihtZW51SXRlbSwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzaG93TWVudVBhbmVsLmNhbGwoX3RoaXMxMCwgdHlwZSwgZmFsc2UpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB2YXIgZmxleCA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCBudWxsLCBpMThuLmdldCh0eXBlLCBfdGhpczEwLmNvbmZpZykpO1xyXG4gICAgICAgICAgdmFyIHZhbHVlID0gY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcclxuICAgICAgICAgICAgY2xhc3M6IF90aGlzMTAuY29uZmlnLmNsYXNzTmFtZXMubWVudS52YWx1ZVxyXG4gICAgICAgICAgfSk7IC8vIFNwZWVkIGNvbnRhaW5zIEhUTUwgZW50aXRpZXNcclxuXHJcbiAgICAgICAgICB2YWx1ZS5pbm5lckhUTUwgPSBkYXRhW3R5cGVdO1xyXG4gICAgICAgICAgZmxleC5hcHBlbmRDaGlsZCh2YWx1ZSk7XHJcbiAgICAgICAgICBtZW51SXRlbS5hcHBlbmRDaGlsZChmbGV4KTtcclxuICAgICAgICAgIG1lbnUuYXBwZW5kQ2hpbGQobWVudUl0ZW0pOyAvLyBCdWlsZCB0aGUgcGFuZXNcclxuXHJcbiAgICAgICAgICB2YXIgcGFuZSA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcclxuICAgICAgICAgICAgaWQ6IFwicGx5ci1zZXR0aW5ncy1cIi5jb25jYXQoZGF0YS5pZCwgXCItXCIpLmNvbmNhdCh0eXBlKSxcclxuICAgICAgICAgICAgaGlkZGVuOiAnJ1xyXG4gICAgICAgICAgfSk7IC8vIEJhY2sgYnV0dG9uXHJcblxyXG4gICAgICAgICAgdmFyIGJhY2tCdXR0b24gPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxyXG4gICAgICAgICAgICBjbGFzczogXCJcIi5jb25jYXQoX3RoaXMxMC5jb25maWcuY2xhc3NOYW1lcy5jb250cm9sLCBcIiBcIikuY29uY2F0KF90aGlzMTAuY29uZmlnLmNsYXNzTmFtZXMuY29udHJvbCwgXCItLWJhY2tcIilcclxuICAgICAgICAgIH0pOyAvLyBWaXNpYmxlIGxhYmVsXHJcblxyXG4gICAgICAgICAgYmFja0J1dHRvbi5hcHBlbmRDaGlsZChjcmVhdGVFbGVtZW50KCdzcGFuJywge1xyXG4gICAgICAgICAgICAnYXJpYS1oaWRkZW4nOiB0cnVlXHJcbiAgICAgICAgICB9LCBpMThuLmdldCh0eXBlLCBfdGhpczEwLmNvbmZpZykpKTsgLy8gU2NyZWVuIHJlYWRlciBsYWJlbFxyXG5cclxuICAgICAgICAgIGJhY2tCdXR0b24uYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcclxuICAgICAgICAgICAgY2xhc3M6IF90aGlzMTAuY29uZmlnLmNsYXNzTmFtZXMuaGlkZGVuXHJcbiAgICAgICAgICB9LCBpMThuLmdldCgnbWVudUJhY2snLCBfdGhpczEwLmNvbmZpZykpKTsgLy8gR28gYmFjayB2aWEga2V5Ym9hcmRcclxuXHJcbiAgICAgICAgICBvbihwYW5lLCAna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAvLyBXZSBvbmx5IGNhcmUgYWJvdXQgPC1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LndoaWNoICE9PSAzNykge1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSAvLyBQcmV2ZW50IHNlZWtcclxuXHJcblxyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgLy8gU2hvdyB0aGUgcmVzcGVjdGl2ZSBtZW51XHJcblxyXG4gICAgICAgICAgICBzaG93TWVudVBhbmVsLmNhbGwoX3RoaXMxMCwgJ2hvbWUnLCB0cnVlKTtcclxuICAgICAgICAgIH0sIGZhbHNlKTsgLy8gR28gYmFjayB2aWEgYnV0dG9uIGNsaWNrXHJcblxyXG4gICAgICAgICAgb24oYmFja0J1dHRvbiwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzaG93TWVudVBhbmVsLmNhbGwoX3RoaXMxMCwgJ2hvbWUnLCBmYWxzZSk7XHJcbiAgICAgICAgICB9KTsgLy8gQWRkIHRvIHBhbmVcclxuXHJcbiAgICAgICAgICBwYW5lLmFwcGVuZENoaWxkKGJhY2tCdXR0b24pOyAvLyBNZW51XHJcblxyXG4gICAgICAgICAgcGFuZS5hcHBlbmRDaGlsZChjcmVhdGVFbGVtZW50KCdkaXYnLCB7XHJcbiAgICAgICAgICAgIHJvbGU6ICdtZW51J1xyXG4gICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgaW5uZXIuYXBwZW5kQ2hpbGQocGFuZSk7XHJcbiAgICAgICAgICBfdGhpczEwLmVsZW1lbnRzLnNldHRpbmdzLmJ1dHRvbnNbdHlwZV0gPSBtZW51SXRlbTtcclxuICAgICAgICAgIF90aGlzMTAuZWxlbWVudHMuc2V0dGluZ3MucGFuZWxzW3R5cGVdID0gcGFuZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcG9wdXAuYXBwZW5kQ2hpbGQoaW5uZXIpO1xyXG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQocG9wdXApO1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcclxuICAgICAgICBfdGhpczEwLmVsZW1lbnRzLnNldHRpbmdzLnBvcHVwID0gcG9wdXA7XHJcbiAgICAgICAgX3RoaXMxMC5lbGVtZW50cy5zZXR0aW5ncy5tZW51ID0gd3JhcHBlcjtcclxuICAgICAgfSAvLyBQaWN0dXJlIGluIHBpY3R1cmUgYnV0dG9uXHJcblxyXG5cclxuICAgICAgaWYgKGNvbnRyb2wgPT09ICdwaXAnICYmIHN1cHBvcnQucGlwKSB7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUJ1dHRvbi5jYWxsKF90aGlzMTAsICdwaXAnLCBkZWZhdWx0QXR0cmlidXRlcykpO1xyXG4gICAgICB9IC8vIEFpcnBsYXkgYnV0dG9uXHJcblxyXG5cclxuICAgICAgaWYgKGNvbnRyb2wgPT09ICdhaXJwbGF5JyAmJiBzdXBwb3J0LmFpcnBsYXkpIHtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlQnV0dG9uLmNhbGwoX3RoaXMxMCwgJ2FpcnBsYXknLCBkZWZhdWx0QXR0cmlidXRlcykpO1xyXG4gICAgICB9IC8vIERvd25sb2FkIGJ1dHRvblxyXG5cclxuXHJcbiAgICAgIGlmIChjb250cm9sID09PSAnZG93bmxvYWQnKSB7XHJcbiAgICAgICAgdmFyIF9hdHRyaWJ1dGVzID0gZXh0ZW5kKHt9LCBkZWZhdWx0QXR0cmlidXRlcywge1xyXG4gICAgICAgICAgZWxlbWVudDogJ2EnLFxyXG4gICAgICAgICAgaHJlZjogX3RoaXMxMC5kb3dubG9hZCxcclxuICAgICAgICAgIHRhcmdldDogJ19ibGFuaydcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGRvd25sb2FkID0gX3RoaXMxMC5jb25maWcudXJscy5kb3dubG9hZDtcclxuXHJcbiAgICAgICAgaWYgKCFpcyQxLnVybChkb3dubG9hZCkgJiYgX3RoaXMxMC5pc0VtYmVkKSB7XHJcbiAgICAgICAgICBleHRlbmQoX2F0dHJpYnV0ZXMsIHtcclxuICAgICAgICAgICAgaWNvbjogXCJsb2dvLVwiLmNvbmNhdChfdGhpczEwLnByb3ZpZGVyKSxcclxuICAgICAgICAgICAgbGFiZWw6IF90aGlzMTAucHJvdmlkZXJcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUJ1dHRvbi5jYWxsKF90aGlzMTAsICdkb3dubG9hZCcsIF9hdHRyaWJ1dGVzKSk7XHJcbiAgICAgIH0gLy8gVG9nZ2xlIGZ1bGxzY3JlZW4gYnV0dG9uXHJcblxyXG5cclxuICAgICAgaWYgKGNvbnRyb2wgPT09ICdmdWxsc2NyZWVuJykge1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVCdXR0b24uY2FsbChfdGhpczEwLCAnZnVsbHNjcmVlbicsIGRlZmF1bHRBdHRyaWJ1dGVzKSk7XHJcbiAgICAgIH1cclxuICAgIH0pOyAvLyBTZXQgYXZhaWxhYmxlIHF1YWxpdHkgbGV2ZWxzXHJcblxyXG4gICAgaWYgKHRoaXMuaXNIVE1MNSkge1xyXG4gICAgICBzZXRRdWFsaXR5TWVudS5jYWxsKHRoaXMsIGh0bWw1LmdldFF1YWxpdHlPcHRpb25zLmNhbGwodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFNwZWVkTWVudS5jYWxsKHRoaXMpO1xyXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICB9LFxyXG4gIC8vIEluc2VydCBjb250cm9sc1xyXG4gIGluamVjdDogZnVuY3Rpb24gaW5qZWN0KCkge1xyXG4gICAgdmFyIF90aGlzMTEgPSB0aGlzO1xyXG5cclxuICAgIC8vIFNwcml0ZVxyXG4gICAgaWYgKHRoaXMuY29uZmlnLmxvYWRTcHJpdGUpIHtcclxuICAgICAgdmFyIGljb24gPSBjb250cm9scy5nZXRJY29uVXJsLmNhbGwodGhpcyk7IC8vIE9ubHkgbG9hZCBleHRlcm5hbCBzcHJpdGUgdXNpbmcgQUpBWFxyXG5cclxuICAgICAgaWYgKGljb24uY29ycykge1xyXG4gICAgICAgIGxvYWRTcHJpdGUoaWNvbi51cmwsICdzcHJpdGUtcGx5cicpO1xyXG4gICAgICB9XHJcbiAgICB9IC8vIENyZWF0ZSBhIHVuaXF1ZSBJRFxyXG5cclxuXHJcbiAgICB0aGlzLmlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyBOdWxsIGJ5IGRlZmF1bHRcclxuXHJcbiAgICB2YXIgY29udGFpbmVyID0gbnVsbDtcclxuICAgIHRoaXMuZWxlbWVudHMuY29udHJvbHMgPSBudWxsOyAvLyBTZXQgdGVtcGxhdGUgcHJvcGVydGllc1xyXG5cclxuICAgIHZhciBwcm9wcyA9IHtcclxuICAgICAgaWQ6IHRoaXMuaWQsXHJcbiAgICAgIHNlZWt0aW1lOiB0aGlzLmNvbmZpZy5zZWVrVGltZSxcclxuICAgICAgdGl0bGU6IHRoaXMuY29uZmlnLnRpdGxlXHJcbiAgICB9O1xyXG4gICAgdmFyIHVwZGF0ZSA9IHRydWU7IC8vIElmIGZ1bmN0aW9uLCBydW4gaXQgYW5kIHVzZSBvdXRwdXRcclxuXHJcbiAgICBpZiAoaXMkMS5mdW5jdGlvbih0aGlzLmNvbmZpZy5jb250cm9scykpIHtcclxuICAgICAgdGhpcy5jb25maWcuY29udHJvbHMgPSB0aGlzLmNvbmZpZy5jb250cm9scy5jYWxsKHRoaXMsIHByb3BzKTtcclxuICAgIH0gLy8gQ29udmVydCBmYWxzeSBjb250cm9scyB0byBlbXB0eSBhcnJheSAocHJpbWFyaWx5IGZvciBlbXB0eSBzdHJpbmdzKVxyXG5cclxuXHJcbiAgICBpZiAoIXRoaXMuY29uZmlnLmNvbnRyb2xzKSB7XHJcbiAgICAgIHRoaXMuY29uZmlnLmNvbnRyb2xzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzJDEuZWxlbWVudCh0aGlzLmNvbmZpZy5jb250cm9scykgfHwgaXMkMS5zdHJpbmcodGhpcy5jb25maWcuY29udHJvbHMpKSB7XHJcbiAgICAgIC8vIEhUTUxFbGVtZW50IG9yIE5vbi1lbXB0eSBzdHJpbmcgcGFzc2VkIGFzIHRoZSBvcHRpb25cclxuICAgICAgY29udGFpbmVyID0gdGhpcy5jb25maWcuY29udHJvbHM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBDcmVhdGUgY29udHJvbHNcclxuICAgICAgY29udGFpbmVyID0gY29udHJvbHMuY3JlYXRlLmNhbGwodGhpcywge1xyXG4gICAgICAgIGlkOiB0aGlzLmlkLFxyXG4gICAgICAgIHNlZWt0aW1lOiB0aGlzLmNvbmZpZy5zZWVrVGltZSxcclxuICAgICAgICBzcGVlZDogdGhpcy5zcGVlZCxcclxuICAgICAgICBxdWFsaXR5OiB0aGlzLnF1YWxpdHksXHJcbiAgICAgICAgY2FwdGlvbnM6IGNhcHRpb25zLmdldExhYmVsLmNhbGwodGhpcykgLy8gVE9ETzogTG9vcGluZ1xyXG4gICAgICAgIC8vIGxvb3A6ICdOb25lJyxcclxuXHJcbiAgICAgIH0pO1xyXG4gICAgICB1cGRhdGUgPSBmYWxzZTtcclxuICAgIH0gLy8gUmVwbGFjZSBwcm9wcyB3aXRoIHRoZWlyIHZhbHVlXHJcblxyXG5cclxuICAgIHZhciByZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShpbnB1dCkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gaW5wdXQ7XHJcbiAgICAgIE9iamVjdC5lbnRyaWVzKHByb3BzKS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMikge1xyXG4gICAgICAgIHZhciBfcmVmMyA9IF9zbGljZWRUb0FycmF5KF9yZWYyLCAyKSxcclxuICAgICAgICAgICAga2V5ID0gX3JlZjNbMF0sXHJcbiAgICAgICAgICAgIHZhbHVlID0gX3JlZjNbMV07XHJcblxyXG4gICAgICAgIHJlc3VsdCA9IHJlcGxhY2VBbGwocmVzdWx0LCBcIntcIi5jb25jYXQoa2V5LCBcIn1cIiksIHZhbHVlKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9OyAvLyBVcGRhdGUgbWFya3VwXHJcblxyXG5cclxuICAgIGlmICh1cGRhdGUpIHtcclxuICAgICAgaWYgKGlzJDEuc3RyaW5nKHRoaXMuY29uZmlnLmNvbnRyb2xzKSkge1xyXG4gICAgICAgIGNvbnRhaW5lciA9IHJlcGxhY2UoY29udGFpbmVyKTtcclxuICAgICAgfSBlbHNlIGlmIChpcyQxLmVsZW1lbnQoY29udGFpbmVyKSkge1xyXG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSByZXBsYWNlKGNvbnRhaW5lci5pbm5lckhUTUwpO1xyXG4gICAgICB9XHJcbiAgICB9IC8vIENvbnRyb2xzIGNvbnRhaW5lclxyXG5cclxuXHJcbiAgICB2YXIgdGFyZ2V0OyAvLyBJbmplY3QgdG8gY3VzdG9tIGxvY2F0aW9uXHJcblxyXG4gICAgaWYgKGlzJDEuc3RyaW5nKHRoaXMuY29uZmlnLnNlbGVjdG9ycy5jb250cm9scy5jb250YWluZXIpKSB7XHJcbiAgICAgIHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5jb25maWcuc2VsZWN0b3JzLmNvbnRyb2xzLmNvbnRhaW5lcik7XHJcbiAgICB9IC8vIEluamVjdCBpbnRvIHRoZSBjb250YWluZXIgYnkgZGVmYXVsdFxyXG5cclxuXHJcbiAgICBpZiAoIWlzJDEuZWxlbWVudCh0YXJnZXQpKSB7XHJcbiAgICAgIHRhcmdldCA9IHRoaXMuZWxlbWVudHMuY29udGFpbmVyO1xyXG4gICAgfSAvLyBJbmplY3QgY29udHJvbHMgSFRNTCAobmVlZHMgdG8gYmUgYmVmb3JlIGNhcHRpb25zLCBoZW5jZSBcImFmdGVyYmVnaW5cIilcclxuXHJcblxyXG4gICAgdmFyIGluc2VydE1ldGhvZCA9IGlzJDEuZWxlbWVudChjb250YWluZXIpID8gJ2luc2VydEFkamFjZW50RWxlbWVudCcgOiAnaW5zZXJ0QWRqYWNlbnRIVE1MJztcclxuICAgIHRhcmdldFtpbnNlcnRNZXRob2RdKCdhZnRlcmJlZ2luJywgY29udGFpbmVyKTsgLy8gRmluZCB0aGUgZWxlbWVudHMgaWYgbmVlZCBiZVxyXG5cclxuICAgIGlmICghaXMkMS5lbGVtZW50KHRoaXMuZWxlbWVudHMuY29udHJvbHMpKSB7XHJcbiAgICAgIGNvbnRyb2xzLmZpbmRFbGVtZW50cy5jYWxsKHRoaXMpO1xyXG4gICAgfSAvLyBBZGQgcHJlc3NlZCBwcm9wZXJ0eSB0byBidXR0b25zXHJcblxyXG5cclxuICAgIGlmICghaXMkMS5lbXB0eSh0aGlzLmVsZW1lbnRzLmJ1dHRvbnMpKSB7XHJcbiAgICAgIHZhciBhZGRQcm9wZXJ0eSA9IGZ1bmN0aW9uIGFkZFByb3BlcnR5KGJ1dHRvbikge1xyXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBfdGhpczExLmNvbmZpZy5jbGFzc05hbWVzLmNvbnRyb2xQcmVzc2VkO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShidXR0b24sICdwcmVzc2VkJywge1xyXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaGFzQ2xhc3MoYnV0dG9uLCBjbGFzc05hbWUpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xyXG4gICAgICAgICAgICB2YXIgcHJlc3NlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XHJcbiAgICAgICAgICAgIHRvZ2dsZUNsYXNzKGJ1dHRvbiwgY2xhc3NOYW1lLCBwcmVzc2VkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTsgLy8gVG9nZ2xlIGNsYXNzbmFtZSB3aGVuIHByZXNzZWQgcHJvcGVydHkgaXMgc2V0XHJcblxyXG5cclxuICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLmVsZW1lbnRzLmJ1dHRvbnMpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChidXR0b24pIHtcclxuICAgICAgICBpZiAoaXMkMS5hcnJheShidXR0b24pIHx8IGlzJDEubm9kZUxpc3QoYnV0dG9uKSkge1xyXG4gICAgICAgICAgQXJyYXkuZnJvbShidXR0b24pLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGFkZFByb3BlcnR5KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYWRkUHJvcGVydHkoYnV0dG9uKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSAvLyBFZGdlIHNvbWV0aW1lcyBkb2Vzbid0IGZpbmlzaCB0aGUgcGFpbnQgc28gZm9yY2UgYSByZXBhaW50XHJcblxyXG5cclxuICAgIGlmIChicm93c2VyLmlzRWRnZSkge1xyXG4gICAgICByZXBhaW50KHRhcmdldCk7XHJcbiAgICB9IC8vIFNldHVwIHRvb2x0aXBzXHJcblxyXG5cclxuICAgIGlmICh0aGlzLmNvbmZpZy50b29sdGlwcy5jb250cm9scykge1xyXG4gICAgICB2YXIgX3RoaXMkY29uZmlnID0gdGhpcy5jb25maWcsXHJcbiAgICAgICAgICBjbGFzc05hbWVzID0gX3RoaXMkY29uZmlnLmNsYXNzTmFtZXMsXHJcbiAgICAgICAgICBzZWxlY3RvcnMgPSBfdGhpcyRjb25maWcuc2VsZWN0b3JzO1xyXG4gICAgICB2YXIgc2VsZWN0b3IgPSBcIlwiLmNvbmNhdChzZWxlY3RvcnMuY29udHJvbHMud3JhcHBlciwgXCIgXCIpLmNvbmNhdChzZWxlY3RvcnMubGFiZWxzLCBcIiAuXCIpLmNvbmNhdChjbGFzc05hbWVzLmhpZGRlbik7XHJcbiAgICAgIHZhciBsYWJlbHMgPSBnZXRFbGVtZW50cy5jYWxsKHRoaXMsIHNlbGVjdG9yKTtcclxuICAgICAgQXJyYXkuZnJvbShsYWJlbHMpLmZvckVhY2goZnVuY3Rpb24gKGxhYmVsKSB7XHJcbiAgICAgICAgdG9nZ2xlQ2xhc3MobGFiZWwsIF90aGlzMTEuY29uZmlnLmNsYXNzTmFtZXMuaGlkZGVuLCBmYWxzZSk7XHJcbiAgICAgICAgdG9nZ2xlQ2xhc3MobGFiZWwsIF90aGlzMTEuY29uZmlnLmNsYXNzTmFtZXMudG9vbHRpcCwgdHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBQYXJzZSBhIHN0cmluZyB0byBhIFVSTCBvYmplY3RcclxuICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IC0gdGhlIFVSTCB0byBiZSBwYXJzZWRcclxuICogQHBhcmFtIHtCb29sZWFufSBzYWZlIC0gZmFpbHNhZmUgcGFyc2luZ1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIHBhcnNlVXJsKGlucHV0KSB7XHJcbiAgdmFyIHNhZmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XHJcbiAgdmFyIHVybCA9IGlucHV0O1xyXG5cclxuICBpZiAoc2FmZSkge1xyXG4gICAgdmFyIHBhcnNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIHBhcnNlci5ocmVmID0gdXJsO1xyXG4gICAgdXJsID0gcGFyc2VyLmhyZWY7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgcmV0dXJuIG5ldyBVUkwodXJsKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn0gLy8gQ29udmVydCBvYmplY3QgdG8gVVJMU2VhcmNoUGFyYW1zXHJcblxyXG5mdW5jdGlvbiBidWlsZFVybFBhcmFtcyhpbnB1dCkge1xyXG4gIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XHJcblxyXG4gIGlmIChpcyQxLm9iamVjdChpbnB1dCkpIHtcclxuICAgIE9iamVjdC5lbnRyaWVzKGlucHV0KS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XHJcbiAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxyXG4gICAgICAgICAga2V5ID0gX3JlZjJbMF0sXHJcbiAgICAgICAgICB2YWx1ZSA9IF9yZWYyWzFdO1xyXG5cclxuICAgICAgcGFyYW1zLnNldChrZXksIHZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHBhcmFtcztcclxufVxyXG5cclxudmFyIGNhcHRpb25zID0ge1xyXG4gIC8vIFNldHVwIGNhcHRpb25zXHJcbiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkge1xyXG4gICAgLy8gUmVxdWlyZXMgVUkgc3VwcG9ydFxyXG4gICAgaWYgKCF0aGlzLnN1cHBvcnRlZC51aSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9IC8vIE9ubHkgVmltZW8gYW5kIEhUTUw1IHZpZGVvIHN1cHBvcnRlZCBhdCB0aGlzIHBvaW50XHJcblxyXG5cclxuICAgIGlmICghdGhpcy5pc1ZpZGVvIHx8IHRoaXMuaXNZb3VUdWJlIHx8IHRoaXMuaXNIVE1MNSAmJiAhc3VwcG9ydC50ZXh0VHJhY2tzKSB7XHJcbiAgICAgIC8vIENsZWFyIG1lbnUgYW5kIGhpZGVcclxuICAgICAgaWYgKGlzJDEuYXJyYXkodGhpcy5jb25maWcuY29udHJvbHMpICYmIHRoaXMuY29uZmlnLmNvbnRyb2xzLmluY2x1ZGVzKCdzZXR0aW5ncycpICYmIHRoaXMuY29uZmlnLnNldHRpbmdzLmluY2x1ZGVzKCdjYXB0aW9ucycpKSB7XHJcbiAgICAgICAgY29udHJvbHMuc2V0Q2FwdGlvbnNNZW51LmNhbGwodGhpcyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gSW5qZWN0IHRoZSBjb250YWluZXJcclxuXHJcblxyXG4gICAgaWYgKCFpcyQxLmVsZW1lbnQodGhpcy5lbGVtZW50cy5jYXB0aW9ucykpIHtcclxuICAgICAgdGhpcy5lbGVtZW50cy5jYXB0aW9ucyA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIGdldEF0dHJpYnV0ZXNGcm9tU2VsZWN0b3IodGhpcy5jb25maWcuc2VsZWN0b3JzLmNhcHRpb25zKSk7XHJcbiAgICAgIGluc2VydEFmdGVyKHRoaXMuZWxlbWVudHMuY2FwdGlvbnMsIHRoaXMuZWxlbWVudHMud3JhcHBlcik7XHJcbiAgICB9IC8vIEZpeCBJRSBjYXB0aW9ucyBpZiBDT1JTIGlzIHVzZWRcclxuICAgIC8vIEZldGNoIGNhcHRpb25zIGFuZCBpbmplY3QgYXMgYmxvYnMgaW5zdGVhZCAoZGF0YSBVUklzIG5vdCBzdXBwb3J0ZWQhKVxyXG5cclxuXHJcbiAgICBpZiAoYnJvd3Nlci5pc0lFICYmIHdpbmRvdy5VUkwpIHtcclxuICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy5tZWRpYS5xdWVyeVNlbGVjdG9yQWxsKCd0cmFjaycpO1xyXG4gICAgICBBcnJheS5mcm9tKGVsZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xyXG4gICAgICAgIHZhciBzcmMgPSB0cmFjay5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xyXG4gICAgICAgIHZhciB1cmwgPSBwYXJzZVVybChzcmMpO1xyXG5cclxuICAgICAgICBpZiAodXJsICE9PSBudWxsICYmIHVybC5ob3N0bmFtZSAhPT0gd2luZG93LmxvY2F0aW9uLmhyZWYuaG9zdG5hbWUgJiYgWydodHRwOicsICdodHRwczonXS5pbmNsdWRlcyh1cmwucHJvdG9jb2wpKSB7XHJcbiAgICAgICAgICBmZXRjaChzcmMsICdibG9iJykudGhlbihmdW5jdGlvbiAoYmxvYikge1xyXG4gICAgICAgICAgICB0cmFjay5zZXRBdHRyaWJ1dGUoJ3NyYycsIHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcclxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVtb3ZlRWxlbWVudCh0cmFjayk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSAvLyBHZXQgYW5kIHNldCBpbml0aWFsIGRhdGFcclxuICAgIC8vIFRoZSBcInByZWZlcnJlZFwiIG9wdGlvbnMgYXJlIG5vdCByZWFsaXplZCB1bmxlc3MgLyB1bnRpbCB0aGUgd2FudGVkIGxhbmd1YWdlIGhhcyBhIG1hdGNoXHJcbiAgICAvLyAqIGxhbmd1YWdlczogQXJyYXkgb2YgdXNlcidzIGJyb3dzZXIgbGFuZ3VhZ2VzLlxyXG4gICAgLy8gKiBsYW5ndWFnZTogIFRoZSBsYW5ndWFnZSBwcmVmZXJyZWQgYnkgdXNlciBzZXR0aW5ncyBvciBjb25maWdcclxuICAgIC8vICogYWN0aXZlOiAgICBUaGUgc3RhdGUgcHJlZmVycmVkIGJ5IHVzZXIgc2V0dGluZ3Mgb3IgY29uZmlnXHJcbiAgICAvLyAqIHRvZ2dsZWQ6ICAgVGhlIHJlYWwgY2FwdGlvbnMgc3RhdGVcclxuXHJcblxyXG4gICAgdmFyIGJyb3dzZXJMYW5ndWFnZXMgPSBuYXZpZ2F0b3IubGFuZ3VhZ2VzIHx8IFtuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSB8fCAnZW4nXTtcclxuICAgIHZhciBsYW5ndWFnZXMgPSBkZWR1cGUoYnJvd3Nlckxhbmd1YWdlcy5tYXAoZnVuY3Rpb24gKGxhbmd1YWdlKSB7XHJcbiAgICAgIHJldHVybiBsYW5ndWFnZS5zcGxpdCgnLScpWzBdO1xyXG4gICAgfSkpO1xyXG4gICAgdmFyIGxhbmd1YWdlID0gKHRoaXMuc3RvcmFnZS5nZXQoJ2xhbmd1YWdlJykgfHwgdGhpcy5jb25maWcuY2FwdGlvbnMubGFuZ3VhZ2UgfHwgJ2F1dG8nKS50b0xvd2VyQ2FzZSgpOyAvLyBVc2UgZmlyc3QgYnJvd3NlciBsYW5ndWFnZSB3aGVuIGxhbmd1YWdlIGlzICdhdXRvJ1xyXG5cclxuICAgIGlmIChsYW5ndWFnZSA9PT0gJ2F1dG8nKSB7XHJcbiAgICAgIHZhciBfbGFuZ3VhZ2VzID0gX3NsaWNlZFRvQXJyYXkobGFuZ3VhZ2VzLCAxKTtcclxuXHJcbiAgICAgIGxhbmd1YWdlID0gX2xhbmd1YWdlc1swXTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYWN0aXZlID0gdGhpcy5zdG9yYWdlLmdldCgnY2FwdGlvbnMnKTtcclxuXHJcbiAgICBpZiAoIWlzJDEuYm9vbGVhbihhY3RpdmUpKSB7XHJcbiAgICAgIGFjdGl2ZSA9IHRoaXMuY29uZmlnLmNhcHRpb25zLmFjdGl2ZTtcclxuICAgIH1cclxuXHJcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY2FwdGlvbnMsIHtcclxuICAgICAgdG9nZ2xlZDogZmFsc2UsXHJcbiAgICAgIGFjdGl2ZTogYWN0aXZlLFxyXG4gICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UsXHJcbiAgICAgIGxhbmd1YWdlczogbGFuZ3VhZ2VzXHJcbiAgICB9KTsgLy8gV2F0Y2ggY2hhbmdlcyB0byB0ZXh0VHJhY2tzIGFuZCB1cGRhdGUgY2FwdGlvbnMgbWVudVxyXG5cclxuICAgIGlmICh0aGlzLmlzSFRNTDUpIHtcclxuICAgICAgdmFyIHRyYWNrRXZlbnRzID0gdGhpcy5jb25maWcuY2FwdGlvbnMudXBkYXRlID8gJ2FkZHRyYWNrIHJlbW92ZXRyYWNrJyA6ICdyZW1vdmV0cmFjayc7XHJcbiAgICAgIG9uLmNhbGwodGhpcywgdGhpcy5tZWRpYS50ZXh0VHJhY2tzLCB0cmFja0V2ZW50cywgY2FwdGlvbnMudXBkYXRlLmJpbmQodGhpcykpO1xyXG4gICAgfSAvLyBVcGRhdGUgYXZhaWxhYmxlIGxhbmd1YWdlcyBpbiBsaXN0IG5leHQgdGljayAodGhlIGV2ZW50IG11c3Qgbm90IGJlIHRyaWdnZXJlZCBiZWZvcmUgdGhlIGxpc3RlbmVycylcclxuXHJcblxyXG4gICAgc2V0VGltZW91dChjYXB0aW9ucy51cGRhdGUuYmluZCh0aGlzKSwgMCk7XHJcbiAgfSxcclxuICAvLyBVcGRhdGUgYXZhaWxhYmxlIGxhbmd1YWdlIG9wdGlvbnMgaW4gc2V0dGluZ3MgYmFzZWQgb24gdHJhY2tzXHJcbiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIHZhciB0cmFja3MgPSBjYXB0aW9ucy5nZXRUcmFja3MuY2FsbCh0aGlzLCB0cnVlKTsgLy8gR2V0IHRoZSB3YW50ZWQgbGFuZ3VhZ2VcclxuXHJcbiAgICB2YXIgX3RoaXMkY2FwdGlvbnMgPSB0aGlzLmNhcHRpb25zLFxyXG4gICAgICAgIGFjdGl2ZSA9IF90aGlzJGNhcHRpb25zLmFjdGl2ZSxcclxuICAgICAgICBsYW5ndWFnZSA9IF90aGlzJGNhcHRpb25zLmxhbmd1YWdlLFxyXG4gICAgICAgIG1ldGEgPSBfdGhpcyRjYXB0aW9ucy5tZXRhLFxyXG4gICAgICAgIGN1cnJlbnRUcmFja05vZGUgPSBfdGhpcyRjYXB0aW9ucy5jdXJyZW50VHJhY2tOb2RlO1xyXG4gICAgdmFyIGxhbmd1YWdlRXhpc3RzID0gQm9vbGVhbih0cmFja3MuZmluZChmdW5jdGlvbiAodHJhY2spIHtcclxuICAgICAgcmV0dXJuIHRyYWNrLmxhbmd1YWdlID09PSBsYW5ndWFnZTtcclxuICAgIH0pKTsgLy8gSGFuZGxlIHRyYWNrcyAoYWRkIGV2ZW50IGxpc3RlbmVyIGFuZCBcInBzZXVkb1wiLWRlZmF1bHQpXHJcblxyXG4gICAgaWYgKHRoaXMuaXNIVE1MNSAmJiB0aGlzLmlzVmlkZW8pIHtcclxuICAgICAgdHJhY2tzLmZpbHRlcihmdW5jdGlvbiAodHJhY2spIHtcclxuICAgICAgICByZXR1cm4gIW1ldGEuZ2V0KHRyYWNrKTtcclxuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcclxuICAgICAgICBfdGhpcy5kZWJ1Zy5sb2coJ1RyYWNrIGFkZGVkJywgdHJhY2spOyAvLyBBdHRlbXB0IHRvIHN0b3JlIGlmIHRoZSBvcmlnaW5hbCBkb20gZWxlbWVudCB3YXMgXCJkZWZhdWx0XCJcclxuXHJcblxyXG4gICAgICAgIG1ldGEuc2V0KHRyYWNrLCB7XHJcbiAgICAgICAgICBkZWZhdWx0OiB0cmFjay5tb2RlID09PSAnc2hvd2luZydcclxuICAgICAgICB9KTsgLy8gVHVybiBvZmYgbmF0aXZlIGNhcHRpb24gcmVuZGVyaW5nIHRvIGF2b2lkIGRvdWJsZSBjYXB0aW9uc1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG5cclxuICAgICAgICB0cmFjay5tb2RlID0gJ2hpZGRlbic7IC8vIEFkZCBldmVudCBsaXN0ZW5lciBmb3IgY3VlIGNoYW5nZXNcclxuXHJcbiAgICAgICAgb24uY2FsbChfdGhpcywgdHJhY2ssICdjdWVjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gY2FwdGlvbnMudXBkYXRlQ3Vlcy5jYWxsKF90aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9IC8vIFVwZGF0ZSBsYW5ndWFnZSBmaXJzdCB0aW1lIGl0IG1hdGNoZXMsIG9yIGlmIHRoZSBwcmV2aW91cyBtYXRjaGluZyB0cmFjayB3YXMgcmVtb3ZlZFxyXG5cclxuXHJcbiAgICBpZiAobGFuZ3VhZ2VFeGlzdHMgJiYgdGhpcy5sYW5ndWFnZSAhPT0gbGFuZ3VhZ2UgfHwgIXRyYWNrcy5pbmNsdWRlcyhjdXJyZW50VHJhY2tOb2RlKSkge1xyXG4gICAgICBjYXB0aW9ucy5zZXRMYW5ndWFnZS5jYWxsKHRoaXMsIGxhbmd1YWdlKTtcclxuICAgICAgY2FwdGlvbnMudG9nZ2xlLmNhbGwodGhpcywgYWN0aXZlICYmIGxhbmd1YWdlRXhpc3RzKTtcclxuICAgIH0gLy8gRW5hYmxlIG9yIGRpc2FibGUgY2FwdGlvbnMgYmFzZWQgb24gdHJhY2sgbGVuZ3RoXHJcblxyXG5cclxuICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLCB0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmNhcHRpb25zLmVuYWJsZWQsICFpcyQxLmVtcHR5KHRyYWNrcykpOyAvLyBVcGRhdGUgYXZhaWxhYmxlIGxhbmd1YWdlcyBpbiBsaXN0XHJcblxyXG4gICAgaWYgKCh0aGlzLmNvbmZpZy5jb250cm9scyB8fCBbXSkuaW5jbHVkZXMoJ3NldHRpbmdzJykgJiYgdGhpcy5jb25maWcuc2V0dGluZ3MuaW5jbHVkZXMoJ2NhcHRpb25zJykpIHtcclxuICAgICAgY29udHJvbHMuc2V0Q2FwdGlvbnNNZW51LmNhbGwodGhpcyk7XHJcbiAgICB9XHJcbiAgfSxcclxuICAvLyBUb2dnbGUgY2FwdGlvbnMgZGlzcGxheVxyXG4gIC8vIFVzZWQgaW50ZXJuYWxseSBmb3IgdGhlIHRvZ2dsZUNhcHRpb25zIG1ldGhvZCwgd2l0aCB0aGUgcGFzc2l2ZSBvcHRpb24gZm9yY2VkIHRvIGZhbHNlXHJcbiAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoaW5wdXQpIHtcclxuICAgIHZhciBwYXNzaXZlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xyXG5cclxuICAgIC8vIElmIHRoZXJlJ3Mgbm8gZnVsbCBzdXBwb3J0XHJcbiAgICBpZiAoIXRoaXMuc3VwcG9ydGVkLnVpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgdG9nZ2xlZCA9IHRoaXMuY2FwdGlvbnMudG9nZ2xlZDsgLy8gQ3VycmVudCBzdGF0ZVxyXG5cclxuICAgIHZhciBhY3RpdmVDbGFzcyA9IHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuY2FwdGlvbnMuYWN0aXZlOyAvLyBHZXQgdGhlIG5leHQgc3RhdGVcclxuICAgIC8vIElmIHRoZSBtZXRob2QgaXMgY2FsbGVkIHdpdGhvdXQgcGFyYW1ldGVyLCB0b2dnbGUgYmFzZWQgb24gY3VycmVudCB2YWx1ZVxyXG5cclxuICAgIHZhciBhY3RpdmUgPSBpcyQxLm51bGxPclVuZGVmaW5lZChpbnB1dCkgPyAhdG9nZ2xlZCA6IGlucHV0OyAvLyBVcGRhdGUgc3RhdGUgYW5kIHRyaWdnZXIgZXZlbnRcclxuXHJcbiAgICBpZiAoYWN0aXZlICE9PSB0b2dnbGVkKSB7XHJcbiAgICAgIC8vIFdoZW4gcGFzc2l2ZSwgZG9uJ3Qgb3ZlcnJpZGUgdXNlciBwcmVmZXJlbmNlc1xyXG4gICAgICBpZiAoIXBhc3NpdmUpIHtcclxuICAgICAgICB0aGlzLmNhcHRpb25zLmFjdGl2ZSA9IGFjdGl2ZTtcclxuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KHtcclxuICAgICAgICAgIGNhcHRpb25zOiBhY3RpdmVcclxuICAgICAgICB9KTtcclxuICAgICAgfSAvLyBGb3JjZSBsYW5ndWFnZSBpZiB0aGUgY2FsbCBpc24ndCBwYXNzaXZlIGFuZCB0aGVyZSBpcyBubyBtYXRjaGluZyBsYW5ndWFnZSB0byB0b2dnbGUgdG9cclxuXHJcblxyXG4gICAgICBpZiAoIXRoaXMubGFuZ3VhZ2UgJiYgYWN0aXZlICYmICFwYXNzaXZlKSB7XHJcbiAgICAgICAgdmFyIHRyYWNrcyA9IGNhcHRpb25zLmdldFRyYWNrcy5jYWxsKHRoaXMpO1xyXG4gICAgICAgIHZhciB0cmFjayA9IGNhcHRpb25zLmZpbmRUcmFjay5jYWxsKHRoaXMsIFt0aGlzLmNhcHRpb25zLmxhbmd1YWdlXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2FwdGlvbnMubGFuZ3VhZ2VzKSksIHRydWUpOyAvLyBPdmVycmlkZSB1c2VyIHByZWZlcmVuY2VzIHRvIGF2b2lkIHN3aXRjaGluZyBsYW5ndWFnZXMgaWYgYSBtYXRjaGluZyB0cmFjayBpcyBhZGRlZFxyXG5cclxuICAgICAgICB0aGlzLmNhcHRpb25zLmxhbmd1YWdlID0gdHJhY2subGFuZ3VhZ2U7IC8vIFNldCBjYXB0aW9uLCBidXQgZG9uJ3Qgc3RvcmUgaW4gbG9jYWxTdG9yYWdlIGFzIHVzZXIgcHJlZmVyZW5jZVxyXG5cclxuICAgICAgICBjYXB0aW9ucy5zZXQuY2FsbCh0aGlzLCB0cmFja3MuaW5kZXhPZih0cmFjaykpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSAvLyBUb2dnbGUgYnV0dG9uIGlmIGl0J3MgZW5hYmxlZFxyXG5cclxuXHJcbiAgICAgIGlmICh0aGlzLmVsZW1lbnRzLmJ1dHRvbnMuY2FwdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmJ1dHRvbnMuY2FwdGlvbnMucHJlc3NlZCA9IGFjdGl2ZTtcclxuICAgICAgfSAvLyBBZGQgY2xhc3MgaG9va1xyXG5cclxuXHJcbiAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLCBhY3RpdmVDbGFzcywgYWN0aXZlKTtcclxuICAgICAgdGhpcy5jYXB0aW9ucy50b2dnbGVkID0gYWN0aXZlOyAvLyBVcGRhdGUgc2V0dGluZ3MgbWVudVxyXG5cclxuICAgICAgY29udHJvbHMudXBkYXRlU2V0dGluZy5jYWxsKHRoaXMsICdjYXB0aW9ucycpOyAvLyBUcmlnZ2VyIGV2ZW50IChub3QgdXNlZCBpbnRlcm5hbGx5KVxyXG5cclxuICAgICAgdHJpZ2dlckV2ZW50LmNhbGwodGhpcywgdGhpcy5tZWRpYSwgYWN0aXZlID8gJ2NhcHRpb25zZW5hYmxlZCcgOiAnY2FwdGlvbnNkaXNhYmxlZCcpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8gU2V0IGNhcHRpb25zIGJ5IHRyYWNrIGluZGV4XHJcbiAgLy8gVXNlZCBpbnRlcm5hbGx5IGZvciB0aGUgY3VycmVudFRyYWNrIHNldHRlciB3aXRoIHRoZSBwYXNzaXZlIG9wdGlvbiBmb3JjZWQgdG8gZmFsc2VcclxuICBzZXQ6IGZ1bmN0aW9uIHNldChpbmRleCkge1xyXG4gICAgdmFyIHBhc3NpdmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XHJcbiAgICB2YXIgdHJhY2tzID0gY2FwdGlvbnMuZ2V0VHJhY2tzLmNhbGwodGhpcyk7IC8vIERpc2FibGUgY2FwdGlvbnMgaWYgc2V0dGluZyB0byAtMVxyXG5cclxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgY2FwdGlvbnMudG9nZ2xlLmNhbGwodGhpcywgZmFsc2UsIHBhc3NpdmUpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpcyQxLm51bWJlcihpbmRleCkpIHtcclxuICAgICAgdGhpcy5kZWJ1Zy53YXJuKCdJbnZhbGlkIGNhcHRpb24gYXJndW1lbnQnLCBpbmRleCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIShpbmRleCBpbiB0cmFja3MpKSB7XHJcbiAgICAgIHRoaXMuZGVidWcud2FybignVHJhY2sgbm90IGZvdW5kJywgaW5kZXgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuY2FwdGlvbnMuY3VycmVudFRyYWNrICE9PSBpbmRleCkge1xyXG4gICAgICB0aGlzLmNhcHRpb25zLmN1cnJlbnRUcmFjayA9IGluZGV4O1xyXG4gICAgICB2YXIgdHJhY2sgPSB0cmFja3NbaW5kZXhdO1xyXG5cclxuICAgICAgdmFyIF9yZWYgPSB0cmFjayB8fCB7fSxcclxuICAgICAgICAgIGxhbmd1YWdlID0gX3JlZi5sYW5ndWFnZTsgLy8gU3RvcmUgcmVmZXJlbmNlIHRvIG5vZGUgZm9yIGludmFsaWRhdGlvbiBvbiByZW1vdmVcclxuXHJcblxyXG4gICAgICB0aGlzLmNhcHRpb25zLmN1cnJlbnRUcmFja05vZGUgPSB0cmFjazsgLy8gVXBkYXRlIHNldHRpbmdzIG1lbnVcclxuXHJcbiAgICAgIGNvbnRyb2xzLnVwZGF0ZVNldHRpbmcuY2FsbCh0aGlzLCAnY2FwdGlvbnMnKTsgLy8gV2hlbiBwYXNzaXZlLCBkb24ndCBvdmVycmlkZSB1c2VyIHByZWZlcmVuY2VzXHJcblxyXG4gICAgICBpZiAoIXBhc3NpdmUpIHtcclxuICAgICAgICB0aGlzLmNhcHRpb25zLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlLnNldCh7XHJcbiAgICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2VcclxuICAgICAgICB9KTtcclxuICAgICAgfSAvLyBIYW5kbGUgVmltZW8gY2FwdGlvbnNcclxuXHJcblxyXG4gICAgICBpZiAodGhpcy5pc1ZpbWVvKSB7XHJcbiAgICAgICAgdGhpcy5lbWJlZC5lbmFibGVUZXh0VHJhY2sobGFuZ3VhZ2UpO1xyXG4gICAgICB9IC8vIFRyaWdnZXIgZXZlbnRcclxuXHJcblxyXG4gICAgICB0cmlnZ2VyRXZlbnQuY2FsbCh0aGlzLCB0aGlzLm1lZGlhLCAnbGFuZ3VhZ2VjaGFuZ2UnKTtcclxuICAgIH0gLy8gU2hvdyBjYXB0aW9uc1xyXG5cclxuXHJcbiAgICBjYXB0aW9ucy50b2dnbGUuY2FsbCh0aGlzLCB0cnVlLCBwYXNzaXZlKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc0hUTUw1ICYmIHRoaXMuaXNWaWRlbykge1xyXG4gICAgICAvLyBJZiB3ZSBjaGFuZ2UgdGhlIGFjdGl2ZSB0cmFjayB3aGlsZSBhIGN1ZSBpcyBhbHJlYWR5IGRpc3BsYXllZCB3ZSBuZWVkIHRvIHVwZGF0ZSBpdFxyXG4gICAgICBjYXB0aW9ucy51cGRhdGVDdWVzLmNhbGwodGhpcyk7XHJcbiAgICB9XHJcbiAgfSxcclxuICAvLyBTZXQgY2FwdGlvbnMgYnkgbGFuZ3VhZ2VcclxuICAvLyBVc2VkIGludGVybmFsbHkgZm9yIHRoZSBsYW5ndWFnZSBzZXR0ZXIgd2l0aCB0aGUgcGFzc2l2ZSBvcHRpb24gZm9yY2VkIHRvIGZhbHNlXHJcbiAgc2V0TGFuZ3VhZ2U6IGZ1bmN0aW9uIHNldExhbmd1YWdlKGlucHV0KSB7XHJcbiAgICB2YXIgcGFzc2l2ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcclxuXHJcbiAgICBpZiAoIWlzJDEuc3RyaW5nKGlucHV0KSkge1xyXG4gICAgICB0aGlzLmRlYnVnLndhcm4oJ0ludmFsaWQgbGFuZ3VhZ2UgYXJndW1lbnQnLCBpbnB1dCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gTm9ybWFsaXplXHJcblxyXG5cclxuICAgIHZhciBsYW5ndWFnZSA9IGlucHV0LnRvTG93ZXJDYXNlKCk7XHJcbiAgICB0aGlzLmNhcHRpb25zLmxhbmd1YWdlID0gbGFuZ3VhZ2U7IC8vIFNldCBjdXJyZW50VHJhY2tcclxuXHJcbiAgICB2YXIgdHJhY2tzID0gY2FwdGlvbnMuZ2V0VHJhY2tzLmNhbGwodGhpcyk7XHJcbiAgICB2YXIgdHJhY2sgPSBjYXB0aW9ucy5maW5kVHJhY2suY2FsbCh0aGlzLCBbbGFuZ3VhZ2VdKTtcclxuICAgIGNhcHRpb25zLnNldC5jYWxsKHRoaXMsIHRyYWNrcy5pbmRleE9mKHRyYWNrKSwgcGFzc2l2ZSk7XHJcbiAgfSxcclxuICAvLyBHZXQgY3VycmVudCB2YWxpZCBjYXB0aW9uIHRyYWNrc1xyXG4gIC8vIElmIHVwZGF0ZSBpcyBmYWxzZSBpdCB3aWxsIGFsc28gaWdub3JlIHRyYWNrcyB3aXRob3V0IG1ldGFkYXRhXHJcbiAgLy8gVGhpcyBpcyB1c2VkIHRvIFwiZnJlZXplXCIgdGhlIGxhbmd1YWdlIG9wdGlvbnMgd2hlbiBjYXB0aW9ucy51cGRhdGUgaXMgZmFsc2VcclxuICBnZXRUcmFja3M6IGZ1bmN0aW9uIGdldFRyYWNrcygpIHtcclxuICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICAgIHZhciB1cGRhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xyXG4gICAgLy8gSGFuZGxlIG1lZGlhIG9yIHRleHRUcmFja3MgbWlzc2luZyBvciBudWxsXHJcbiAgICB2YXIgdHJhY2tzID0gQXJyYXkuZnJvbSgodGhpcy5tZWRpYSB8fCB7fSkudGV4dFRyYWNrcyB8fCBbXSk7IC8vIEZvciBIVE1MNSwgdXNlIGNhY2hlIGluc3RlYWQgb2YgY3VycmVudCB0cmFja3Mgd2hlbiBpdCBleGlzdHMgKGlmIGNhcHRpb25zLnVwZGF0ZSBpcyBmYWxzZSlcclxuICAgIC8vIEZpbHRlciBvdXQgcmVtb3ZlZCB0cmFja3MgYW5kIHRyYWNrcyB0aGF0IGFyZW4ndCBjYXB0aW9ucy9zdWJ0aXRsZXMgKGZvciBleGFtcGxlIG1ldGFkYXRhKVxyXG5cclxuICAgIHJldHVybiB0cmFja3MuZmlsdGVyKGZ1bmN0aW9uICh0cmFjaykge1xyXG4gICAgICByZXR1cm4gIV90aGlzMi5pc0hUTUw1IHx8IHVwZGF0ZSB8fCBfdGhpczIuY2FwdGlvbnMubWV0YS5oYXModHJhY2spO1xyXG4gICAgfSkuZmlsdGVyKGZ1bmN0aW9uICh0cmFjaykge1xyXG4gICAgICByZXR1cm4gWydjYXB0aW9ucycsICdzdWJ0aXRsZXMnXS5pbmNsdWRlcyh0cmFjay5raW5kKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgLy8gTWF0Y2ggdHJhY2tzIGJhc2VkIG9uIGxhbmd1YWdlcyBhbmQgZ2V0IHRoZSBmaXJzdFxyXG4gIGZpbmRUcmFjazogZnVuY3Rpb24gZmluZFRyYWNrKGxhbmd1YWdlcykge1xyXG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XHJcblxyXG4gICAgdmFyIGZvcmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcclxuICAgIHZhciB0cmFja3MgPSBjYXB0aW9ucy5nZXRUcmFja3MuY2FsbCh0aGlzKTtcclxuXHJcbiAgICB2YXIgc29ydElzRGVmYXVsdCA9IGZ1bmN0aW9uIHNvcnRJc0RlZmF1bHQodHJhY2spIHtcclxuICAgICAgcmV0dXJuIE51bWJlcigoX3RoaXMzLmNhcHRpb25zLm1ldGEuZ2V0KHRyYWNrKSB8fCB7fSkuZGVmYXVsdCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBzb3J0ZWQgPSBBcnJheS5mcm9tKHRyYWNrcykuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICByZXR1cm4gc29ydElzRGVmYXVsdChiKSAtIHNvcnRJc0RlZmF1bHQoYSk7XHJcbiAgICB9KTtcclxuICAgIHZhciB0cmFjaztcclxuICAgIGxhbmd1YWdlcy5ldmVyeShmdW5jdGlvbiAobGFuZ3VhZ2UpIHtcclxuICAgICAgdHJhY2sgPSBzb3J0ZWQuZmluZChmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIHJldHVybiB0Lmxhbmd1YWdlID09PSBsYW5ndWFnZTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiAhdHJhY2s7IC8vIEJyZWFrIGl0ZXJhdGlvbiBpZiB0aGVyZSBpcyBhIG1hdGNoXHJcbiAgICB9KTsgLy8gSWYgbm8gbWF0Y2ggaXMgZm91bmQgYnV0IGlzIHJlcXVpcmVkLCBnZXQgZmlyc3RcclxuXHJcbiAgICByZXR1cm4gdHJhY2sgfHwgKGZvcmNlID8gc29ydGVkWzBdIDogdW5kZWZpbmVkKTtcclxuICB9LFxyXG4gIC8vIEdldCB0aGUgY3VycmVudCB0cmFja1xyXG4gIGdldEN1cnJlbnRUcmFjazogZnVuY3Rpb24gZ2V0Q3VycmVudFRyYWNrKCkge1xyXG4gICAgcmV0dXJuIGNhcHRpb25zLmdldFRyYWNrcy5jYWxsKHRoaXMpW3RoaXMuY3VycmVudFRyYWNrXTtcclxuICB9LFxyXG4gIC8vIEdldCBVSSBsYWJlbCBmb3IgdHJhY2tcclxuICBnZXRMYWJlbDogZnVuY3Rpb24gZ2V0TGFiZWwodHJhY2spIHtcclxuICAgIHZhciBjdXJyZW50VHJhY2sgPSB0cmFjaztcclxuXHJcbiAgICBpZiAoIWlzJDEudHJhY2soY3VycmVudFRyYWNrKSAmJiBzdXBwb3J0LnRleHRUcmFja3MgJiYgdGhpcy5jYXB0aW9ucy50b2dnbGVkKSB7XHJcbiAgICAgIGN1cnJlbnRUcmFjayA9IGNhcHRpb25zLmdldEN1cnJlbnRUcmFjay5jYWxsKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpcyQxLnRyYWNrKGN1cnJlbnRUcmFjaykpIHtcclxuICAgICAgaWYgKCFpcyQxLmVtcHR5KGN1cnJlbnRUcmFjay5sYWJlbCkpIHtcclxuICAgICAgICByZXR1cm4gY3VycmVudFRyYWNrLmxhYmVsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWlzJDEuZW1wdHkoY3VycmVudFRyYWNrLmxhbmd1YWdlKSkge1xyXG4gICAgICAgIHJldHVybiB0cmFjay5sYW5ndWFnZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gaTE4bi5nZXQoJ2VuYWJsZWQnLCB0aGlzLmNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGkxOG4uZ2V0KCdkaXNhYmxlZCcsIHRoaXMuY29uZmlnKTtcclxuICB9LFxyXG4gIC8vIFVwZGF0ZSBjYXB0aW9ucyB1c2luZyBjdXJyZW50IHRyYWNrJ3MgYWN0aXZlIGN1ZXNcclxuICAvLyBBbHNvIG9wdGlvbmFsIGFycmF5IGFyZ3VtZW50IGluIGNhc2UgdGhlcmUgaXNuJ3QgYW55IHRyYWNrIChleDogdmltZW8pXHJcbiAgdXBkYXRlQ3VlczogZnVuY3Rpb24gdXBkYXRlQ3VlcyhpbnB1dCkge1xyXG4gICAgLy8gUmVxdWlyZXMgVUlcclxuICAgIGlmICghdGhpcy5zdXBwb3J0ZWQudWkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXMkMS5lbGVtZW50KHRoaXMuZWxlbWVudHMuY2FwdGlvbnMpKSB7XHJcbiAgICAgIHRoaXMuZGVidWcud2FybignTm8gY2FwdGlvbnMgZWxlbWVudCB0byByZW5kZXIgdG8nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSAvLyBPbmx5IGFjY2VwdCBhcnJheSBvciBlbXB0eSBpbnB1dFxyXG5cclxuXHJcbiAgICBpZiAoIWlzJDEubnVsbE9yVW5kZWZpbmVkKGlucHV0KSAmJiAhQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgdGhpcy5kZWJ1Zy53YXJuKCd1cGRhdGVDdWVzOiBJbnZhbGlkIGlucHV0JywgaW5wdXQpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGN1ZXMgPSBpbnB1dDsgLy8gR2V0IGN1ZXMgZnJvbSB0cmFja1xyXG5cclxuICAgIGlmICghY3Vlcykge1xyXG4gICAgICB2YXIgdHJhY2sgPSBjYXB0aW9ucy5nZXRDdXJyZW50VHJhY2suY2FsbCh0aGlzKTtcclxuICAgICAgY3VlcyA9IEFycmF5LmZyb20oKHRyYWNrIHx8IHt9KS5hY3RpdmVDdWVzIHx8IFtdKS5tYXAoZnVuY3Rpb24gKGN1ZSkge1xyXG4gICAgICAgIHJldHVybiBjdWUuZ2V0Q3VlQXNIVE1MKCk7XHJcbiAgICAgIH0pLm1hcChnZXRIVE1MKTtcclxuICAgIH0gLy8gU2V0IG5ldyBjYXB0aW9uIHRleHRcclxuXHJcblxyXG4gICAgdmFyIGNvbnRlbnQgPSBjdWVzLm1hcChmdW5jdGlvbiAoY3VlVGV4dCkge1xyXG4gICAgICByZXR1cm4gY3VlVGV4dC50cmltKCk7XHJcbiAgICB9KS5qb2luKCdcXG4nKTtcclxuICAgIHZhciBjaGFuZ2VkID0gY29udGVudCAhPT0gdGhpcy5lbGVtZW50cy5jYXB0aW9ucy5pbm5lckhUTUw7XHJcblxyXG4gICAgaWYgKGNoYW5nZWQpIHtcclxuICAgICAgLy8gRW1wdHkgdGhlIGNvbnRhaW5lciBhbmQgY3JlYXRlIGEgbmV3IGNoaWxkIGVsZW1lbnRcclxuICAgICAgZW1wdHlFbGVtZW50KHRoaXMuZWxlbWVudHMuY2FwdGlvbnMpO1xyXG4gICAgICB2YXIgY2FwdGlvbiA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCBnZXRBdHRyaWJ1dGVzRnJvbVNlbGVjdG9yKHRoaXMuY29uZmlnLnNlbGVjdG9ycy5jYXB0aW9uKSk7XHJcbiAgICAgIGNhcHRpb24uaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgICAgdGhpcy5lbGVtZW50cy5jYXB0aW9ucy5hcHBlbmRDaGlsZChjYXB0aW9uKTsgLy8gVHJpZ2dlciBldmVudFxyXG5cclxuICAgICAgdHJpZ2dlckV2ZW50LmNhbGwodGhpcywgdGhpcy5tZWRpYSwgJ2N1ZWNoYW5nZScpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBseXIgZGVmYXVsdCBjb25maWdcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIGRlZmF1bHRzJDEgPSB7XHJcbiAgLy8gRGlzYWJsZVxyXG4gIGVuYWJsZWQ6IHRydWUsXHJcbiAgLy8gQ3VzdG9tIG1lZGlhIHRpdGxlXHJcbiAgdGl0bGU6ICcnLFxyXG4gIC8vIExvZ2dpbmcgdG8gY29uc29sZVxyXG4gIGRlYnVnOiBmYWxzZSxcclxuICAvLyBBdXRvIHBsYXkgKGlmIHN1cHBvcnRlZClcclxuICBhdXRvcGxheTogZmFsc2UsXHJcbiAgLy8gT25seSBhbGxvdyBvbmUgbWVkaWEgcGxheWluZyBhdCBvbmNlICh2aW1lbyBvbmx5KVxyXG4gIGF1dG9wYXVzZTogdHJ1ZSxcclxuICAvLyBBbGxvdyBpbmxpbmUgcGxheWJhY2sgb24gaU9TICh0aGlzIGVmZmVjdHMgWW91VHViZS9WaW1lbyAtIEhUTUw1IHJlcXVpcmVzIHRoZSBhdHRyaWJ1dGUgcHJlc2VudClcclxuICAvLyBUT0RPOiBSZW1vdmUgaW9zTmF0aXZlIGZ1bGxzY3JlZW4gb3B0aW9uIGluIGZhdm91ciBvZiB0aGlzIChsb2dpYyBuZWVkcyB3b3JrKVxyXG4gIHBsYXlzaW5saW5lOiB0cnVlLFxyXG4gIC8vIERlZmF1bHQgdGltZSB0byBza2lwIHdoZW4gcmV3aW5kL2Zhc3QgZm9yd2FyZFxyXG4gIHNlZWtUaW1lOiAxMCxcclxuICAvLyBEZWZhdWx0IHZvbHVtZVxyXG4gIHZvbHVtZTogMSxcclxuICBtdXRlZDogZmFsc2UsXHJcbiAgLy8gUGFzcyBhIGN1c3RvbSBkdXJhdGlvblxyXG4gIGR1cmF0aW9uOiBudWxsLFxyXG4gIC8vIERpc3BsYXkgdGhlIG1lZGlhIGR1cmF0aW9uIG9uIGxvYWQgaW4gdGhlIGN1cnJlbnQgdGltZSBwb3NpdGlvblxyXG4gIC8vIElmIHlvdSBoYXZlIG9wdGVkIHRvIGRpc3BsYXkgYm90aCBkdXJhdGlvbiBhbmQgY3VycmVudFRpbWUsIHRoaXMgaXMgaWdub3JlZFxyXG4gIGRpc3BsYXlEdXJhdGlvbjogdHJ1ZSxcclxuICAvLyBJbnZlcnQgdGhlIGN1cnJlbnQgdGltZSB0byBiZSBhIGNvdW50ZG93blxyXG4gIGludmVydFRpbWU6IHRydWUsXHJcbiAgLy8gQ2xpY2tpbmcgdGhlIGN1cnJlbnRUaW1lIGludmVydHMgaXQncyB2YWx1ZSB0byBzaG93IHRpbWUgbGVmdCByYXRoZXIgdGhhbiBlbGFwc2VkXHJcbiAgdG9nZ2xlSW52ZXJ0OiB0cnVlLFxyXG4gIC8vIEZvcmNlIGFuIGFzcGVjdCByYXRpb1xyXG4gIC8vIFRoZSBmb3JtYXQgbXVzdCBiZSBgJ3c6aCdgIChlLmcuIGAnMTY6OSdgKVxyXG4gIHJhdGlvOiBudWxsLFxyXG4gIC8vIENsaWNrIHZpZGVvIGNvbnRhaW5lciB0byBwbGF5L3BhdXNlXHJcbiAgY2xpY2tUb1BsYXk6IHRydWUsXHJcbiAgLy8gQXV0byBoaWRlIHRoZSBjb250cm9sc1xyXG4gIGhpZGVDb250cm9sczogdHJ1ZSxcclxuICAvLyBSZXNldCB0byBzdGFydCB3aGVuIHBsYXliYWNrIGVuZGVkXHJcbiAgcmVzZXRPbkVuZDogZmFsc2UsXHJcbiAgLy8gRGlzYWJsZSB0aGUgc3RhbmRhcmQgY29udGV4dCBtZW51XHJcbiAgZGlzYWJsZUNvbnRleHRNZW51OiB0cnVlLFxyXG4gIC8vIFNwcml0ZSAoZm9yIGljb25zKVxyXG4gIGxvYWRTcHJpdGU6IHRydWUsXHJcbiAgaWNvblByZWZpeDogJ3BseXInLFxyXG4gIGljb25Vcmw6ICdodHRwczovL2Nkbi5wbHlyLmlvLzMuNS42L3BseXIuc3ZnJyxcclxuICAvLyBCbGFuayB2aWRlbyAodXNlZCB0byBwcmV2ZW50IGVycm9ycyBvbiBzb3VyY2UgY2hhbmdlKVxyXG4gIGJsYW5rVmlkZW86ICdodHRwczovL2Nkbi5wbHlyLmlvL3N0YXRpYy9ibGFuay5tcDQnLFxyXG4gIC8vIFF1YWxpdHkgZGVmYXVsdFxyXG4gIHF1YWxpdHk6IHtcclxuICAgIGRlZmF1bHQ6IDU3NixcclxuICAgIG9wdGlvbnM6IFs0MzIwLCAyODgwLCAyMTYwLCAxNDQwLCAxMDgwLCA3MjAsIDU3NiwgNDgwLCAzNjAsIDI0MF1cclxuICB9LFxyXG4gIC8vIFNldCBsb29wc1xyXG4gIGxvb3A6IHtcclxuICAgIGFjdGl2ZTogZmFsc2UgLy8gc3RhcnQ6IG51bGwsXHJcbiAgICAvLyBlbmQ6IG51bGwsXHJcblxyXG4gIH0sXHJcbiAgLy8gU3BlZWQgZGVmYXVsdCBhbmQgb3B0aW9ucyB0byBkaXNwbGF5XHJcbiAgc3BlZWQ6IHtcclxuICAgIHNlbGVjdGVkOiAxLFxyXG4gICAgb3B0aW9uczogWzAuNSwgMC43NSwgMSwgMS4yNSwgMS41LCAxLjc1LCAyXVxyXG4gIH0sXHJcbiAgLy8gS2V5Ym9hcmQgc2hvcnRjdXQgc2V0dGluZ3NcclxuICBrZXlib2FyZDoge1xyXG4gICAgZm9jdXNlZDogdHJ1ZSxcclxuICAgIGdsb2JhbDogZmFsc2VcclxuICB9LFxyXG4gIC8vIERpc3BsYXkgdG9vbHRpcHNcclxuICB0b29sdGlwczoge1xyXG4gICAgY29udHJvbHM6IGZhbHNlLFxyXG4gICAgc2VlazogdHJ1ZVxyXG4gIH0sXHJcbiAgLy8gQ2FwdGlvbnMgc2V0dGluZ3NcclxuICBjYXB0aW9uczoge1xyXG4gICAgYWN0aXZlOiBmYWxzZSxcclxuICAgIGxhbmd1YWdlOiAnYXV0bycsXHJcbiAgICAvLyBMaXN0ZW4gdG8gbmV3IHRyYWNrcyBhZGRlZCBhZnRlciBQbHlyIGlzIGluaXRpYWxpemVkLlxyXG4gICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIHN0cmVhbWluZyBjYXB0aW9ucywgYnV0IG1heSByZXN1bHQgaW4gdW5zZWxlY3RhYmxlIG9wdGlvbnNcclxuICAgIHVwZGF0ZTogZmFsc2VcclxuICB9LFxyXG4gIC8vIEZ1bGxzY3JlZW4gc2V0dGluZ3NcclxuICBmdWxsc2NyZWVuOiB7XHJcbiAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgLy8gQWxsb3cgZnVsbHNjcmVlbj9cclxuICAgIGZhbGxiYWNrOiB0cnVlLFxyXG4gICAgLy8gRmFsbGJhY2sgdXNpbmcgZnVsbCB2aWV3cG9ydC93aW5kb3dcclxuICAgIGlvc05hdGl2ZTogZmFsc2UgLy8gVXNlIHRoZSBuYXRpdmUgZnVsbHNjcmVlbiBpbiBpT1MgKGRpc2FibGVzIGN1c3RvbSBjb250cm9scylcclxuXHJcbiAgfSxcclxuICAvLyBMb2NhbCBzdG9yYWdlXHJcbiAgc3RvcmFnZToge1xyXG4gICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgIGtleTogJ3BseXInXHJcbiAgfSxcclxuICAvLyBEZWZhdWx0IGNvbnRyb2xzXHJcbiAgY29udHJvbHM6IFsncGxheS1sYXJnZScsIC8vICdyZXN0YXJ0JyxcclxuICAvLyAncmV3aW5kJyxcclxuICAncGxheScsIC8vICdmYXN0LWZvcndhcmQnLFxyXG4gICdwcm9ncmVzcycsICdjdXJyZW50LXRpbWUnLCAvLyAnZHVyYXRpb24nLFxyXG4gICdtdXRlJywgJ3ZvbHVtZScsICdjYXB0aW9ucycsICdzZXR0aW5ncycsICdwaXAnLCAnYWlycGxheScsIC8vICdkb3dubG9hZCcsXHJcbiAgJ2Z1bGxzY3JlZW4nXSxcclxuICBzZXR0aW5nczogWydjYXB0aW9ucycsICdxdWFsaXR5JywgJ3NwZWVkJ10sXHJcbiAgLy8gTG9jYWxpc2F0aW9uXHJcbiAgaTE4bjoge1xyXG4gICAgcmVzdGFydDogJ1Jlc3RhcnQnLFxyXG4gICAgcmV3aW5kOiAnUmV3aW5kIHtzZWVrdGltZX1zJyxcclxuICAgIHBsYXk6ICdQbGF5JyxcclxuICAgIHBhdXNlOiAnUGF1c2UnLFxyXG4gICAgZmFzdEZvcndhcmQ6ICdGb3J3YXJkIHtzZWVrdGltZX1zJyxcclxuICAgIHNlZWs6ICdTZWVrJyxcclxuICAgIHNlZWtMYWJlbDogJ3tjdXJyZW50VGltZX0gb2Yge2R1cmF0aW9ufScsXHJcbiAgICBwbGF5ZWQ6ICdQbGF5ZWQnLFxyXG4gICAgYnVmZmVyZWQ6ICdCdWZmZXJlZCcsXHJcbiAgICBjdXJyZW50VGltZTogJ0N1cnJlbnQgdGltZScsXHJcbiAgICBkdXJhdGlvbjogJ0R1cmF0aW9uJyxcclxuICAgIHZvbHVtZTogJ1ZvbHVtZScsXHJcbiAgICBtdXRlOiAnTXV0ZScsXHJcbiAgICB1bm11dGU6ICdVbm11dGUnLFxyXG4gICAgZW5hYmxlQ2FwdGlvbnM6ICdFbmFibGUgY2FwdGlvbnMnLFxyXG4gICAgZGlzYWJsZUNhcHRpb25zOiAnRGlzYWJsZSBjYXB0aW9ucycsXHJcbiAgICBkb3dubG9hZDogJ0Rvd25sb2FkJyxcclxuICAgIGVudGVyRnVsbHNjcmVlbjogJ0VudGVyIGZ1bGxzY3JlZW4nLFxyXG4gICAgZXhpdEZ1bGxzY3JlZW46ICdFeGl0IGZ1bGxzY3JlZW4nLFxyXG4gICAgZnJhbWVUaXRsZTogJ1BsYXllciBmb3Ige3RpdGxlfScsXHJcbiAgICBjYXB0aW9uczogJ0NhcHRpb25zJyxcclxuICAgIHNldHRpbmdzOiAnU2V0dGluZ3MnLFxyXG4gICAgbWVudUJhY2s6ICdHbyBiYWNrIHRvIHByZXZpb3VzIG1lbnUnLFxyXG4gICAgc3BlZWQ6ICdTcGVlZCcsXHJcbiAgICBub3JtYWw6ICdOb3JtYWwnLFxyXG4gICAgcXVhbGl0eTogJ1F1YWxpdHknLFxyXG4gICAgbG9vcDogJ0xvb3AnLFxyXG4gICAgc3RhcnQ6ICdTdGFydCcsXHJcbiAgICBlbmQ6ICdFbmQnLFxyXG4gICAgYWxsOiAnQWxsJyxcclxuICAgIHJlc2V0OiAnUmVzZXQnLFxyXG4gICAgZGlzYWJsZWQ6ICdEaXNhYmxlZCcsXHJcbiAgICBlbmFibGVkOiAnRW5hYmxlZCcsXHJcbiAgICBhZHZlcnRpc2VtZW50OiAnQWQnLFxyXG4gICAgcXVhbGl0eUJhZGdlOiB7XHJcbiAgICAgIDIxNjA6ICc0SycsXHJcbiAgICAgIDE0NDA6ICdIRCcsXHJcbiAgICAgIDEwODA6ICdIRCcsXHJcbiAgICAgIDcyMDogJ0hEJyxcclxuICAgICAgNTc2OiAnU0QnLFxyXG4gICAgICA0ODA6ICdTRCdcclxuICAgIH1cclxuICB9LFxyXG4gIC8vIFVSTHNcclxuICB1cmxzOiB7XHJcbiAgICBkb3dubG9hZDogbnVsbCxcclxuICAgIHZpbWVvOiB7XHJcbiAgICAgIHNkazogJ2h0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS9hcGkvcGxheWVyLmpzJyxcclxuICAgICAgaWZyYW1lOiAnaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL3ZpZGVvL3swfT97MX0nLFxyXG4gICAgICBhcGk6ICdodHRwczovL3ZpbWVvLmNvbS9hcGkvdjIvdmlkZW8vezB9Lmpzb24nXHJcbiAgICB9LFxyXG4gICAgeW91dHViZToge1xyXG4gICAgICBzZGs6ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpJyxcclxuICAgICAgYXBpOiAnaHR0cHM6Ly9ub2VtYmVkLmNvbS9lbWJlZD91cmw9aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj17MH0nXHJcbiAgICB9LFxyXG4gICAgZ29vZ2xlSU1BOiB7XHJcbiAgICAgIHNkazogJ2h0dHBzOi8vaW1hc2RrLmdvb2dsZWFwaXMuY29tL2pzL3Nka2xvYWRlci9pbWEzLmpzJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8gQ3VzdG9tIGNvbnRyb2wgbGlzdGVuZXJzXHJcbiAgbGlzdGVuZXJzOiB7XHJcbiAgICBzZWVrOiBudWxsLFxyXG4gICAgcGxheTogbnVsbCxcclxuICAgIHBhdXNlOiBudWxsLFxyXG4gICAgcmVzdGFydDogbnVsbCxcclxuICAgIHJld2luZDogbnVsbCxcclxuICAgIGZhc3RGb3J3YXJkOiBudWxsLFxyXG4gICAgbXV0ZTogbnVsbCxcclxuICAgIHZvbHVtZTogbnVsbCxcclxuICAgIGNhcHRpb25zOiBudWxsLFxyXG4gICAgZG93bmxvYWQ6IG51bGwsXHJcbiAgICBmdWxsc2NyZWVuOiBudWxsLFxyXG4gICAgcGlwOiBudWxsLFxyXG4gICAgYWlycGxheTogbnVsbCxcclxuICAgIHNwZWVkOiBudWxsLFxyXG4gICAgcXVhbGl0eTogbnVsbCxcclxuICAgIGxvb3A6IG51bGwsXHJcbiAgICBsYW5ndWFnZTogbnVsbFxyXG4gIH0sXHJcbiAgLy8gRXZlbnRzIHRvIHdhdGNoIGFuZCBidWJibGVcclxuICBldmVudHM6IFsvLyBFdmVudHMgdG8gd2F0Y2ggb24gSFRNTDUgbWVkaWEgZWxlbWVudHMgYW5kIGJ1YmJsZVxyXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0d1aWRlL0V2ZW50cy9NZWRpYV9ldmVudHNcclxuICAnZW5kZWQnLCAncHJvZ3Jlc3MnLCAnc3RhbGxlZCcsICdwbGF5aW5nJywgJ3dhaXRpbmcnLCAnY2FucGxheScsICdjYW5wbGF5dGhyb3VnaCcsICdsb2Fkc3RhcnQnLCAnbG9hZGVkZGF0YScsICdsb2FkZWRtZXRhZGF0YScsICd0aW1ldXBkYXRlJywgJ3ZvbHVtZWNoYW5nZScsICdwbGF5JywgJ3BhdXNlJywgJ2Vycm9yJywgJ3NlZWtpbmcnLCAnc2Vla2VkJywgJ2VtcHRpZWQnLCAncmF0ZWNoYW5nZScsICdjdWVjaGFuZ2UnLCAvLyBDdXN0b20gZXZlbnRzXHJcbiAgJ2Rvd25sb2FkJywgJ2VudGVyZnVsbHNjcmVlbicsICdleGl0ZnVsbHNjcmVlbicsICdjYXB0aW9uc2VuYWJsZWQnLCAnY2FwdGlvbnNkaXNhYmxlZCcsICdsYW5ndWFnZWNoYW5nZScsICdjb250cm9sc2hpZGRlbicsICdjb250cm9sc3Nob3duJywgJ3JlYWR5JywgLy8gWW91VHViZVxyXG4gICdzdGF0ZWNoYW5nZScsIC8vIFF1YWxpdHlcclxuICAncXVhbGl0eWNoYW5nZScsIC8vIEFkc1xyXG4gICdhZHNsb2FkZWQnLCAnYWRzY29udGVudHBhdXNlJywgJ2Fkc2NvbnRlbnRyZXN1bWUnLCAnYWRzdGFydGVkJywgJ2Fkc21pZHBvaW50JywgJ2Fkc2NvbXBsZXRlJywgJ2Fkc2FsbGNvbXBsZXRlJywgJ2Fkc2ltcHJlc3Npb24nLCAnYWRzY2xpY2snXSxcclxuICAvLyBTZWxlY3RvcnNcclxuICAvLyBDaGFuZ2UgdGhlc2UgdG8gbWF0Y2ggeW91ciB0ZW1wbGF0ZSBpZiB1c2luZyBjdXN0b20gSFRNTFxyXG4gIHNlbGVjdG9yczoge1xyXG4gICAgZWRpdGFibGU6ICdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgW2NvbnRlbnRlZGl0YWJsZV0nLFxyXG4gICAgY29udGFpbmVyOiAnLnBseXInLFxyXG4gICAgY29udHJvbHM6IHtcclxuICAgICAgY29udGFpbmVyOiBudWxsLFxyXG4gICAgICB3cmFwcGVyOiAnLnBseXJfX2NvbnRyb2xzJ1xyXG4gICAgfSxcclxuICAgIGxhYmVsczogJ1tkYXRhLXBseXJdJyxcclxuICAgIGJ1dHRvbnM6IHtcclxuICAgICAgcGxheTogJ1tkYXRhLXBseXI9XCJwbGF5XCJdJyxcclxuICAgICAgcGF1c2U6ICdbZGF0YS1wbHlyPVwicGF1c2VcIl0nLFxyXG4gICAgICByZXN0YXJ0OiAnW2RhdGEtcGx5cj1cInJlc3RhcnRcIl0nLFxyXG4gICAgICByZXdpbmQ6ICdbZGF0YS1wbHlyPVwicmV3aW5kXCJdJyxcclxuICAgICAgZmFzdEZvcndhcmQ6ICdbZGF0YS1wbHlyPVwiZmFzdC1mb3J3YXJkXCJdJyxcclxuICAgICAgbXV0ZTogJ1tkYXRhLXBseXI9XCJtdXRlXCJdJyxcclxuICAgICAgY2FwdGlvbnM6ICdbZGF0YS1wbHlyPVwiY2FwdGlvbnNcIl0nLFxyXG4gICAgICBkb3dubG9hZDogJ1tkYXRhLXBseXI9XCJkb3dubG9hZFwiXScsXHJcbiAgICAgIGZ1bGxzY3JlZW46ICdbZGF0YS1wbHlyPVwiZnVsbHNjcmVlblwiXScsXHJcbiAgICAgIHBpcDogJ1tkYXRhLXBseXI9XCJwaXBcIl0nLFxyXG4gICAgICBhaXJwbGF5OiAnW2RhdGEtcGx5cj1cImFpcnBsYXlcIl0nLFxyXG4gICAgICBzZXR0aW5nczogJ1tkYXRhLXBseXI9XCJzZXR0aW5nc1wiXScsXHJcbiAgICAgIGxvb3A6ICdbZGF0YS1wbHlyPVwibG9vcFwiXSdcclxuICAgIH0sXHJcbiAgICBpbnB1dHM6IHtcclxuICAgICAgc2VlazogJ1tkYXRhLXBseXI9XCJzZWVrXCJdJyxcclxuICAgICAgdm9sdW1lOiAnW2RhdGEtcGx5cj1cInZvbHVtZVwiXScsXHJcbiAgICAgIHNwZWVkOiAnW2RhdGEtcGx5cj1cInNwZWVkXCJdJyxcclxuICAgICAgbGFuZ3VhZ2U6ICdbZGF0YS1wbHlyPVwibGFuZ3VhZ2VcIl0nLFxyXG4gICAgICBxdWFsaXR5OiAnW2RhdGEtcGx5cj1cInF1YWxpdHlcIl0nXHJcbiAgICB9LFxyXG4gICAgZGlzcGxheToge1xyXG4gICAgICBjdXJyZW50VGltZTogJy5wbHlyX190aW1lLS1jdXJyZW50JyxcclxuICAgICAgZHVyYXRpb246ICcucGx5cl9fdGltZS0tZHVyYXRpb24nLFxyXG4gICAgICBidWZmZXI6ICcucGx5cl9fcHJvZ3Jlc3NfX2J1ZmZlcicsXHJcbiAgICAgIGxvb3A6ICcucGx5cl9fcHJvZ3Jlc3NfX2xvb3AnLFxyXG4gICAgICAvLyBVc2VkIGxhdGVyXHJcbiAgICAgIHZvbHVtZTogJy5wbHlyX192b2x1bWUtLWRpc3BsYXknXHJcbiAgICB9LFxyXG4gICAgcHJvZ3Jlc3M6ICcucGx5cl9fcHJvZ3Jlc3MnLFxyXG4gICAgY2FwdGlvbnM6ICcucGx5cl9fY2FwdGlvbnMnLFxyXG4gICAgY2FwdGlvbjogJy5wbHlyX19jYXB0aW9uJ1xyXG4gIH0sXHJcbiAgLy8gQ2xhc3MgaG9va3MgYWRkZWQgdG8gdGhlIHBsYXllciBpbiBkaWZmZXJlbnQgc3RhdGVzXHJcbiAgY2xhc3NOYW1lczoge1xyXG4gICAgdHlwZTogJ3BseXItLXswfScsXHJcbiAgICBwcm92aWRlcjogJ3BseXItLXswfScsXHJcbiAgICB2aWRlbzogJ3BseXJfX3ZpZGVvLXdyYXBwZXInLFxyXG4gICAgZW1iZWQ6ICdwbHlyX192aWRlby1lbWJlZCcsXHJcbiAgICB2aWRlb0ZpeGVkUmF0aW86ICdwbHlyX192aWRlby13cmFwcGVyLS1maXhlZC1yYXRpbycsXHJcbiAgICBlbWJlZENvbnRhaW5lcjogJ3BseXJfX3ZpZGVvLWVtYmVkX19jb250YWluZXInLFxyXG4gICAgcG9zdGVyOiAncGx5cl9fcG9zdGVyJyxcclxuICAgIHBvc3RlckVuYWJsZWQ6ICdwbHlyX19wb3N0ZXItZW5hYmxlZCcsXHJcbiAgICBhZHM6ICdwbHlyX19hZHMnLFxyXG4gICAgY29udHJvbDogJ3BseXJfX2NvbnRyb2wnLFxyXG4gICAgY29udHJvbFByZXNzZWQ6ICdwbHlyX19jb250cm9sLS1wcmVzc2VkJyxcclxuICAgIHBsYXlpbmc6ICdwbHlyLS1wbGF5aW5nJyxcclxuICAgIHBhdXNlZDogJ3BseXItLXBhdXNlZCcsXHJcbiAgICBzdG9wcGVkOiAncGx5ci0tc3RvcHBlZCcsXHJcbiAgICBsb2FkaW5nOiAncGx5ci0tbG9hZGluZycsXHJcbiAgICBob3ZlcjogJ3BseXItLWhvdmVyJyxcclxuICAgIHRvb2x0aXA6ICdwbHlyX190b29sdGlwJyxcclxuICAgIGN1ZXM6ICdwbHlyX19jdWVzJyxcclxuICAgIGhpZGRlbjogJ3BseXJfX3NyLW9ubHknLFxyXG4gICAgaGlkZUNvbnRyb2xzOiAncGx5ci0taGlkZS1jb250cm9scycsXHJcbiAgICBpc0lvczogJ3BseXItLWlzLWlvcycsXHJcbiAgICBpc1RvdWNoOiAncGx5ci0taXMtdG91Y2gnLFxyXG4gICAgdWlTdXBwb3J0ZWQ6ICdwbHlyLS1mdWxsLXVpJyxcclxuICAgIG5vVHJhbnNpdGlvbjogJ3BseXItLW5vLXRyYW5zaXRpb24nLFxyXG4gICAgZGlzcGxheToge1xyXG4gICAgICB0aW1lOiAncGx5cl9fdGltZSdcclxuICAgIH0sXHJcbiAgICBtZW51OiB7XHJcbiAgICAgIHZhbHVlOiAncGx5cl9fbWVudV9fdmFsdWUnLFxyXG4gICAgICBiYWRnZTogJ3BseXJfX2JhZGdlJyxcclxuICAgICAgb3BlbjogJ3BseXItLW1lbnUtb3BlbidcclxuICAgIH0sXHJcbiAgICBjYXB0aW9uczoge1xyXG4gICAgICBlbmFibGVkOiAncGx5ci0tY2FwdGlvbnMtZW5hYmxlZCcsXHJcbiAgICAgIGFjdGl2ZTogJ3BseXItLWNhcHRpb25zLWFjdGl2ZSdcclxuICAgIH0sXHJcbiAgICBmdWxsc2NyZWVuOiB7XHJcbiAgICAgIGVuYWJsZWQ6ICdwbHlyLS1mdWxsc2NyZWVuLWVuYWJsZWQnLFxyXG4gICAgICBmYWxsYmFjazogJ3BseXItLWZ1bGxzY3JlZW4tZmFsbGJhY2snXHJcbiAgICB9LFxyXG4gICAgcGlwOiB7XHJcbiAgICAgIHN1cHBvcnRlZDogJ3BseXItLXBpcC1zdXBwb3J0ZWQnLFxyXG4gICAgICBhY3RpdmU6ICdwbHlyLS1waXAtYWN0aXZlJ1xyXG4gICAgfSxcclxuICAgIGFpcnBsYXk6IHtcclxuICAgICAgc3VwcG9ydGVkOiAncGx5ci0tYWlycGxheS1zdXBwb3J0ZWQnLFxyXG4gICAgICBhY3RpdmU6ICdwbHlyLS1haXJwbGF5LWFjdGl2ZSdcclxuICAgIH0sXHJcbiAgICB0YWJGb2N1czogJ3BseXJfX3RhYi1mb2N1cycsXHJcbiAgICBwcmV2aWV3VGh1bWJuYWlsczoge1xyXG4gICAgICAvLyBUb29sdGlwIHRodW1ic1xyXG4gICAgICB0aHVtYkNvbnRhaW5lcjogJ3BseXJfX3ByZXZpZXctdGh1bWInLFxyXG4gICAgICB0aHVtYkNvbnRhaW5lclNob3duOiAncGx5cl9fcHJldmlldy10aHVtYi0taXMtc2hvd24nLFxyXG4gICAgICBpbWFnZUNvbnRhaW5lcjogJ3BseXJfX3ByZXZpZXctdGh1bWJfX2ltYWdlLWNvbnRhaW5lcicsXHJcbiAgICAgIHRpbWVDb250YWluZXI6ICdwbHlyX19wcmV2aWV3LXRodW1iX190aW1lLWNvbnRhaW5lcicsXHJcbiAgICAgIC8vIFNjcnViYmluZ1xyXG4gICAgICBzY3J1YmJpbmdDb250YWluZXI6ICdwbHlyX19wcmV2aWV3LXNjcnViYmluZycsXHJcbiAgICAgIHNjcnViYmluZ0NvbnRhaW5lclNob3duOiAncGx5cl9fcHJldmlldy1zY3J1YmJpbmctLWlzLXNob3duJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8gRW1iZWQgYXR0cmlidXRlc1xyXG4gIGF0dHJpYnV0ZXM6IHtcclxuICAgIGVtYmVkOiB7XHJcbiAgICAgIHByb3ZpZGVyOiAnZGF0YS1wbHlyLXByb3ZpZGVyJyxcclxuICAgICAgaWQ6ICdkYXRhLXBseXItZW1iZWQtaWQnXHJcbiAgICB9XHJcbiAgfSxcclxuICAvLyBBZHZlcnRpc2VtZW50cyBwbHVnaW5cclxuICAvLyBSZWdpc3RlciBmb3IgYW4gYWNjb3VudCBoZXJlOiBodHRwOi8vdmkuYWkvcHVibGlzaGVyLXZpZGVvLW1vbmV0aXphdGlvbi8/YWlkPXBseXJpb1xyXG4gIGFkczoge1xyXG4gICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICBwdWJsaXNoZXJJZDogJycsXHJcbiAgICB0YWdVcmw6ICcnXHJcbiAgfSxcclxuICAvLyBQcmV2aWV3IFRodW1ibmFpbHMgcGx1Z2luXHJcbiAgcHJldmlld1RodW1ibmFpbHM6IHtcclxuICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgc3JjOiAnJ1xyXG4gIH0sXHJcbiAgLy8gVmltZW8gcGx1Z2luXHJcbiAgdmltZW86IHtcclxuICAgIGJ5bGluZTogZmFsc2UsXHJcbiAgICBwb3J0cmFpdDogZmFsc2UsXHJcbiAgICB0aXRsZTogZmFsc2UsXHJcbiAgICBzcGVlZDogdHJ1ZSxcclxuICAgIHRyYW5zcGFyZW50OiBmYWxzZVxyXG4gIH0sXHJcbiAgLy8gWW91VHViZSBwbHVnaW5cclxuICB5b3V0dWJlOiB7XHJcbiAgICBub0Nvb2tpZTogZmFsc2UsXHJcbiAgICAvLyBXaGV0aGVyIHRvIHVzZSBhbiBhbHRlcm5hdGl2ZSB2ZXJzaW9uIG9mIFlvdVR1YmUgd2l0aG91dCBjb29raWVzXHJcbiAgICByZWw6IDAsXHJcbiAgICAvLyBObyByZWxhdGVkIHZpZHNcclxuICAgIHNob3dpbmZvOiAwLFxyXG4gICAgLy8gSGlkZSBpbmZvXHJcbiAgICBpdl9sb2FkX3BvbGljeTogMyxcclxuICAgIC8vIEhpZGUgYW5ub3RhdGlvbnNcclxuICAgIG1vZGVzdGJyYW5kaW5nOiAxIC8vIEhpZGUgbG9nb3MgYXMgbXVjaCBhcyBwb3NzaWJsZSAodGhleSBzdGlsbCBzaG93IG9uZSBpbiB0aGUgY29ybmVyIHdoZW4gcGF1c2VkKVxyXG5cclxuICB9XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQbHlyIHN0YXRlc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgcGlwID0ge1xyXG4gIGFjdGl2ZTogJ3BpY3R1cmUtaW4tcGljdHVyZScsXHJcbiAgaW5hY3RpdmU6ICdpbmxpbmUnXHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQbHlyIHN1cHBvcnRlZCB0eXBlcyBhbmQgcHJvdmlkZXJzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBwcm92aWRlcnMgPSB7XHJcbiAgaHRtbDU6ICdodG1sNScsXHJcbiAgeW91dHViZTogJ3lvdXR1YmUnLFxyXG4gIHZpbWVvOiAndmltZW8nXHJcbn07XHJcbnZhciB0eXBlcyA9IHtcclxuICBhdWRpbzogJ2F1ZGlvJyxcclxuICB2aWRlbzogJ3ZpZGVvJ1xyXG59O1xyXG4vKipcclxuICogR2V0IHByb3ZpZGVyIGJ5IFVSTFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gZ2V0UHJvdmlkZXJCeVVybCh1cmwpIHtcclxuICAvLyBZb3VUdWJlXHJcbiAgaWYgKC9eKGh0dHBzPzpcXC9cXC8pPyh3d3dcXC4pPyh5b3V0dWJlXFwuY29tfHlvdXR1YmUtbm9jb29raWVcXC5jb218eW91dHVcXC4/YmUpXFwvLiskLy50ZXN0KHVybCkpIHtcclxuICAgIHJldHVybiBwcm92aWRlcnMueW91dHViZTtcclxuICB9IC8vIFZpbWVvXHJcblxyXG5cclxuICBpZiAoL15odHRwcz86XFwvXFwvcGxheWVyLnZpbWVvLmNvbVxcL3ZpZGVvXFwvXFxkezAsOX0oPz1cXGJ8XFwvKS8udGVzdCh1cmwpKSB7XHJcbiAgICByZXR1cm4gcHJvdmlkZXJzLnZpbWVvO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENvbnNvbGUgd3JhcHBlclxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgbm9vcCA9IGZ1bmN0aW9uIG5vb3AoKSB7fTtcclxuXHJcbnZhciBDb25zb2xlID1cclxuLyojX19QVVJFX18qL1xyXG5mdW5jdGlvbiAoKSB7XHJcbiAgZnVuY3Rpb24gQ29uc29sZSgpIHtcclxuICAgIHZhciBlbmFibGVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcclxuXHJcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29uc29sZSk7XHJcblxyXG4gICAgdGhpcy5lbmFibGVkID0gd2luZG93LmNvbnNvbGUgJiYgZW5hYmxlZDtcclxuXHJcbiAgICBpZiAodGhpcy5lbmFibGVkKSB7XHJcbiAgICAgIHRoaXMubG9nKCdEZWJ1Z2dpbmcgZW5hYmxlZCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUNsYXNzKENvbnNvbGUsIFt7XHJcbiAgICBrZXk6IFwibG9nXCIsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlZCA/IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5sb2csIGNvbnNvbGUpIDogbm9vcDtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwid2FyblwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgIHJldHVybiB0aGlzLmVuYWJsZWQgPyBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUud2FybiwgY29uc29sZSkgOiBub29wO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJlcnJvclwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgIHJldHVybiB0aGlzLmVuYWJsZWQgPyBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsIGNvbnNvbGUpIDogbm9vcDtcclxuICAgIH1cclxuICB9XSk7XHJcblxyXG4gIHJldHVybiBDb25zb2xlO1xyXG59KCk7XHJcblxyXG5mdW5jdGlvbiBvbkNoYW5nZSgpIHtcclxuICBpZiAoIXRoaXMuZW5hYmxlZCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH0gLy8gVXBkYXRlIHRvZ2dsZSBidXR0b25cclxuXHJcblxyXG4gIHZhciBidXR0b24gPSB0aGlzLnBsYXllci5lbGVtZW50cy5idXR0b25zLmZ1bGxzY3JlZW47XHJcblxyXG4gIGlmIChpcyQxLmVsZW1lbnQoYnV0dG9uKSkge1xyXG4gICAgYnV0dG9uLnByZXNzZWQgPSB0aGlzLmFjdGl2ZTtcclxuICB9IC8vIFRyaWdnZXIgYW4gZXZlbnRcclxuXHJcblxyXG4gIHRyaWdnZXJFdmVudC5jYWxsKHRoaXMucGxheWVyLCB0aGlzLnRhcmdldCwgdGhpcy5hY3RpdmUgPyAnZW50ZXJmdWxsc2NyZWVuJyA6ICdleGl0ZnVsbHNjcmVlbicsIHRydWUpOyAvLyBUcmFwIGZvY3VzIGluIGNvbnRhaW5lclxyXG5cclxuICBpZiAoIWJyb3dzZXIuaXNJb3MpIHtcclxuICAgIHRyYXBGb2N1cy5jYWxsKHRoaXMucGxheWVyLCB0aGlzLnRhcmdldCwgdGhpcy5hY3RpdmUpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlRmFsbGJhY2soKSB7XHJcbiAgdmFyIHRvZ2dsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XHJcblxyXG4gIC8vIFN0b3JlIG9yIHJlc3RvcmUgc2Nyb2xsIHBvc2l0aW9uXHJcbiAgaWYgKHRvZ2dsZSkge1xyXG4gICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IHtcclxuICAgICAgeDogd2luZG93LnNjcm9sbFggfHwgMCxcclxuICAgICAgeTogd2luZG93LnNjcm9sbFkgfHwgMFxyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgd2luZG93LnNjcm9sbFRvKHRoaXMuc2Nyb2xsUG9zaXRpb24ueCwgdGhpcy5zY3JvbGxQb3NpdGlvbi55KTtcclxuICB9IC8vIFRvZ2dsZSBzY3JvbGxcclxuXHJcblxyXG4gIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSB0b2dnbGUgPyAnaGlkZGVuJyA6ICcnOyAvLyBUb2dnbGUgY2xhc3MgaG9va1xyXG5cclxuICB0b2dnbGVDbGFzcyh0aGlzLnRhcmdldCwgdGhpcy5wbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMuZnVsbHNjcmVlbi5mYWxsYmFjaywgdG9nZ2xlKTsgLy8gRm9yY2UgZnVsbCB2aWV3cG9ydCBvbiBpUGhvbmUgWCtcclxuXHJcbiAgaWYgKGJyb3dzZXIuaXNJb3MpIHtcclxuICAgIHZhciB2aWV3cG9ydCA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwidmlld3BvcnRcIl0nKTtcclxuICAgIHZhciBwcm9wZXJ0eSA9ICd2aWV3cG9ydC1maXQ9Y292ZXInOyAvLyBJbmplY3QgdGhlIHZpZXdwb3J0IG1ldGEgaWYgcmVxdWlyZWRcclxuXHJcbiAgICBpZiAoIXZpZXdwb3J0KSB7XHJcbiAgICAgIHZpZXdwb3J0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWV0YScpO1xyXG4gICAgICB2aWV3cG9ydC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAndmlld3BvcnQnKTtcclxuICAgIH0gLy8gQ2hlY2sgaWYgdGhlIHByb3BlcnR5IGFscmVhZHkgZXhpc3RzXHJcblxyXG5cclxuICAgIHZhciBoYXNQcm9wZXJ0eSA9IGlzJDEuc3RyaW5nKHZpZXdwb3J0LmNvbnRlbnQpICYmIHZpZXdwb3J0LmNvbnRlbnQuaW5jbHVkZXMocHJvcGVydHkpO1xyXG5cclxuICAgIGlmICh0b2dnbGUpIHtcclxuICAgICAgdGhpcy5jbGVhbnVwVmlld3BvcnQgPSAhaGFzUHJvcGVydHk7XHJcblxyXG4gICAgICBpZiAoIWhhc1Byb3BlcnR5KSB7XHJcbiAgICAgICAgdmlld3BvcnQuY29udGVudCArPSBcIixcIi5jb25jYXQocHJvcGVydHkpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2xlYW51cFZpZXdwb3J0KSB7XHJcbiAgICAgIHZpZXdwb3J0LmNvbnRlbnQgPSB2aWV3cG9ydC5jb250ZW50LnNwbGl0KCcsJykuZmlsdGVyKGZ1bmN0aW9uIChwYXJ0KSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnQudHJpbSgpICE9PSBwcm9wZXJ0eTtcclxuICAgICAgfSkuam9pbignLCcpO1xyXG4gICAgfVxyXG4gIH0gLy8gVG9nZ2xlIGJ1dHRvbiBhbmQgZmlyZSBldmVudHNcclxuXHJcblxyXG4gIG9uQ2hhbmdlLmNhbGwodGhpcyk7XHJcbn1cclxuXHJcbnZhciBGdWxsc2NyZWVuID1cclxuLyojX19QVVJFX18qL1xyXG5mdW5jdGlvbiAoKSB7XHJcbiAgZnVuY3Rpb24gRnVsbHNjcmVlbihwbGF5ZXIpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZ1bGxzY3JlZW4pO1xyXG5cclxuICAgIC8vIEtlZXAgcmVmZXJlbmNlIHRvIHBhcmVudFxyXG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7IC8vIEdldCBwcmVmaXhcclxuXHJcbiAgICB0aGlzLnByZWZpeCA9IEZ1bGxzY3JlZW4ucHJlZml4O1xyXG4gICAgdGhpcy5wcm9wZXJ0eSA9IEZ1bGxzY3JlZW4ucHJvcGVydHk7IC8vIFNjcm9sbCBwb3NpdGlvblxyXG5cclxuICAgIHRoaXMuc2Nyb2xsUG9zaXRpb24gPSB7XHJcbiAgICAgIHg6IDAsXHJcbiAgICAgIHk6IDBcclxuICAgIH07IC8vIEZvcmNlIHRoZSB1c2Ugb2YgJ2Z1bGwgd2luZG93L2Jyb3dzZXInIHJhdGhlciB0aGFuIGZ1bGxzY3JlZW5cclxuXHJcbiAgICB0aGlzLmZvcmNlRmFsbGJhY2sgPSBwbGF5ZXIuY29uZmlnLmZ1bGxzY3JlZW4uZmFsbGJhY2sgPT09ICdmb3JjZSc7IC8vIFJlZ2lzdGVyIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgLy8gSGFuZGxlIGV2ZW50IChpbmNhc2UgdXNlciBwcmVzc2VzIGVzY2FwZSBldGMpXHJcblxyXG4gICAgb24uY2FsbCh0aGlzLnBsYXllciwgZG9jdW1lbnQsIHRoaXMucHJlZml4ID09PSAnbXMnID8gJ01TRnVsbHNjcmVlbkNoYW5nZScgOiBcIlwiLmNvbmNhdCh0aGlzLnByZWZpeCwgXCJmdWxsc2NyZWVuY2hhbmdlXCIpLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIFRPRE86IEZpbHRlciBmb3IgdGFyZ2V0Pz9cclxuICAgICAgb25DaGFuZ2UuY2FsbChfdGhpcyk7XHJcbiAgICB9KTsgLy8gRnVsbHNjcmVlbiB0b2dnbGUgb24gZG91YmxlIGNsaWNrXHJcblxyXG4gICAgb24uY2FsbCh0aGlzLnBsYXllciwgdGhpcy5wbGF5ZXIuZWxlbWVudHMuY29udGFpbmVyLCAnZGJsY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgLy8gSWdub3JlIGRvdWJsZSBjbGljayBpbiBjb250cm9sc1xyXG4gICAgICBpZiAoaXMkMS5lbGVtZW50KF90aGlzLnBsYXllci5lbGVtZW50cy5jb250cm9scykgJiYgX3RoaXMucGxheWVyLmVsZW1lbnRzLmNvbnRyb2xzLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIF90aGlzLnRvZ2dsZSgpO1xyXG4gICAgfSk7IC8vIFVwZGF0ZSB0aGUgVUlcclxuXHJcbiAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gIH0gLy8gRGV0ZXJtaW5lIGlmIG5hdGl2ZSBzdXBwb3J0ZWRcclxuXHJcblxyXG4gIF9jcmVhdGVDbGFzcyhGdWxsc2NyZWVuLCBbe1xyXG4gICAga2V5OiBcInVwZGF0ZVwiLFxyXG4gICAgLy8gVXBkYXRlIFVJXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgICBpZiAodGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgdmFyIG1vZGU7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmZvcmNlRmFsbGJhY2spIHtcclxuICAgICAgICAgIG1vZGUgPSAnRmFsbGJhY2sgKGZvcmNlZCknO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoRnVsbHNjcmVlbi5uYXRpdmUpIHtcclxuICAgICAgICAgIG1vZGUgPSAnTmF0aXZlJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbW9kZSA9ICdGYWxsYmFjayc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBsYXllci5kZWJ1Zy5sb2coXCJcIi5jb25jYXQobW9kZSwgXCIgZnVsbHNjcmVlbiBlbmFibGVkXCIpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnBsYXllci5kZWJ1Zy5sb2coJ0Z1bGxzY3JlZW4gbm90IHN1cHBvcnRlZCBhbmQgZmFsbGJhY2sgZGlzYWJsZWQnKTtcclxuICAgICAgfSAvLyBBZGQgc3R5bGluZyBob29rIHRvIHNob3cgYnV0dG9uXHJcblxyXG5cclxuICAgICAgdG9nZ2xlQ2xhc3ModGhpcy5wbGF5ZXIuZWxlbWVudHMuY29udGFpbmVyLCB0aGlzLnBsYXllci5jb25maWcuY2xhc3NOYW1lcy5mdWxsc2NyZWVuLmVuYWJsZWQsIHRoaXMuZW5hYmxlZCk7XHJcbiAgICB9IC8vIE1ha2UgYW4gZWxlbWVudCBmdWxsc2NyZWVuXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJlbnRlclwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVudGVyKCkge1xyXG4gICAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSAvLyBpT1MgbmF0aXZlIGZ1bGxzY3JlZW4gZG9lc24ndCBuZWVkIHRoZSByZXF1ZXN0IHN0ZXBcclxuXHJcblxyXG4gICAgICBpZiAoYnJvd3Nlci5pc0lvcyAmJiB0aGlzLnBsYXllci5jb25maWcuZnVsbHNjcmVlbi5pb3NOYXRpdmUpIHtcclxuICAgICAgICB0aGlzLnRhcmdldC53ZWJraXRFbnRlckZ1bGxzY3JlZW4oKTtcclxuICAgICAgfSBlbHNlIGlmICghRnVsbHNjcmVlbi5uYXRpdmUgfHwgdGhpcy5mb3JjZUZhbGxiYWNrKSB7XHJcbiAgICAgICAgdG9nZ2xlRmFsbGJhY2suY2FsbCh0aGlzLCB0cnVlKTtcclxuICAgICAgfSBlbHNlIGlmICghdGhpcy5wcmVmaXgpIHtcclxuICAgICAgICB0aGlzLnRhcmdldC5yZXF1ZXN0RnVsbHNjcmVlbigpO1xyXG4gICAgICB9IGVsc2UgaWYgKCFpcyQxLmVtcHR5KHRoaXMucHJlZml4KSkge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0W1wiXCIuY29uY2F0KHRoaXMucHJlZml4LCBcIlJlcXVlc3RcIikuY29uY2F0KHRoaXMucHJvcGVydHkpXSgpO1xyXG4gICAgICB9XHJcbiAgICB9IC8vIEJhaWwgZnJvbSBmdWxsc2NyZWVuXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJleGl0XCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhpdCgpIHtcclxuICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gLy8gaU9TIG5hdGl2ZSBmdWxsc2NyZWVuXHJcblxyXG5cclxuICAgICAgaWYgKGJyb3dzZXIuaXNJb3MgJiYgdGhpcy5wbGF5ZXIuY29uZmlnLmZ1bGxzY3JlZW4uaW9zTmF0aXZlKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtcclxuICAgICAgICB0aGlzLnBsYXllci5wbGF5KCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIUZ1bGxzY3JlZW4ubmF0aXZlIHx8IHRoaXMuZm9yY2VGYWxsYmFjaykge1xyXG4gICAgICAgIHRvZ2dsZUZhbGxiYWNrLmNhbGwodGhpcywgZmFsc2UpO1xyXG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnByZWZpeCkge1xyXG4gICAgICAgIChkb2N1bWVudC5jYW5jZWxGdWxsU2NyZWVuIHx8IGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKS5jYWxsKGRvY3VtZW50KTtcclxuICAgICAgfSBlbHNlIGlmICghaXMkMS5lbXB0eSh0aGlzLnByZWZpeCkpIHtcclxuICAgICAgICB2YXIgYWN0aW9uID0gdGhpcy5wcmVmaXggPT09ICdtb3onID8gJ0NhbmNlbCcgOiAnRXhpdCc7XHJcbiAgICAgICAgZG9jdW1lbnRbXCJcIi5jb25jYXQodGhpcy5wcmVmaXgpLmNvbmNhdChhY3Rpb24pLmNvbmNhdCh0aGlzLnByb3BlcnR5KV0oKTtcclxuICAgICAgfVxyXG4gICAgfSAvLyBUb2dnbGUgc3RhdGVcclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInRvZ2dsZVwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHtcclxuICAgICAgaWYgKCF0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuZW50ZXIoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmV4aXQoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJ1c2luZ05hdGl2ZVwiLFxyXG4gICAgLy8gSWYgd2UncmUgYWN0dWFsbHkgdXNpbmcgbmF0aXZlXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgcmV0dXJuIEZ1bGxzY3JlZW4ubmF0aXZlICYmICF0aGlzLmZvcmNlRmFsbGJhY2s7XHJcbiAgICB9IC8vIEdldCB0aGUgcHJlZml4IGZvciBoYW5kbGVyc1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiZW5hYmxlZFwiLFxyXG4gICAgLy8gRGV0ZXJtaW5lIGlmIGZ1bGxzY3JlZW4gaXMgZW5hYmxlZFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiAoRnVsbHNjcmVlbi5uYXRpdmUgfHwgdGhpcy5wbGF5ZXIuY29uZmlnLmZ1bGxzY3JlZW4uZmFsbGJhY2spICYmIHRoaXMucGxheWVyLmNvbmZpZy5mdWxsc2NyZWVuLmVuYWJsZWQgJiYgdGhpcy5wbGF5ZXIuc3VwcG9ydGVkLnVpICYmIHRoaXMucGxheWVyLmlzVmlkZW87XHJcbiAgICB9IC8vIEdldCBhY3RpdmUgc3RhdGVcclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImFjdGl2ZVwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9IC8vIEZhbGxiYWNrIHVzaW5nIGNsYXNzbmFtZVxyXG5cclxuXHJcbiAgICAgIGlmICghRnVsbHNjcmVlbi5uYXRpdmUgfHwgdGhpcy5mb3JjZUZhbGxiYWNrKSB7XHJcbiAgICAgICAgcmV0dXJuIGhhc0NsYXNzKHRoaXMudGFyZ2V0LCB0aGlzLnBsYXllci5jb25maWcuY2xhc3NOYW1lcy5mdWxsc2NyZWVuLmZhbGxiYWNrKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGVsZW1lbnQgPSAhdGhpcy5wcmVmaXggPyBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCA6IGRvY3VtZW50W1wiXCIuY29uY2F0KHRoaXMucHJlZml4KS5jb25jYXQodGhpcy5wcm9wZXJ0eSwgXCJFbGVtZW50XCIpXTtcclxuICAgICAgcmV0dXJuIGVsZW1lbnQgPT09IHRoaXMudGFyZ2V0O1xyXG4gICAgfSAvLyBHZXQgdGFyZ2V0IGVsZW1lbnRcclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInRhcmdldFwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiBicm93c2VyLmlzSW9zICYmIHRoaXMucGxheWVyLmNvbmZpZy5mdWxsc2NyZWVuLmlvc05hdGl2ZSA/IHRoaXMucGxheWVyLm1lZGlhIDogdGhpcy5wbGF5ZXIuZWxlbWVudHMuY29udGFpbmVyO1xyXG4gICAgfVxyXG4gIH1dLCBbe1xyXG4gICAga2V5OiBcIm5hdGl2ZVwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiAhIShkb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZCB8fCBkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCB8fCBkb2N1bWVudC5tb3pGdWxsU2NyZWVuRW5hYmxlZCB8fCBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbmFibGVkKTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwicHJlZml4XCIsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgLy8gTm8gcHJlZml4XHJcbiAgICAgIGlmIChpcyQxLmZ1bmN0aW9uKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSkge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgICAgfSAvLyBDaGVjayBmb3IgZnVsbHNjcmVlbiBzdXBwb3J0IGJ5IHZlbmRvciBwcmVmaXhcclxuXHJcblxyXG4gICAgICB2YXIgdmFsdWUgPSAnJztcclxuICAgICAgdmFyIHByZWZpeGVzID0gWyd3ZWJraXQnLCAnbW96JywgJ21zJ107XHJcbiAgICAgIHByZWZpeGVzLnNvbWUoZnVuY3Rpb24gKHByZSkge1xyXG4gICAgICAgIGlmIChpcyQxLmZ1bmN0aW9uKGRvY3VtZW50W1wiXCIuY29uY2F0KHByZSwgXCJFeGl0RnVsbHNjcmVlblwiKV0pIHx8IGlzJDEuZnVuY3Rpb24oZG9jdW1lbnRbXCJcIi5jb25jYXQocHJlLCBcIkNhbmNlbEZ1bGxTY3JlZW5cIildKSkge1xyXG4gICAgICAgICAgdmFsdWUgPSBwcmU7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwicHJvcGVydHlcIixcclxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wcmVmaXggPT09ICdtb3onID8gJ0Z1bGxTY3JlZW4nIDogJ0Z1bGxzY3JlZW4nO1xyXG4gICAgfVxyXG4gIH1dKTtcclxuXHJcbiAgcmV0dXJuIEZ1bGxzY3JlZW47XHJcbn0oKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIExvYWQgaW1hZ2UgYXZvaWRpbmcgeGhyL2ZldGNoIENPUlMgaXNzdWVzXHJcbi8vIFNlcnZlciBzdGF0dXMgY2FuJ3QgYmUgb2J0YWluZWQgdGhpcyB3YXkgdW5mb3J0dW5hdGVseSwgc28gdGhpcyB1c2VzIFwibmF0dXJhbFdpZHRoXCIgdG8gZGV0ZXJtaW5lIGlmIHRoZSBpbWFnZSBoYXMgbG9hZGVkXHJcbi8vIEJ5IGRlZmF1bHQgaXQgY2hlY2tzIGlmIGl0IGlzIGF0IGxlYXN0IDFweCwgYnV0IHlvdSBjYW4gYWRkIGEgc2Vjb25kIGFyZ3VtZW50IHRvIGNoYW5nZSB0aGlzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmZ1bmN0aW9uIGxvYWRJbWFnZShzcmMpIHtcclxuICB2YXIgbWluV2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlcigpIHtcclxuICAgICAgZGVsZXRlIGltYWdlLm9ubG9hZDtcclxuICAgICAgZGVsZXRlIGltYWdlLm9uZXJyb3I7XHJcbiAgICAgIChpbWFnZS5uYXR1cmFsV2lkdGggPj0gbWluV2lkdGggPyByZXNvbHZlIDogcmVqZWN0KShpbWFnZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIE9iamVjdC5hc3NpZ24oaW1hZ2UsIHtcclxuICAgICAgb25sb2FkOiBoYW5kbGVyLFxyXG4gICAgICBvbmVycm9yOiBoYW5kbGVyLFxyXG4gICAgICBzcmM6IHNyY1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciB1aSA9IHtcclxuICBhZGRTdHlsZUhvb2s6IGZ1bmN0aW9uIGFkZFN0eWxlSG9vaygpIHtcclxuICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLCB0aGlzLmNvbmZpZy5zZWxlY3RvcnMuY29udGFpbmVyLnJlcGxhY2UoJy4nLCAnJyksIHRydWUpO1xyXG4gICAgdG9nZ2xlQ2xhc3ModGhpcy5lbGVtZW50cy5jb250YWluZXIsIHRoaXMuY29uZmlnLmNsYXNzTmFtZXMudWlTdXBwb3J0ZWQsIHRoaXMuc3VwcG9ydGVkLnVpKTtcclxuICB9LFxyXG4gIC8vIFRvZ2dsZSBuYXRpdmUgSFRNTDUgbWVkaWEgY29udHJvbHNcclxuICB0b2dnbGVOYXRpdmVDb250cm9sczogZnVuY3Rpb24gdG9nZ2xlTmF0aXZlQ29udHJvbHMoKSB7XHJcbiAgICB2YXIgdG9nZ2xlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcclxuXHJcbiAgICBpZiAodG9nZ2xlICYmIHRoaXMuaXNIVE1MNSkge1xyXG4gICAgICB0aGlzLm1lZGlhLnNldEF0dHJpYnV0ZSgnY29udHJvbHMnLCAnJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1lZGlhLnJlbW92ZUF0dHJpYnV0ZSgnY29udHJvbHMnKTtcclxuICAgIH1cclxuICB9LFxyXG4gIC8vIFNldHVwIHRoZSBVSVxyXG4gIGJ1aWxkOiBmdW5jdGlvbiBidWlsZCgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgLy8gUmUtYXR0YWNoIG1lZGlhIGVsZW1lbnQgbGlzdGVuZXJzXHJcbiAgICAvLyBUT0RPOiBVc2UgZXZlbnQgYnViYmxpbmc/XHJcbiAgICB0aGlzLmxpc3RlbmVycy5tZWRpYSgpOyAvLyBEb24ndCBzZXR1cCBpbnRlcmZhY2UgaWYgbm8gc3VwcG9ydFxyXG5cclxuICAgIGlmICghdGhpcy5zdXBwb3J0ZWQudWkpIHtcclxuICAgICAgdGhpcy5kZWJ1Zy53YXJuKFwiQmFzaWMgc3VwcG9ydCBvbmx5IGZvciBcIi5jb25jYXQodGhpcy5wcm92aWRlciwgXCIgXCIpLmNvbmNhdCh0aGlzLnR5cGUpKTsgLy8gUmVzdG9yZSBuYXRpdmUgY29udHJvbHNcclxuXHJcbiAgICAgIHVpLnRvZ2dsZU5hdGl2ZUNvbnRyb2xzLmNhbGwodGhpcywgdHJ1ZSk7IC8vIEJhaWxcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gSW5qZWN0IGN1c3RvbSBjb250cm9scyBpZiBub3QgcHJlc2VudFxyXG5cclxuXHJcbiAgICBpZiAoIWlzJDEuZWxlbWVudCh0aGlzLmVsZW1lbnRzLmNvbnRyb2xzKSkge1xyXG4gICAgICAvLyBJbmplY3QgY3VzdG9tIGNvbnRyb2xzXHJcbiAgICAgIGNvbnRyb2xzLmluamVjdC5jYWxsKHRoaXMpOyAvLyBSZS1hdHRhY2ggY29udHJvbCBsaXN0ZW5lcnNcclxuXHJcbiAgICAgIHRoaXMubGlzdGVuZXJzLmNvbnRyb2xzKCk7XHJcbiAgICB9IC8vIFJlbW92ZSBuYXRpdmUgY29udHJvbHNcclxuXHJcblxyXG4gICAgdWkudG9nZ2xlTmF0aXZlQ29udHJvbHMuY2FsbCh0aGlzKTsgLy8gU2V0dXAgY2FwdGlvbnMgZm9yIEhUTUw1XHJcblxyXG4gICAgaWYgKHRoaXMuaXNIVE1MNSkge1xyXG4gICAgICBjYXB0aW9ucy5zZXR1cC5jYWxsKHRoaXMpO1xyXG4gICAgfSAvLyBSZXNldCB2b2x1bWVcclxuXHJcblxyXG4gICAgdGhpcy52b2x1bWUgPSBudWxsOyAvLyBSZXNldCBtdXRlIHN0YXRlXHJcblxyXG4gICAgdGhpcy5tdXRlZCA9IG51bGw7IC8vIFJlc2V0IGxvb3Agc3RhdGVcclxuXHJcbiAgICB0aGlzLmxvb3AgPSBudWxsOyAvLyBSZXNldCBxdWFsaXR5IHNldHRpbmdcclxuXHJcbiAgICB0aGlzLnF1YWxpdHkgPSBudWxsOyAvLyBSZXNldCBzcGVlZFxyXG5cclxuICAgIHRoaXMuc3BlZWQgPSBudWxsOyAvLyBSZXNldCB2b2x1bWUgZGlzcGxheVxyXG5cclxuICAgIGNvbnRyb2xzLnVwZGF0ZVZvbHVtZS5jYWxsKHRoaXMpOyAvLyBSZXNldCB0aW1lIGRpc3BsYXlcclxuXHJcbiAgICBjb250cm9scy50aW1lVXBkYXRlLmNhbGwodGhpcyk7IC8vIFVwZGF0ZSB0aGUgVUlcclxuXHJcbiAgICB1aS5jaGVja1BsYXlpbmcuY2FsbCh0aGlzKTsgLy8gQ2hlY2sgZm9yIHBpY3R1cmUtaW4tcGljdHVyZSBzdXBwb3J0XHJcblxyXG4gICAgdG9nZ2xlQ2xhc3ModGhpcy5lbGVtZW50cy5jb250YWluZXIsIHRoaXMuY29uZmlnLmNsYXNzTmFtZXMucGlwLnN1cHBvcnRlZCwgc3VwcG9ydC5waXAgJiYgdGhpcy5pc0hUTUw1ICYmIHRoaXMuaXNWaWRlbyk7IC8vIENoZWNrIGZvciBhaXJwbGF5IHN1cHBvcnRcclxuXHJcbiAgICB0b2dnbGVDbGFzcyh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lciwgdGhpcy5jb25maWcuY2xhc3NOYW1lcy5haXJwbGF5LnN1cHBvcnRlZCwgc3VwcG9ydC5haXJwbGF5ICYmIHRoaXMuaXNIVE1MNSk7IC8vIEFkZCBpT1MgY2xhc3NcclxuXHJcbiAgICB0b2dnbGVDbGFzcyh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lciwgdGhpcy5jb25maWcuY2xhc3NOYW1lcy5pc0lvcywgYnJvd3Nlci5pc0lvcyk7IC8vIEFkZCB0b3VjaCBjbGFzc1xyXG5cclxuICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLCB0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmlzVG91Y2gsIHRoaXMudG91Y2gpOyAvLyBSZWFkeSBmb3IgQVBJIGNhbGxzXHJcblxyXG4gICAgdGhpcy5yZWFkeSA9IHRydWU7IC8vIFJlYWR5IGV2ZW50IGF0IGVuZCBvZiBleGVjdXRpb24gc3RhY2tcclxuXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgdHJpZ2dlckV2ZW50LmNhbGwoX3RoaXMsIF90aGlzLm1lZGlhLCAncmVhZHknKTtcclxuICAgIH0sIDApOyAvLyBTZXQgdGhlIHRpdGxlXHJcblxyXG4gICAgdWkuc2V0VGl0bGUuY2FsbCh0aGlzKTsgLy8gQXNzdXJlIHRoZSBwb3N0ZXIgaW1hZ2UgaXMgc2V0LCBpZiB0aGUgcHJvcGVydHkgd2FzIGFkZGVkIGJlZm9yZSB0aGUgZWxlbWVudCB3YXMgY3JlYXRlZFxyXG5cclxuICAgIGlmICh0aGlzLnBvc3Rlcikge1xyXG4gICAgICB1aS5zZXRQb3N0ZXIuY2FsbCh0aGlzLCB0aGlzLnBvc3RlciwgZmFsc2UpLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTtcclxuICAgIH0gLy8gTWFudWFsbHkgc2V0IHRoZSBkdXJhdGlvbiBpZiB1c2VyIGhhcyBvdmVycmlkZGVuIGl0LlxyXG4gICAgLy8gVGhlIGV2ZW50IGxpc3RlbmVycyBmb3IgaXQgZG9lc24ndCBnZXQgY2FsbGVkIGlmIHByZWxvYWQgaXMgZGlzYWJsZWQgKCM3MDEpXHJcblxyXG5cclxuICAgIGlmICh0aGlzLmNvbmZpZy5kdXJhdGlvbikge1xyXG4gICAgICBjb250cm9scy5kdXJhdGlvblVwZGF0ZS5jYWxsKHRoaXMpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8gU2V0dXAgYXJpYSBhdHRyaWJ1dGUgZm9yIHBsYXkgYW5kIGlmcmFtZSB0aXRsZVxyXG4gIHNldFRpdGxlOiBmdW5jdGlvbiBzZXRUaXRsZSgpIHtcclxuICAgIC8vIEZpbmQgdGhlIGN1cnJlbnQgdGV4dFxyXG4gICAgdmFyIGxhYmVsID0gaTE4bi5nZXQoJ3BsYXknLCB0aGlzLmNvbmZpZyk7IC8vIElmIHRoZXJlJ3MgYSBtZWRpYSB0aXRsZSBzZXQsIHVzZSB0aGF0IGZvciB0aGUgbGFiZWxcclxuXHJcbiAgICBpZiAoaXMkMS5zdHJpbmcodGhpcy5jb25maWcudGl0bGUpICYmICFpcyQxLmVtcHR5KHRoaXMuY29uZmlnLnRpdGxlKSkge1xyXG4gICAgICBsYWJlbCArPSBcIiwgXCIuY29uY2F0KHRoaXMuY29uZmlnLnRpdGxlKTtcclxuICAgIH0gLy8gSWYgdGhlcmUncyBhIHBsYXkgYnV0dG9uLCBzZXQgbGFiZWxcclxuXHJcblxyXG4gICAgQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnRzLmJ1dHRvbnMucGxheSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoYnV0dG9uKSB7XHJcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBsYWJlbCk7XHJcbiAgICB9KTsgLy8gU2V0IGlmcmFtZSB0aXRsZVxyXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3NhbXBvdHRzL3BseXIvaXNzdWVzLzEyNFxyXG5cclxuICAgIGlmICh0aGlzLmlzRW1iZWQpIHtcclxuICAgICAgdmFyIGlmcmFtZSA9IGdldEVsZW1lbnQuY2FsbCh0aGlzLCAnaWZyYW1lJyk7XHJcblxyXG4gICAgICBpZiAoIWlzJDEuZWxlbWVudChpZnJhbWUpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IC8vIERlZmF1bHQgdG8gbWVkaWEgdHlwZVxyXG5cclxuXHJcbiAgICAgIHZhciB0aXRsZSA9ICFpcyQxLmVtcHR5KHRoaXMuY29uZmlnLnRpdGxlKSA/IHRoaXMuY29uZmlnLnRpdGxlIDogJ3ZpZGVvJztcclxuICAgICAgdmFyIGZvcm1hdCA9IGkxOG4uZ2V0KCdmcmFtZVRpdGxlJywgdGhpcy5jb25maWcpO1xyXG4gICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCd0aXRsZScsIGZvcm1hdC5yZXBsYWNlKCd7dGl0bGV9JywgdGl0bGUpKTtcclxuICAgIH1cclxuICB9LFxyXG4gIC8vIFRvZ2dsZSBwb3N0ZXJcclxuICB0b2dnbGVQb3N0ZXI6IGZ1bmN0aW9uIHRvZ2dsZVBvc3RlcihlbmFibGUpIHtcclxuICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLCB0aGlzLmNvbmZpZy5jbGFzc05hbWVzLnBvc3RlckVuYWJsZWQsIGVuYWJsZSk7XHJcbiAgfSxcclxuICAvLyBTZXQgdGhlIHBvc3RlciBpbWFnZSAoYXN5bmMpXHJcbiAgLy8gVXNlZCBpbnRlcm5hbGx5IGZvciB0aGUgcG9zdGVyIHNldHRlciwgd2l0aCB0aGUgcGFzc2l2ZSBvcHRpb24gZm9yY2VkIHRvIGZhbHNlXHJcbiAgc2V0UG9zdGVyOiBmdW5jdGlvbiBzZXRQb3N0ZXIocG9zdGVyKSB7XHJcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcclxuXHJcbiAgICB2YXIgcGFzc2l2ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcclxuXHJcbiAgICAvLyBEb24ndCBvdmVycmlkZSBpZiBjYWxsIGlzIHBhc3NpdmVcclxuICAgIGlmIChwYXNzaXZlICYmIHRoaXMucG9zdGVyKSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1Bvc3RlciBhbHJlYWR5IHNldCcpKTtcclxuICAgIH0gLy8gU2V0IHByb3BlcnR5IHN5bmNocm9ub3VzbHkgdG8gcmVzcGVjdCB0aGUgY2FsbCBvcmRlclxyXG5cclxuXHJcbiAgICB0aGlzLm1lZGlhLnNldEF0dHJpYnV0ZSgncG9zdGVyJywgcG9zdGVyKTsgLy8gV2FpdCB1bnRpbCB1aSBpcyByZWFkeVxyXG5cclxuICAgIHJldHVybiByZWFkeS5jYWxsKHRoaXMpIC8vIExvYWQgaW1hZ2VcclxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIGxvYWRJbWFnZShwb3N0ZXIpO1xyXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAvLyBIaWRlIHBvc3RlciBvbiBlcnJvciB1bmxlc3MgaXQncyBiZWVuIHNldCBieSBhbm90aGVyIGNhbGxcclxuICAgICAgaWYgKHBvc3RlciA9PT0gX3RoaXMyLnBvc3Rlcikge1xyXG4gICAgICAgIHVpLnRvZ2dsZVBvc3Rlci5jYWxsKF90aGlzMiwgZmFsc2UpO1xyXG4gICAgICB9IC8vIFJldGhyb3dcclxuXHJcblxyXG4gICAgICB0aHJvdyBlcnI7XHJcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgLy8gUHJldmVudCByYWNlIGNvbmRpdGlvbnNcclxuICAgICAgaWYgKHBvc3RlciAhPT0gX3RoaXMyLnBvc3Rlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0UG9zdGVyIGNhbmNlbGxlZCBieSBsYXRlciBjYWxsIHRvIHNldFBvc3RlcicpO1xyXG4gICAgICB9XHJcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgT2JqZWN0LmFzc2lnbihfdGhpczIuZWxlbWVudHMucG9zdGVyLnN0eWxlLCB7XHJcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcInVybCgnXCIuY29uY2F0KHBvc3RlciwgXCInKVwiKSxcclxuICAgICAgICAvLyBSZXNldCBiYWNrZ3JvdW5kU2l6ZSBhcyB3ZWxsIChzaW5jZSBpdCBjYW4gYmUgc2V0IHRvIFwiY292ZXJcIiBmb3IgcGFkZGVkIHRodW1ibmFpbHMgZm9yIHlvdXR1YmUpXHJcbiAgICAgICAgYmFja2dyb3VuZFNpemU6ICcnXHJcbiAgICAgIH0pO1xyXG4gICAgICB1aS50b2dnbGVQb3N0ZXIuY2FsbChfdGhpczIsIHRydWUpO1xyXG4gICAgICByZXR1cm4gcG9zdGVyO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICAvLyBDaGVjayBwbGF5aW5nIHN0YXRlXHJcbiAgY2hlY2tQbGF5aW5nOiBmdW5jdGlvbiBjaGVja1BsYXlpbmcoZXZlbnQpIHtcclxuICAgIHZhciBfdGhpczMgPSB0aGlzO1xyXG5cclxuICAgIC8vIENsYXNzIGhvb2tzXHJcbiAgICB0b2dnbGVDbGFzcyh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lciwgdGhpcy5jb25maWcuY2xhc3NOYW1lcy5wbGF5aW5nLCB0aGlzLnBsYXlpbmcpO1xyXG4gICAgdG9nZ2xlQ2xhc3ModGhpcy5lbGVtZW50cy5jb250YWluZXIsIHRoaXMuY29uZmlnLmNsYXNzTmFtZXMucGF1c2VkLCB0aGlzLnBhdXNlZCk7XHJcbiAgICB0b2dnbGVDbGFzcyh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lciwgdGhpcy5jb25maWcuY2xhc3NOYW1lcy5zdG9wcGVkLCB0aGlzLnN0b3BwZWQpOyAvLyBTZXQgc3RhdGVcclxuXHJcbiAgICBBcnJheS5mcm9tKHRoaXMuZWxlbWVudHMuYnV0dG9ucy5wbGF5IHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHtcclxuICAgICAgICBwcmVzc2VkOiBfdGhpczMucGxheWluZ1xyXG4gICAgICB9KTtcclxuICAgIH0pOyAvLyBPbmx5IHVwZGF0ZSBjb250cm9scyBvbiBub24gdGltZXVwZGF0ZSBldmVudHNcclxuXHJcbiAgICBpZiAoaXMkMS5ldmVudChldmVudCkgJiYgZXZlbnQudHlwZSA9PT0gJ3RpbWV1cGRhdGUnKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gVG9nZ2xlIGNvbnRyb2xzXHJcblxyXG5cclxuICAgIHVpLnRvZ2dsZUNvbnRyb2xzLmNhbGwodGhpcyk7XHJcbiAgfSxcclxuICAvLyBDaGVjayBpZiBtZWRpYSBpcyBsb2FkaW5nXHJcbiAgY2hlY2tMb2FkaW5nOiBmdW5jdGlvbiBjaGVja0xvYWRpbmcoZXZlbnQpIHtcclxuICAgIHZhciBfdGhpczQgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMubG9hZGluZyA9IFsnc3RhbGxlZCcsICd3YWl0aW5nJ10uaW5jbHVkZXMoZXZlbnQudHlwZSk7IC8vIENsZWFyIHRpbWVyXHJcblxyXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLmxvYWRpbmcpOyAvLyBUaW1lciB0byBwcmV2ZW50IGZsaWNrZXIgd2hlbiBzZWVraW5nXHJcblxyXG4gICAgdGhpcy50aW1lcnMubG9hZGluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgYmFyIGxvYWRpbmcgY2xhc3Mgc3RhdGVcclxuICAgICAgdG9nZ2xlQ2xhc3MoX3RoaXM0LmVsZW1lbnRzLmNvbnRhaW5lciwgX3RoaXM0LmNvbmZpZy5jbGFzc05hbWVzLmxvYWRpbmcsIF90aGlzNC5sb2FkaW5nKTsgLy8gVXBkYXRlIGNvbnRyb2xzIHZpc2liaWxpdHlcclxuXHJcbiAgICAgIHVpLnRvZ2dsZUNvbnRyb2xzLmNhbGwoX3RoaXM0KTtcclxuICAgIH0sIHRoaXMubG9hZGluZyA/IDI1MCA6IDApO1xyXG4gIH0sXHJcbiAgLy8gVG9nZ2xlIGNvbnRyb2xzIGJhc2VkIG9uIHN0YXRlIGFuZCBgZm9yY2VgIGFyZ3VtZW50XHJcbiAgdG9nZ2xlQ29udHJvbHM6IGZ1bmN0aW9uIHRvZ2dsZUNvbnRyb2xzKGZvcmNlKSB7XHJcbiAgICB2YXIgY29udHJvbHNFbGVtZW50ID0gdGhpcy5lbGVtZW50cy5jb250cm9scztcclxuXHJcbiAgICBpZiAoY29udHJvbHNFbGVtZW50ICYmIHRoaXMuY29uZmlnLmhpZGVDb250cm9scykge1xyXG4gICAgICAvLyBEb24ndCBoaWRlIGNvbnRyb2xzIGlmIGEgdG91Y2gtZGV2aWNlIHVzZXIgcmVjZW50bHkgc2Vla2VkLiAoTXVzdCBiZSBsaW1pdGVkIHRvIHRvdWNoIGRldmljZXMsIG9yIGl0IG9jY2FzaW9uYWxseSBwcmV2ZW50cyBkZXNrdG9wIGNvbnRyb2xzIGZyb20gaGlkaW5nLilcclxuICAgICAgdmFyIHJlY2VudFRvdWNoU2VlayA9IHRoaXMudG91Y2ggJiYgdGhpcy5sYXN0U2Vla1RpbWUgKyAyMDAwID4gRGF0ZS5ub3coKTsgLy8gU2hvdyBjb250cm9scyBpZiBmb3JjZSwgbG9hZGluZywgcGF1c2VkLCBidXR0b24gaW50ZXJhY3Rpb24sIG9yIHJlY2VudCBzZWVrLCBvdGhlcndpc2UgaGlkZVxyXG5cclxuICAgICAgdGhpcy50b2dnbGVDb250cm9scyhCb29sZWFuKGZvcmNlIHx8IHRoaXMubG9hZGluZyB8fCB0aGlzLnBhdXNlZCB8fCBjb250cm9sc0VsZW1lbnQucHJlc3NlZCB8fCBjb250cm9sc0VsZW1lbnQuaG92ZXIgfHwgcmVjZW50VG91Y2hTZWVrKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxudmFyIExpc3RlbmVycyA9XHJcbi8qI19fUFVSRV9fKi9cclxuZnVuY3Rpb24gKCkge1xyXG4gIGZ1bmN0aW9uIExpc3RlbmVycyhwbGF5ZXIpIHtcclxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXN0ZW5lcnMpO1xyXG5cclxuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgdGhpcy5sYXN0S2V5ID0gbnVsbDtcclxuICAgIHRoaXMuZm9jdXNUaW1lciA9IG51bGw7XHJcbiAgICB0aGlzLmxhc3RLZXlEb3duID0gbnVsbDtcclxuICAgIHRoaXMuaGFuZGxlS2V5ID0gdGhpcy5oYW5kbGVLZXkuYmluZCh0aGlzKTtcclxuICAgIHRoaXMudG9nZ2xlTWVudSA9IHRoaXMudG9nZ2xlTWVudS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5zZXRUYWJGb2N1cyA9IHRoaXMuc2V0VGFiRm9jdXMuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuZmlyc3RUb3VjaCA9IHRoaXMuZmlyc3RUb3VjaC5iaW5kKHRoaXMpO1xyXG4gIH0gLy8gSGFuZGxlIGtleSBwcmVzc2VzXHJcblxyXG5cclxuICBfY3JlYXRlQ2xhc3MoTGlzdGVuZXJzLCBbe1xyXG4gICAga2V5OiBcImhhbmRsZUtleVwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUtleShldmVudCkge1xyXG4gICAgICB2YXIgcGxheWVyID0gdGhpcy5wbGF5ZXI7XHJcbiAgICAgIHZhciBlbGVtZW50cyA9IHBsYXllci5lbGVtZW50cztcclxuICAgICAgdmFyIGNvZGUgPSBldmVudC5rZXlDb2RlID8gZXZlbnQua2V5Q29kZSA6IGV2ZW50LndoaWNoO1xyXG4gICAgICB2YXIgcHJlc3NlZCA9IGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJztcclxuICAgICAgdmFyIHJlcGVhdCA9IHByZXNzZWQgJiYgY29kZSA9PT0gdGhpcy5sYXN0S2V5OyAvLyBCYWlsIGlmIGEgbW9kaWZpZXIga2V5IGlzIHNldFxyXG5cclxuICAgICAgaWYgKGV2ZW50LmFsdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gLy8gSWYgdGhlIGV2ZW50IGlzIGJ1YmJsZWQgZnJvbSB0aGUgbWVkaWEgZWxlbWVudFxyXG4gICAgICAvLyBGaXJlZm94IGRvZXNuJ3QgZ2V0IHRoZSBrZXljb2RlIGZvciB3aGF0ZXZlciByZWFzb25cclxuXHJcblxyXG4gICAgICBpZiAoIWlzJDEubnVtYmVyKGNvZGUpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IC8vIFNlZWsgYnkgdGhlIG51bWJlciBrZXlzXHJcblxyXG5cclxuICAgICAgdmFyIHNlZWtCeUtleSA9IGZ1bmN0aW9uIHNlZWtCeUtleSgpIHtcclxuICAgICAgICAvLyBEaXZpZGUgdGhlIG1heCBkdXJhdGlvbiBpbnRvIDEwdGgncyBhbmQgdGltZXMgYnkgdGhlIG51bWJlciB2YWx1ZVxyXG4gICAgICAgIHBsYXllci5jdXJyZW50VGltZSA9IHBsYXllci5kdXJhdGlvbiAvIDEwICogKGNvZGUgLSA0OCk7XHJcbiAgICAgIH07IC8vIEhhbmRsZSB0aGUga2V5IG9uIGtleWRvd25cclxuICAgICAgLy8gUmVzZXQgb24ga2V5dXBcclxuXHJcblxyXG4gICAgICBpZiAocHJlc3NlZCkge1xyXG4gICAgICAgIC8vIENoZWNrIGZvY3VzZWQgZWxlbWVudFxyXG4gICAgICAgIC8vIGFuZCBpZiB0aGUgZm9jdXNlZCBlbGVtZW50IGlzIG5vdCBlZGl0YWJsZSAoZS5nLiB0ZXh0IGlucHV0KVxyXG4gICAgICAgIC8vIGFuZCBhbnkgdGhhdCBhY2NlcHQga2V5IGlucHV0IGh0dHA6Ly93ZWJhaW0ub3JnL3RlY2huaXF1ZXMva2V5Ym9hcmQvXHJcbiAgICAgICAgdmFyIGZvY3VzZWQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG5cclxuICAgICAgICBpZiAoaXMkMS5lbGVtZW50KGZvY3VzZWQpKSB7XHJcbiAgICAgICAgICB2YXIgZWRpdGFibGUgPSBwbGF5ZXIuY29uZmlnLnNlbGVjdG9ycy5lZGl0YWJsZTtcclxuICAgICAgICAgIHZhciBzZWVrID0gZWxlbWVudHMuaW5wdXRzLnNlZWs7XHJcblxyXG4gICAgICAgICAgaWYgKGZvY3VzZWQgIT09IHNlZWsgJiYgbWF0Y2hlcyQxKGZvY3VzZWQsIGVkaXRhYmxlKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGV2ZW50LndoaWNoID09PSAzMiAmJiBtYXRjaGVzJDEoZm9jdXNlZCwgJ2J1dHRvbiwgW3JvbGVePVwibWVudWl0ZW1cIl0nKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSAvLyBXaGljaCBrZXljb2RlcyBzaG91bGQgd2UgcHJldmVudCBkZWZhdWx0XHJcblxyXG5cclxuICAgICAgICB2YXIgcHJldmVudERlZmF1bHQgPSBbMzIsIDM3LCAzOCwgMzksIDQwLCA0OCwgNDksIDUwLCA1MSwgNTIsIDUzLCA1NCwgNTYsIDU3LCA2NywgNzAsIDczLCA3NSwgNzYsIDc3LCA3OV07IC8vIElmIHRoZSBjb2RlIGlzIGZvdW5kIHByZXZlbnQgZGVmYXVsdCAoZS5nLiBwcmV2ZW50IHNjcm9sbGluZyBmb3IgYXJyb3dzKVxyXG5cclxuICAgICAgICBpZiAocHJldmVudERlZmF1bHQuaW5jbHVkZXMoY29kZSkpIHtcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN3aXRjaCAoY29kZSkge1xyXG4gICAgICAgICAgY2FzZSA0ODpcclxuICAgICAgICAgIGNhc2UgNDk6XHJcbiAgICAgICAgICBjYXNlIDUwOlxyXG4gICAgICAgICAgY2FzZSA1MTpcclxuICAgICAgICAgIGNhc2UgNTI6XHJcbiAgICAgICAgICBjYXNlIDUzOlxyXG4gICAgICAgICAgY2FzZSA1NDpcclxuICAgICAgICAgIGNhc2UgNTU6XHJcbiAgICAgICAgICBjYXNlIDU2OlxyXG4gICAgICAgICAgY2FzZSA1NzpcclxuICAgICAgICAgICAgLy8gMC05XHJcbiAgICAgICAgICAgIGlmICghcmVwZWF0KSB7XHJcbiAgICAgICAgICAgICAgc2Vla0J5S2V5KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgMzI6XHJcbiAgICAgICAgICBjYXNlIDc1OlxyXG4gICAgICAgICAgICAvLyBTcGFjZSBhbmQgSyBrZXlcclxuICAgICAgICAgICAgaWYgKCFyZXBlYXQpIHtcclxuICAgICAgICAgICAgICBwbGF5ZXIudG9nZ2xlUGxheSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIDM4OlxyXG4gICAgICAgICAgICAvLyBBcnJvdyB1cFxyXG4gICAgICAgICAgICBwbGF5ZXIuaW5jcmVhc2VWb2x1bWUoMC4xKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSA0MDpcclxuICAgICAgICAgICAgLy8gQXJyb3cgZG93blxyXG4gICAgICAgICAgICBwbGF5ZXIuZGVjcmVhc2VWb2x1bWUoMC4xKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSA3NzpcclxuICAgICAgICAgICAgLy8gTSBrZXlcclxuICAgICAgICAgICAgaWYgKCFyZXBlYXQpIHtcclxuICAgICAgICAgICAgICBwbGF5ZXIubXV0ZWQgPSAhcGxheWVyLm11dGVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIDM5OlxyXG4gICAgICAgICAgICAvLyBBcnJvdyBmb3J3YXJkXHJcbiAgICAgICAgICAgIHBsYXllci5mb3J3YXJkKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgMzc6XHJcbiAgICAgICAgICAgIC8vIEFycm93IGJhY2tcclxuICAgICAgICAgICAgcGxheWVyLnJld2luZCgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIDcwOlxyXG4gICAgICAgICAgICAvLyBGIGtleVxyXG4gICAgICAgICAgICBwbGF5ZXIuZnVsbHNjcmVlbi50b2dnbGUoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSA2NzpcclxuICAgICAgICAgICAgLy8gQyBrZXlcclxuICAgICAgICAgICAgaWYgKCFyZXBlYXQpIHtcclxuICAgICAgICAgICAgICBwbGF5ZXIudG9nZ2xlQ2FwdGlvbnMoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSA3NjpcclxuICAgICAgICAgICAgLy8gTCBrZXlcclxuICAgICAgICAgICAgcGxheWVyLmxvb3AgPSAhcGxheWVyLmxvb3A7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIC8qIGNhc2UgNzM6XHJcbiAgICAgICAgICAgICAgdGhpcy5zZXRMb29wKCdzdGFydCcpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgIGNhc2UgNzY6XHJcbiAgICAgICAgICAgICAgdGhpcy5zZXRMb29wKCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgY2FzZSA3OTpcclxuICAgICAgICAgICAgICB0aGlzLnNldExvb3AoJ2VuZCcpO1xyXG4gICAgICAgICAgICAgIGJyZWFrOyAqL1xyXG5cclxuICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH0gLy8gRXNjYXBlIGlzIGhhbmRsZSBuYXRpdmVseSB3aGVuIGluIGZ1bGwgc2NyZWVuXHJcbiAgICAgICAgLy8gU28gd2Ugb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IG5vbiBuYXRpdmVcclxuXHJcblxyXG4gICAgICAgIGlmIChjb2RlID09PSAyNyAmJiAhcGxheWVyLmZ1bGxzY3JlZW4udXNpbmdOYXRpdmUgJiYgcGxheWVyLmZ1bGxzY3JlZW4uYWN0aXZlKSB7XHJcbiAgICAgICAgICBwbGF5ZXIuZnVsbHNjcmVlbi50b2dnbGUoKTtcclxuICAgICAgICB9IC8vIFN0b3JlIGxhc3QgY29kZSBmb3IgbmV4dCBjeWNsZVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5sYXN0S2V5ID0gY29kZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmxhc3RLZXkgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9IC8vIFRvZ2dsZSBtZW51XHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJ0b2dnbGVNZW51XCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlTWVudShldmVudCkge1xyXG4gICAgICBjb250cm9scy50b2dnbGVNZW51LmNhbGwodGhpcy5wbGF5ZXIsIGV2ZW50KTtcclxuICAgIH0gLy8gRGV2aWNlIGlzIHRvdWNoIGVuYWJsZWRcclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImZpcnN0VG91Y2hcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaXJzdFRvdWNoKCkge1xyXG4gICAgICB2YXIgcGxheWVyID0gdGhpcy5wbGF5ZXI7XHJcbiAgICAgIHZhciBlbGVtZW50cyA9IHBsYXllci5lbGVtZW50cztcclxuICAgICAgcGxheWVyLnRvdWNoID0gdHJ1ZTsgLy8gQWRkIHRvdWNoIGNsYXNzXHJcblxyXG4gICAgICB0b2dnbGVDbGFzcyhlbGVtZW50cy5jb250YWluZXIsIHBsYXllci5jb25maWcuY2xhc3NOYW1lcy5pc1RvdWNoLCB0cnVlKTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwic2V0VGFiRm9jdXNcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUYWJGb2N1cyhldmVudCkge1xyXG4gICAgICB2YXIgcGxheWVyID0gdGhpcy5wbGF5ZXI7XHJcbiAgICAgIHZhciBlbGVtZW50cyA9IHBsYXllci5lbGVtZW50cztcclxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZm9jdXNUaW1lcik7IC8vIElnbm9yZSBhbnkga2V5IG90aGVyIHRoYW4gdGFiXHJcblxyXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nICYmIGV2ZW50LndoaWNoICE9PSA5KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IC8vIFN0b3JlIHJlZmVyZW5jZSB0byBldmVudCB0aW1lU3RhbXBcclxuXHJcblxyXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nKSB7XHJcbiAgICAgICAgdGhpcy5sYXN0S2V5RG93biA9IGV2ZW50LnRpbWVTdGFtcDtcclxuICAgICAgfSAvLyBSZW1vdmUgY3VycmVudCBjbGFzc2VzXHJcblxyXG5cclxuICAgICAgdmFyIHJlbW92ZUN1cnJlbnQgPSBmdW5jdGlvbiByZW1vdmVDdXJyZW50KCkge1xyXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBwbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMudGFiRm9jdXM7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBnZXRFbGVtZW50cy5jYWxsKHBsYXllciwgXCIuXCIuY29uY2F0KGNsYXNzTmFtZSkpO1xyXG4gICAgICAgIHRvZ2dsZUNsYXNzKGN1cnJlbnQsIGNsYXNzTmFtZSwgZmFsc2UpO1xyXG4gICAgICB9OyAvLyBEZXRlcm1pbmUgaWYgYSBrZXkgd2FzIHByZXNzZWQgdG8gdHJpZ2dlciB0aGlzIGV2ZW50XHJcblxyXG5cclxuICAgICAgdmFyIHdhc0tleURvd24gPSBldmVudC50aW1lU3RhbXAgLSB0aGlzLmxhc3RLZXlEb3duIDw9IDIwOyAvLyBJZ25vcmUgZm9jdXMgZXZlbnRzIGlmIGEga2V5IHdhcyBwcmVzc2VkIHByaW9yXHJcblxyXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2ZvY3VzJyAmJiAhd2FzS2V5RG93bikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSAvLyBSZW1vdmUgYWxsIGN1cnJlbnRcclxuXHJcblxyXG4gICAgICByZW1vdmVDdXJyZW50KCk7IC8vIERlbGF5IHRoZSBhZGRpbmcgb2YgY2xhc3NuYW1lIHVudGlsIHRoZSBmb2N1cyBoYXMgY2hhbmdlZFxyXG4gICAgICAvLyBUaGlzIGV2ZW50IGZpcmVzIGJlZm9yZSB0aGUgZm9jdXNpbiBldmVudFxyXG5cclxuICAgICAgdGhpcy5mb2N1c1RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZvY3VzZWQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50OyAvLyBJZ25vcmUgaWYgY3VycmVudCBmb2N1cyBlbGVtZW50IGlzbid0IGluc2lkZSB0aGUgcGxheWVyXHJcblxyXG4gICAgICAgIGlmICghZWxlbWVudHMuY29udGFpbmVyLmNvbnRhaW5zKGZvY3VzZWQpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0b2dnbGVDbGFzcyhkb2N1bWVudC5hY3RpdmVFbGVtZW50LCBwbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMudGFiRm9jdXMsIHRydWUpO1xyXG4gICAgICB9LCAxMCk7XHJcbiAgICB9IC8vIEdsb2JhbCB3aW5kb3cgJiBkb2N1bWVudCBsaXN0ZW5lcnNcclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImdsb2JhbFwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdsb2JhbCgpIHtcclxuICAgICAgdmFyIHRvZ2dsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcclxuICAgICAgdmFyIHBsYXllciA9IHRoaXMucGxheWVyOyAvLyBLZXlib2FyZCBzaG9ydGN1dHNcclxuXHJcbiAgICAgIGlmIChwbGF5ZXIuY29uZmlnLmtleWJvYXJkLmdsb2JhbCkge1xyXG4gICAgICAgIHRvZ2dsZUxpc3RlbmVyLmNhbGwocGxheWVyLCB3aW5kb3csICdrZXlkb3duIGtleXVwJywgdGhpcy5oYW5kbGVLZXksIHRvZ2dsZSwgZmFsc2UpO1xyXG4gICAgICB9IC8vIENsaWNrIGFueXdoZXJlIGNsb3NlcyBtZW51XHJcblxyXG5cclxuICAgICAgdG9nZ2xlTGlzdGVuZXIuY2FsbChwbGF5ZXIsIGRvY3VtZW50LmJvZHksICdjbGljaycsIHRoaXMudG9nZ2xlTWVudSwgdG9nZ2xlKTsgLy8gRGV0ZWN0IHRvdWNoIGJ5IGV2ZW50c1xyXG5cclxuICAgICAgb25jZS5jYWxsKHBsYXllciwgZG9jdW1lbnQuYm9keSwgJ3RvdWNoc3RhcnQnLCB0aGlzLmZpcnN0VG91Y2gpOyAvLyBUYWIgZm9jdXMgZGV0ZWN0aW9uXHJcblxyXG4gICAgICB0b2dnbGVMaXN0ZW5lci5jYWxsKHBsYXllciwgZG9jdW1lbnQuYm9keSwgJ2tleWRvd24gZm9jdXMgYmx1cicsIHRoaXMuc2V0VGFiRm9jdXMsIHRvZ2dsZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgfSAvLyBDb250YWluZXIgbGlzdGVuZXJzXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJjb250YWluZXJcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb250YWluZXIoKSB7XHJcbiAgICAgIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcjtcclxuICAgICAgdmFyIGNvbmZpZyA9IHBsYXllci5jb25maWcsXHJcbiAgICAgICAgICBlbGVtZW50cyA9IHBsYXllci5lbGVtZW50cyxcclxuICAgICAgICAgIHRpbWVycyA9IHBsYXllci50aW1lcnM7IC8vIEtleWJvYXJkIHNob3J0Y3V0c1xyXG5cclxuICAgICAgaWYgKCFjb25maWcua2V5Ym9hcmQuZ2xvYmFsICYmIGNvbmZpZy5rZXlib2FyZC5mb2N1c2VkKSB7XHJcbiAgICAgICAgb24uY2FsbChwbGF5ZXIsIGVsZW1lbnRzLmNvbnRhaW5lciwgJ2tleWRvd24ga2V5dXAnLCB0aGlzLmhhbmRsZUtleSwgZmFsc2UpO1xyXG4gICAgICB9IC8vIFRvZ2dsZSBjb250cm9scyBvbiBtb3VzZSBldmVudHMgYW5kIGVudGVyaW5nIGZ1bGxzY3JlZW5cclxuXHJcblxyXG4gICAgICBvbi5jYWxsKHBsYXllciwgZWxlbWVudHMuY29udGFpbmVyLCAnbW91c2Vtb3ZlIG1vdXNlbGVhdmUgdG91Y2hzdGFydCB0b3VjaG1vdmUgZW50ZXJmdWxsc2NyZWVuIGV4aXRmdWxsc2NyZWVuJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGNvbnRyb2xzRWxlbWVudCA9IGVsZW1lbnRzLmNvbnRyb2xzOyAvLyBSZW1vdmUgYnV0dG9uIHN0YXRlcyBmb3IgZnVsbHNjcmVlblxyXG5cclxuICAgICAgICBpZiAoY29udHJvbHNFbGVtZW50ICYmIGV2ZW50LnR5cGUgPT09ICdlbnRlcmZ1bGxzY3JlZW4nKSB7XHJcbiAgICAgICAgICBjb250cm9sc0VsZW1lbnQucHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgY29udHJvbHNFbGVtZW50LmhvdmVyID0gZmFsc2U7XHJcbiAgICAgICAgfSAvLyBTaG93LCB0aGVuIGhpZGUgYWZ0ZXIgYSB0aW1lb3V0IHVubGVzcyBhbm90aGVyIGNvbnRyb2wgZXZlbnQgb2NjdXJzXHJcblxyXG5cclxuICAgICAgICB2YXIgc2hvdyA9IFsndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnLCAnbW91c2Vtb3ZlJ10uaW5jbHVkZXMoZXZlbnQudHlwZSk7XHJcbiAgICAgICAgdmFyIGRlbGF5ID0gMDtcclxuXHJcbiAgICAgICAgaWYgKHNob3cpIHtcclxuICAgICAgICAgIHVpLnRvZ2dsZUNvbnRyb2xzLmNhbGwocGxheWVyLCB0cnVlKTsgLy8gVXNlIGxvbmdlciB0aW1lb3V0IGZvciB0b3VjaCBkZXZpY2VzXHJcblxyXG4gICAgICAgICAgZGVsYXkgPSBwbGF5ZXIudG91Y2ggPyAzMDAwIDogMjAwMDtcclxuICAgICAgICB9IC8vIENsZWFyIHRpbWVyXHJcblxyXG5cclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJzLmNvbnRyb2xzKTsgLy8gU2V0IG5ldyB0aW1lciB0byBwcmV2ZW50IGZsaWNrZXIgd2hlbiBzZWVraW5nXHJcblxyXG4gICAgICAgIHRpbWVycy5jb250cm9scyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIHVpLnRvZ2dsZUNvbnRyb2xzLmNhbGwocGxheWVyLCBmYWxzZSk7XHJcbiAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICB9KTsgLy8gU2V0IGEgZ3V0dGVyIGZvciBWaW1lb1xyXG5cclxuICAgICAgdmFyIHNldEd1dHRlciA9IGZ1bmN0aW9uIHNldEd1dHRlcihyYXRpbywgcGFkZGluZywgdG9nZ2xlKSB7XHJcbiAgICAgICAgaWYgKCFwbGF5ZXIuaXNWaW1lbykge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRhcmdldCA9IHBsYXllci5lbGVtZW50cy53cmFwcGVyLmZpcnN0Q2hpbGQ7XHJcblxyXG4gICAgICAgIHZhciBfcmF0aW8gPSBfc2xpY2VkVG9BcnJheShyYXRpbywgMiksXHJcbiAgICAgICAgICAgIHkgPSBfcmF0aW9bMV07XHJcblxyXG4gICAgICAgIHZhciBfZ2V0QXNwZWN0UmF0aW8kY2FsbCA9IGdldEFzcGVjdFJhdGlvLmNhbGwocGxheWVyKSxcclxuICAgICAgICAgICAgX2dldEFzcGVjdFJhdGlvJGNhbGwyID0gX3NsaWNlZFRvQXJyYXkoX2dldEFzcGVjdFJhdGlvJGNhbGwsIDIpLFxyXG4gICAgICAgICAgICB2aWRlb1ggPSBfZ2V0QXNwZWN0UmF0aW8kY2FsbDJbMF0sXHJcbiAgICAgICAgICAgIHZpZGVvWSA9IF9nZXRBc3BlY3RSYXRpbyRjYWxsMlsxXTtcclxuXHJcbiAgICAgICAgdGFyZ2V0LnN0eWxlLm1heFdpZHRoID0gdG9nZ2xlID8gXCJcIi5jb25jYXQoeSAvIHZpZGVvWSAqIHZpZGVvWCwgXCJweFwiKSA6IG51bGw7XHJcbiAgICAgICAgdGFyZ2V0LnN0eWxlLm1hcmdpbiA9IHRvZ2dsZSA/ICcwIGF1dG8nIDogbnVsbDtcclxuICAgICAgfTsgLy8gUmVzaXplIG9uIGZ1bGxzY3JlZW4gY2hhbmdlXHJcblxyXG5cclxuICAgICAgdmFyIHNldFBsYXllclNpemUgPSBmdW5jdGlvbiBzZXRQbGF5ZXJTaXplKG1lYXN1cmUpIHtcclxuICAgICAgICAvLyBJZiB3ZSBkb24ndCBuZWVkIHRvIG1lYXN1cmUgdGhlIHZpZXdwb3J0XHJcbiAgICAgICAgaWYgKCFtZWFzdXJlKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2V0QXNwZWN0UmF0aW8uY2FsbChwbGF5ZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHJlY3QgPSBlbGVtZW50cy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdmFyIHdpZHRoID0gcmVjdC53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIHNldEFzcGVjdFJhdGlvLmNhbGwocGxheWVyLCBcIlwiLmNvbmNhdCh3aWR0aCwgXCI6XCIpLmNvbmNhdChoZWlnaHQpKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZhciByZXNpemVkID0gZnVuY3Rpb24gcmVzaXplZCgpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJzLnJlc2l6ZWQpO1xyXG4gICAgICAgIHRpbWVycy5yZXNpemVkID0gc2V0VGltZW91dChzZXRQbGF5ZXJTaXplLCA1MCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBvbi5jYWxsKHBsYXllciwgZWxlbWVudHMuY29udGFpbmVyLCAnZW50ZXJmdWxsc2NyZWVuIGV4aXRmdWxsc2NyZWVuJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIF9wbGF5ZXIkZnVsbHNjcmVlbiA9IHBsYXllci5mdWxsc2NyZWVuLFxyXG4gICAgICAgICAgICB0YXJnZXQgPSBfcGxheWVyJGZ1bGxzY3JlZW4udGFyZ2V0LFxyXG4gICAgICAgICAgICB1c2luZ05hdGl2ZSA9IF9wbGF5ZXIkZnVsbHNjcmVlbi51c2luZ05hdGl2ZTsgLy8gSWdub3JlIGV2ZW50cyBub3QgZnJvbSB0YXJnZXRcclxuXHJcbiAgICAgICAgaWYgKHRhcmdldCAhPT0gZWxlbWVudHMuY29udGFpbmVyKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSAvLyBJZiBpdCdzIG5vdCBhbiBlbWJlZCBhbmQgbm8gcmF0aW8gc3BlY2lmaWVkXHJcblxyXG5cclxuICAgICAgICBpZiAoIXBsYXllci5pc0VtYmVkICYmIGlzJDEuZW1wdHkocGxheWVyLmNvbmZpZy5yYXRpbykpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBpc0VudGVyID0gZXZlbnQudHlwZSA9PT0gJ2VudGVyZnVsbHNjcmVlbic7IC8vIFNldCB0aGUgcGxheWVyIHNpemUgd2hlbiBlbnRlcmluZyBmdWxsc2NyZWVuIHRvIHZpZXdwb3J0IHNpemVcclxuXHJcbiAgICAgICAgdmFyIF9zZXRQbGF5ZXJTaXplID0gc2V0UGxheWVyU2l6ZShpc0VudGVyKSxcclxuICAgICAgICAgICAgcGFkZGluZyA9IF9zZXRQbGF5ZXJTaXplLnBhZGRpbmcsXHJcbiAgICAgICAgICAgIHJhdGlvID0gX3NldFBsYXllclNpemUucmF0aW87IC8vIFNldCBWaW1lbyBndXR0ZXJcclxuXHJcblxyXG4gICAgICAgIHNldEd1dHRlcihyYXRpbywgcGFkZGluZywgaXNFbnRlcik7IC8vIElmIG5vdCB1c2luZyBuYXRpdmUgZnVsbHNjcmVlbiwgd2UgbmVlZCB0byBjaGVjayBmb3IgcmVzaXplcyBvZiB2aWV3cG9ydFxyXG5cclxuICAgICAgICBpZiAoIXVzaW5nTmF0aXZlKSB7XHJcbiAgICAgICAgICBpZiAoaXNFbnRlcikge1xyXG4gICAgICAgICAgICBvbi5jYWxsKHBsYXllciwgd2luZG93LCAncmVzaXplJywgcmVzaXplZCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvZmYuY2FsbChwbGF5ZXIsIHdpbmRvdywgJ3Jlc2l6ZScsIHJlc2l6ZWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IC8vIExpc3RlbiBmb3IgbWVkaWEgZXZlbnRzXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJtZWRpYVwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1lZGlhKCkge1xyXG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgdmFyIHBsYXllciA9IHRoaXMucGxheWVyO1xyXG4gICAgICB2YXIgZWxlbWVudHMgPSBwbGF5ZXIuZWxlbWVudHM7IC8vIFRpbWUgY2hhbmdlIG9uIG1lZGlhXHJcblxyXG4gICAgICBvbi5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAndGltZXVwZGF0ZSBzZWVraW5nIHNlZWtlZCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHJldHVybiBjb250cm9scy50aW1lVXBkYXRlLmNhbGwocGxheWVyLCBldmVudCk7XHJcbiAgICAgIH0pOyAvLyBEaXNwbGF5IGR1cmF0aW9uXHJcblxyXG4gICAgICBvbi5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAnZHVyYXRpb25jaGFuZ2UgbG9hZGVkZGF0YSBsb2FkZWRtZXRhZGF0YScsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHJldHVybiBjb250cm9scy5kdXJhdGlvblVwZGF0ZS5jYWxsKHBsYXllciwgZXZlbnQpO1xyXG4gICAgICB9KTsgLy8gQ2hlY2sgZm9yIGF1ZGlvIHRyYWNrcyBvbiBsb2FkXHJcbiAgICAgIC8vIFdlIGNhbid0IHVzZSBgbG9hZGVkbWV0YWRhdGFgIGFzIGl0IGRvZXNuJ3Qgc2VlbSB0byBoYXZlIGF1ZGlvIHRyYWNrcyBhdCB0aGF0IHBvaW50XHJcblxyXG4gICAgICBvbi5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAnY2FucGxheSBsb2FkZWRkYXRhJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRvZ2dsZUhpZGRlbihlbGVtZW50cy52b2x1bWUsICFwbGF5ZXIuaGFzQXVkaW8pO1xyXG4gICAgICAgIHRvZ2dsZUhpZGRlbihlbGVtZW50cy5idXR0b25zLm11dGUsICFwbGF5ZXIuaGFzQXVkaW8pO1xyXG4gICAgICB9KTsgLy8gSGFuZGxlIHRoZSBtZWRpYSBmaW5pc2hpbmdcclxuXHJcbiAgICAgIG9uLmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsICdlbmRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBTaG93IHBvc3RlciBvbiBlbmRcclxuICAgICAgICBpZiAocGxheWVyLmlzSFRNTDUgJiYgcGxheWVyLmlzVmlkZW8gJiYgcGxheWVyLmNvbmZpZy5yZXNldE9uRW5kKSB7XHJcbiAgICAgICAgICAvLyBSZXN0YXJ0XHJcbiAgICAgICAgICBwbGF5ZXIucmVzdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7IC8vIENoZWNrIGZvciBidWZmZXIgcHJvZ3Jlc3NcclxuXHJcbiAgICAgIG9uLmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsICdwcm9ncmVzcyBwbGF5aW5nIHNlZWtpbmcgc2Vla2VkJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xzLnVwZGF0ZVByb2dyZXNzLmNhbGwocGxheWVyLCBldmVudCk7XHJcbiAgICAgIH0pOyAvLyBIYW5kbGUgdm9sdW1lIGNoYW5nZXNcclxuXHJcbiAgICAgIG9uLmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsICd2b2x1bWVjaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICByZXR1cm4gY29udHJvbHMudXBkYXRlVm9sdW1lLmNhbGwocGxheWVyLCBldmVudCk7XHJcbiAgICAgIH0pOyAvLyBIYW5kbGUgcGxheS9wYXVzZVxyXG5cclxuICAgICAgb24uY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3BsYXlpbmcgcGxheSBwYXVzZSBlbmRlZCBlbXB0aWVkIHRpbWV1cGRhdGUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICByZXR1cm4gdWkuY2hlY2tQbGF5aW5nLmNhbGwocGxheWVyLCBldmVudCk7XHJcbiAgICAgIH0pOyAvLyBMb2FkaW5nIHN0YXRlXHJcblxyXG4gICAgICBvbi5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAnd2FpdGluZyBjYW5wbGF5IHNlZWtlZCBwbGF5aW5nJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHVpLmNoZWNrTG9hZGluZy5jYWxsKHBsYXllciwgZXZlbnQpO1xyXG4gICAgICB9KTsgLy8gQ2xpY2sgdmlkZW9cclxuXHJcbiAgICAgIGlmIChwbGF5ZXIuc3VwcG9ydGVkLnVpICYmIHBsYXllci5jb25maWcuY2xpY2tUb1BsYXkgJiYgIXBsYXllci5pc0F1ZGlvKSB7XHJcbiAgICAgICAgLy8gUmUtZmV0Y2ggdGhlIHdyYXBwZXJcclxuICAgICAgICB2YXIgd3JhcHBlciA9IGdldEVsZW1lbnQuY2FsbChwbGF5ZXIsIFwiLlwiLmNvbmNhdChwbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMudmlkZW8pKTsgLy8gQmFpbCBpZiB0aGVyZSdzIG5vIHdyYXBwZXIgKHRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbilcclxuXHJcbiAgICAgICAgaWYgKCFpcyQxLmVsZW1lbnQod3JhcHBlcikpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IC8vIE9uIGNsaWNrIHBsYXksIHBhdXNlIG9yIHJlc3RhcnRcclxuXHJcblxyXG4gICAgICAgIG9uLmNhbGwocGxheWVyLCBlbGVtZW50cy5jb250YWluZXIsICdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgdmFyIHRhcmdldHMgPSBbZWxlbWVudHMuY29udGFpbmVyLCB3cmFwcGVyXTsgLy8gSWdub3JlIGlmIGNsaWNrIGlmIG5vdCBjb250YWluZXIgb3IgaW4gdmlkZW8gd3JhcHBlclxyXG5cclxuICAgICAgICAgIGlmICghdGFyZ2V0cy5pbmNsdWRlcyhldmVudC50YXJnZXQpICYmICF3cmFwcGVyLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfSAvLyBUb3VjaCBkZXZpY2VzIHdpbGwganVzdCBzaG93IGNvbnRyb2xzIChpZiBoaWRkZW4pXHJcblxyXG5cclxuICAgICAgICAgIGlmIChwbGF5ZXIudG91Y2ggJiYgcGxheWVyLmNvbmZpZy5oaWRlQ29udHJvbHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChwbGF5ZXIuZW5kZWQpIHtcclxuICAgICAgICAgICAgX3RoaXMucHJveHkoZXZlbnQsIHBsYXllci5yZXN0YXJ0LCAncmVzdGFydCcpO1xyXG5cclxuICAgICAgICAgICAgX3RoaXMucHJveHkoZXZlbnQsIHBsYXllci5wbGF5LCAncGxheScpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgX3RoaXMucHJveHkoZXZlbnQsIHBsYXllci50b2dnbGVQbGF5LCAncGxheScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IC8vIERpc2FibGUgcmlnaHQgY2xpY2tcclxuXHJcblxyXG4gICAgICBpZiAocGxheWVyLnN1cHBvcnRlZC51aSAmJiBwbGF5ZXIuY29uZmlnLmRpc2FibGVDb250ZXh0TWVudSkge1xyXG4gICAgICAgIG9uLmNhbGwocGxheWVyLCBlbGVtZW50cy53cmFwcGVyLCAnY29udGV4dG1lbnUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICB9IC8vIFZvbHVtZSBjaGFuZ2VcclxuXHJcblxyXG4gICAgICBvbi5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAndm9sdW1lY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFNhdmUgdG8gc3RvcmFnZVxyXG4gICAgICAgIHBsYXllci5zdG9yYWdlLnNldCh7XHJcbiAgICAgICAgICB2b2x1bWU6IHBsYXllci52b2x1bWUsXHJcbiAgICAgICAgICBtdXRlZDogcGxheWVyLm11dGVkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pOyAvLyBTcGVlZCBjaGFuZ2VcclxuXHJcbiAgICAgIG9uLmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsICdyYXRlY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFVwZGF0ZSBVSVxyXG4gICAgICAgIGNvbnRyb2xzLnVwZGF0ZVNldHRpbmcuY2FsbChwbGF5ZXIsICdzcGVlZCcpOyAvLyBTYXZlIHRvIHN0b3JhZ2VcclxuXHJcblxyXG4gICAgICAgIHBsYXllci5zdG9yYWdlLnNldCh7XHJcbiAgICAgICAgICBzcGVlZDogcGxheWVyLnNwZWVkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pOyAvLyBRdWFsaXR5IGNoYW5nZVxyXG5cclxuICAgICAgb24uY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3F1YWxpdHljaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBVcGRhdGUgVUlcclxuICAgICAgICBjb250cm9scy51cGRhdGVTZXR0aW5nLmNhbGwocGxheWVyLCAncXVhbGl0eScsIG51bGwsIGV2ZW50LmRldGFpbC5xdWFsaXR5KTtcclxuICAgICAgfSk7IC8vIFVwZGF0ZSBkb3dubG9hZCBsaW5rIHdoZW4gcmVhZHkgYW5kIGlmIHF1YWxpdHkgY2hhbmdlc1xyXG5cclxuICAgICAgb24uY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3JlYWR5IHF1YWxpdHljaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29udHJvbHMuc2V0RG93bmxvYWRVcmwuY2FsbChwbGF5ZXIpO1xyXG4gICAgICB9KTsgLy8gUHJveHkgZXZlbnRzIHRvIGNvbnRhaW5lclxyXG4gICAgICAvLyBCdWJibGUgdXAga2V5IGV2ZW50cyBmb3IgRWRnZVxyXG5cclxuICAgICAgdmFyIHByb3h5RXZlbnRzID0gcGxheWVyLmNvbmZpZy5ldmVudHMuY29uY2F0KFsna2V5dXAnLCAna2V5ZG93biddKS5qb2luKCcgJyk7XHJcbiAgICAgIG9uLmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsIHByb3h5RXZlbnRzLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgX2V2ZW50JGRldGFpbCA9IGV2ZW50LmRldGFpbCxcclxuICAgICAgICAgICAgZGV0YWlsID0gX2V2ZW50JGRldGFpbCA9PT0gdm9pZCAwID8ge30gOiBfZXZlbnQkZGV0YWlsOyAvLyBHZXQgZXJyb3IgZGV0YWlscyBmcm9tIG1lZGlhXHJcblxyXG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnZXJyb3InKSB7XHJcbiAgICAgICAgICBkZXRhaWwgPSBwbGF5ZXIubWVkaWEuZXJyb3I7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIGVsZW1lbnRzLmNvbnRhaW5lciwgZXZlbnQudHlwZSwgdHJ1ZSwgZGV0YWlsKTtcclxuICAgICAgfSk7XHJcbiAgICB9IC8vIFJ1biBkZWZhdWx0IGFuZCBjdXN0b20gaGFuZGxlcnNcclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInByb3h5XCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJveHkoZXZlbnQsIGRlZmF1bHRIYW5kbGVyLCBjdXN0b21IYW5kbGVyS2V5KSB7XHJcbiAgICAgIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcjtcclxuICAgICAgdmFyIGN1c3RvbUhhbmRsZXIgPSBwbGF5ZXIuY29uZmlnLmxpc3RlbmVyc1tjdXN0b21IYW5kbGVyS2V5XTtcclxuICAgICAgdmFyIGhhc0N1c3RvbUhhbmRsZXIgPSBpcyQxLmZ1bmN0aW9uKGN1c3RvbUhhbmRsZXIpO1xyXG4gICAgICB2YXIgcmV0dXJuZWQgPSB0cnVlOyAvLyBFeGVjdXRlIGN1c3RvbSBoYW5kbGVyXHJcblxyXG4gICAgICBpZiAoaGFzQ3VzdG9tSGFuZGxlcikge1xyXG4gICAgICAgIHJldHVybmVkID0gY3VzdG9tSGFuZGxlci5jYWxsKHBsYXllciwgZXZlbnQpO1xyXG4gICAgICB9IC8vIE9ubHkgY2FsbCBkZWZhdWx0IGhhbmRsZXIgaWYgbm90IHByZXZlbnRlZCBpbiBjdXN0b20gaGFuZGxlclxyXG5cclxuXHJcbiAgICAgIGlmIChyZXR1cm5lZCAmJiBpcyQxLmZ1bmN0aW9uKGRlZmF1bHRIYW5kbGVyKSkge1xyXG4gICAgICAgIGRlZmF1bHRIYW5kbGVyLmNhbGwocGxheWVyLCBldmVudCk7XHJcbiAgICAgIH1cclxuICAgIH0gLy8gVHJpZ2dlciBjdXN0b20gYW5kIGRlZmF1bHQgaGFuZGxlcnNcclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImJpbmRcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kKGVsZW1lbnQsIHR5cGUsIGRlZmF1bHRIYW5kbGVyLCBjdXN0b21IYW5kbGVyS2V5KSB7XHJcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICAgICAgdmFyIHBhc3NpdmUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRydWU7XHJcbiAgICAgIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcjtcclxuICAgICAgdmFyIGN1c3RvbUhhbmRsZXIgPSBwbGF5ZXIuY29uZmlnLmxpc3RlbmVyc1tjdXN0b21IYW5kbGVyS2V5XTtcclxuICAgICAgdmFyIGhhc0N1c3RvbUhhbmRsZXIgPSBpcyQxLmZ1bmN0aW9uKGN1c3RvbUhhbmRsZXIpO1xyXG4gICAgICBvbi5jYWxsKHBsYXllciwgZWxlbWVudCwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzMi5wcm94eShldmVudCwgZGVmYXVsdEhhbmRsZXIsIGN1c3RvbUhhbmRsZXJLZXkpO1xyXG4gICAgICB9LCBwYXNzaXZlICYmICFoYXNDdXN0b21IYW5kbGVyKTtcclxuICAgIH0gLy8gTGlzdGVuIGZvciBjb250cm9sIGV2ZW50c1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiY29udHJvbHNcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb250cm9scyQxKCkge1xyXG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcclxuXHJcbiAgICAgIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcjtcclxuICAgICAgdmFyIGVsZW1lbnRzID0gcGxheWVyLmVsZW1lbnRzOyAvLyBJRSBkb2Vzbid0IHN1cHBvcnQgaW5wdXQgZXZlbnQsIHNvIHdlIGZhbGxiYWNrIHRvIGNoYW5nZVxyXG5cclxuICAgICAgdmFyIGlucHV0RXZlbnQgPSBicm93c2VyLmlzSUUgPyAnY2hhbmdlJyA6ICdpbnB1dCc7IC8vIFBsYXkvcGF1c2UgdG9nZ2xlXHJcblxyXG4gICAgICBpZiAoZWxlbWVudHMuYnV0dG9ucy5wbGF5KSB7XHJcbiAgICAgICAgQXJyYXkuZnJvbShlbGVtZW50cy5idXR0b25zLnBsYXkpLmZvckVhY2goZnVuY3Rpb24gKGJ1dHRvbikge1xyXG4gICAgICAgICAgX3RoaXMzLmJpbmQoYnV0dG9uLCAnY2xpY2snLCBwbGF5ZXIudG9nZ2xlUGxheSwgJ3BsYXknKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSAvLyBQYXVzZVxyXG5cclxuXHJcbiAgICAgIHRoaXMuYmluZChlbGVtZW50cy5idXR0b25zLnJlc3RhcnQsICdjbGljaycsIHBsYXllci5yZXN0YXJ0LCAncmVzdGFydCcpOyAvLyBSZXdpbmRcclxuXHJcbiAgICAgIHRoaXMuYmluZChlbGVtZW50cy5idXR0b25zLnJld2luZCwgJ2NsaWNrJywgcGxheWVyLnJld2luZCwgJ3Jld2luZCcpOyAvLyBSZXdpbmRcclxuXHJcbiAgICAgIHRoaXMuYmluZChlbGVtZW50cy5idXR0b25zLmZhc3RGb3J3YXJkLCAnY2xpY2snLCBwbGF5ZXIuZm9yd2FyZCwgJ2Zhc3RGb3J3YXJkJyk7IC8vIE11dGUgdG9nZ2xlXHJcblxyXG4gICAgICB0aGlzLmJpbmQoZWxlbWVudHMuYnV0dG9ucy5tdXRlLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcGxheWVyLm11dGVkID0gIXBsYXllci5tdXRlZDtcclxuICAgICAgfSwgJ211dGUnKTsgLy8gQ2FwdGlvbnMgdG9nZ2xlXHJcblxyXG4gICAgICB0aGlzLmJpbmQoZWxlbWVudHMuYnV0dG9ucy5jYXB0aW9ucywgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBwbGF5ZXIudG9nZ2xlQ2FwdGlvbnMoKTtcclxuICAgICAgfSk7IC8vIERvd25sb2FkXHJcblxyXG4gICAgICB0aGlzLmJpbmQoZWxlbWVudHMuYnV0dG9ucy5kb3dubG9hZCwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRyaWdnZXJFdmVudC5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAnZG93bmxvYWQnKTtcclxuICAgICAgfSwgJ2Rvd25sb2FkJyk7IC8vIEZ1bGxzY3JlZW4gdG9nZ2xlXHJcblxyXG4gICAgICB0aGlzLmJpbmQoZWxlbWVudHMuYnV0dG9ucy5mdWxsc2NyZWVuLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcGxheWVyLmZ1bGxzY3JlZW4udG9nZ2xlKCk7XHJcbiAgICAgIH0sICdmdWxsc2NyZWVuJyk7IC8vIFBpY3R1cmUtaW4tUGljdHVyZVxyXG5cclxuICAgICAgdGhpcy5iaW5kKGVsZW1lbnRzLmJ1dHRvbnMucGlwLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcGxheWVyLnBpcCA9ICd0b2dnbGUnO1xyXG4gICAgICB9LCAncGlwJyk7IC8vIEFpcnBsYXlcclxuXHJcbiAgICAgIHRoaXMuYmluZChlbGVtZW50cy5idXR0b25zLmFpcnBsYXksICdjbGljaycsIHBsYXllci5haXJwbGF5LCAnYWlycGxheScpOyAvLyBTZXR0aW5ncyBtZW51IC0gY2xpY2sgdG9nZ2xlXHJcblxyXG4gICAgICB0aGlzLmJpbmQoZWxlbWVudHMuYnV0dG9ucy5zZXR0aW5ncywgJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gUHJldmVudCB0aGUgZG9jdW1lbnQgY2xpY2sgbGlzdGVuZXIgY2xvc2luZyB0aGUgbWVudVxyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICBjb250cm9scy50b2dnbGVNZW51LmNhbGwocGxheWVyLCBldmVudCk7XHJcbiAgICAgIH0pOyAvLyBTZXR0aW5ncyBtZW51IC0ga2V5Ym9hcmQgdG9nZ2xlXHJcbiAgICAgIC8vIFdlIGhhdmUgdG8gYmluZCB0byBrZXl1cCBvdGhlcndpc2UgRmlyZWZveCB0cmlnZ2VycyBhIGNsaWNrIHdoZW4gYSBrZXlkb3duIGV2ZW50IGhhbmRsZXIgc2hpZnRzIGZvY3VzXHJcbiAgICAgIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEyMjAxNDNcclxuXHJcbiAgICAgIHRoaXMuYmluZChlbGVtZW50cy5idXR0b25zLnNldHRpbmdzLCAna2V5dXAnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgY29kZSA9IGV2ZW50LndoaWNoOyAvLyBXZSBvbmx5IGNhcmUgYWJvdXQgc3BhY2UgYW5kIHJldHVyblxyXG5cclxuICAgICAgICBpZiAoIVsxMywgMzJdLmluY2x1ZGVzKGNvZGUpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSAvLyBCZWNhdXNlIHJldHVybiB0cmlnZ2VycyBhIGNsaWNrIGFueXdheSwgYWxsIHdlIG5lZWQgdG8gZG8gaXMgc2V0IGZvY3VzXHJcblxyXG5cclxuICAgICAgICBpZiAoY29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgIGNvbnRyb2xzLmZvY3VzRmlyc3RNZW51SXRlbS5jYWxsKHBsYXllciwgbnVsbCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gLy8gUHJldmVudCBzY3JvbGxcclxuXHJcblxyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgcGxheWluZyB2aWRlbyAoRmlyZWZveClcclxuXHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIFRvZ2dsZSBtZW51XHJcblxyXG4gICAgICAgIGNvbnRyb2xzLnRvZ2dsZU1lbnUuY2FsbChwbGF5ZXIsIGV2ZW50KTtcclxuICAgICAgfSwgbnVsbCwgZmFsc2UgLy8gQ2FuJ3QgYmUgcGFzc2l2ZSBhcyB3ZSdyZSBwcmV2ZW50aW5nIGRlZmF1bHRcclxuICAgICAgKTsgLy8gRXNjYXBlIGNsb3NlcyBtZW51XHJcblxyXG4gICAgICB0aGlzLmJpbmQoZWxlbWVudHMuc2V0dGluZ3MubWVudSwgJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDI3KSB7XHJcbiAgICAgICAgICBjb250cm9scy50b2dnbGVNZW51LmNhbGwocGxheWVyLCBldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTsgLy8gU2V0IHJhbmdlIGlucHV0IGFsdGVybmF0aXZlIFwidmFsdWVcIiwgd2hpY2ggbWF0Y2hlcyB0aGUgdG9vbHRpcCB0aW1lICgjOTU0KVxyXG5cclxuICAgICAgdGhpcy5iaW5kKGVsZW1lbnRzLmlucHV0cy5zZWVrLCAnbW91c2Vkb3duIG1vdXNlbW92ZScsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciByZWN0ID0gZWxlbWVudHMucHJvZ3Jlc3MuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdmFyIHBlcmNlbnQgPSAxMDAgLyByZWN0LndpZHRoICogKGV2ZW50LnBhZ2VYIC0gcmVjdC5sZWZ0KTtcclxuICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LnNldEF0dHJpYnV0ZSgnc2Vlay12YWx1ZScsIHBlcmNlbnQpO1xyXG4gICAgICB9KTsgLy8gUGF1c2Ugd2hpbGUgc2Vla2luZ1xyXG5cclxuICAgICAgdGhpcy5iaW5kKGVsZW1lbnRzLmlucHV0cy5zZWVrLCAnbW91c2Vkb3duIG1vdXNldXAga2V5ZG93biBrZXl1cCB0b3VjaHN0YXJ0IHRvdWNoZW5kJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHNlZWsgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xyXG4gICAgICAgIHZhciBjb2RlID0gZXZlbnQua2V5Q29kZSA/IGV2ZW50LmtleUNvZGUgOiBldmVudC53aGljaDtcclxuICAgICAgICB2YXIgYXR0cmlidXRlID0gJ3BsYXktb24tc2Vla2VkJztcclxuXHJcbiAgICAgICAgaWYgKGlzJDEua2V5Ym9hcmRFdmVudChldmVudCkgJiYgY29kZSAhPT0gMzkgJiYgY29kZSAhPT0gMzcpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IC8vIFJlY29yZCBzZWVrIHRpbWUgc28gd2UgY2FuIHByZXZlbnQgaGlkaW5nIGNvbnRyb2xzIGZvciBhIGZldyBzZWNvbmRzIGFmdGVyIHNlZWtcclxuXHJcblxyXG4gICAgICAgIHBsYXllci5sYXN0U2Vla1RpbWUgPSBEYXRlLm5vdygpOyAvLyBXYXMgcGxheWluZyBiZWZvcmU/XHJcblxyXG4gICAgICAgIHZhciBwbGF5ID0gc2Vlay5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKTsgLy8gRG9uZSBzZWVraW5nXHJcblxyXG4gICAgICAgIHZhciBkb25lID0gWydtb3VzZXVwJywgJ3RvdWNoZW5kJywgJ2tleXVwJ10uaW5jbHVkZXMoZXZlbnQudHlwZSk7IC8vIElmIHdlJ3JlIGRvbmUgc2Vla2luZyBhbmQgaXQgd2FzIHBsYXlpbmcsIHJlc3VtZSBwbGF5YmFja1xyXG5cclxuICAgICAgICBpZiAocGxheSAmJiBkb25lKSB7XHJcbiAgICAgICAgICBzZWVrLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgcGxheWVyLnBsYXkoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCFkb25lICYmIHBsYXllci5wbGF5aW5nKSB7XHJcbiAgICAgICAgICBzZWVrLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsICcnKTtcclxuICAgICAgICAgIHBsYXllci5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7IC8vIEZpeCByYW5nZSBpbnB1dHMgb24gaU9TXHJcbiAgICAgIC8vIFN1cGVyIHdlaXJkIGlPUyBidWcgd2hlcmUgYWZ0ZXIgeW91IGludGVyYWN0IHdpdGggYW4gPGlucHV0IHR5cGU9XCJyYW5nZVwiPixcclxuICAgICAgLy8gaXQgdGFrZXMgb3ZlciBmdXJ0aGVyIGludGVyYWN0aW9ucyBvbiB0aGUgcGFnZS4gVGhpcyBpcyBhIGhhY2tcclxuXHJcbiAgICAgIGlmIChicm93c2VyLmlzSW9zKSB7XHJcbiAgICAgICAgdmFyIGlucHV0cyA9IGdldEVsZW1lbnRzLmNhbGwocGxheWVyLCAnaW5wdXRbdHlwZT1cInJhbmdlXCJdJyk7XHJcbiAgICAgICAgQXJyYXkuZnJvbShpbnB1dHMpLmZvckVhY2goZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgICAgICAgICByZXR1cm4gX3RoaXMzLmJpbmQoaW5wdXQsIGlucHV0RXZlbnQsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVwYWludChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gLy8gU2Vla1xyXG5cclxuXHJcbiAgICAgIHRoaXMuYmluZChlbGVtZW50cy5pbnB1dHMuc2VlaywgaW5wdXRFdmVudCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHNlZWsgPSBldmVudC5jdXJyZW50VGFyZ2V0OyAvLyBJZiBpdCBleGlzdHMsIHVzZSBzZWVrLXZhbHVlIGluc3RlYWQgb2YgXCJ2YWx1ZVwiIGZvciBjb25zaXN0ZW5jeSB3aXRoIHRvb2x0aXAgdGltZSAoIzk1NClcclxuXHJcbiAgICAgICAgdmFyIHNlZWtUbyA9IHNlZWsuZ2V0QXR0cmlidXRlKCdzZWVrLXZhbHVlJyk7XHJcblxyXG4gICAgICAgIGlmIChpcyQxLmVtcHR5KHNlZWtUbykpIHtcclxuICAgICAgICAgIHNlZWtUbyA9IHNlZWsudmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWVrLnJlbW92ZUF0dHJpYnV0ZSgnc2Vlay12YWx1ZScpO1xyXG4gICAgICAgIHBsYXllci5jdXJyZW50VGltZSA9IHNlZWtUbyAvIHNlZWsubWF4ICogcGxheWVyLmR1cmF0aW9uO1xyXG4gICAgICB9LCAnc2VlaycpOyAvLyBTZWVrIHRvb2x0aXBcclxuXHJcbiAgICAgIHRoaXMuYmluZChlbGVtZW50cy5wcm9ncmVzcywgJ21vdXNlZW50ZXIgbW91c2VsZWF2ZSBtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICByZXR1cm4gY29udHJvbHMudXBkYXRlU2Vla1Rvb2x0aXAuY2FsbChwbGF5ZXIsIGV2ZW50KTtcclxuICAgICAgfSk7IC8vIFByZXZpZXcgdGh1bWJuYWlscyBwbHVnaW5cclxuICAgICAgLy8gVE9ETzogUmVhbGx5IG5lZWQgdG8gd29yayBvbiBzb21lIHNvcnQgb2YgcGx1Zy1pbiB3aWRlIGV2ZW50IGJ1cyBvciBwdWItc3ViIGZvciB0aGlzXHJcblxyXG4gICAgICB0aGlzLmJpbmQoZWxlbWVudHMucHJvZ3Jlc3MsICdtb3VzZW1vdmUgdG91Y2htb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHByZXZpZXdUaHVtYm5haWxzID0gcGxheWVyLnByZXZpZXdUaHVtYm5haWxzO1xyXG5cclxuICAgICAgICBpZiAocHJldmlld1RodW1ibmFpbHMgJiYgcHJldmlld1RodW1ibmFpbHMubG9hZGVkKSB7XHJcbiAgICAgICAgICBwcmV2aWV3VGh1bWJuYWlscy5zdGFydE1vdmUoZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7IC8vIEhpZGUgdGh1bWJuYWlsIHByZXZpZXcgLSBvbiBtb3VzZSBjbGljaywgbW91c2UgbGVhdmUsIGFuZCB2aWRlbyBwbGF5L3NlZWsuIEFsbCBmb3VyIGFyZSByZXF1aXJlZCwgZS5nLiwgZm9yIGJ1ZmZlcmluZ1xyXG5cclxuICAgICAgdGhpcy5iaW5kKGVsZW1lbnRzLnByb2dyZXNzLCAnbW91c2VsZWF2ZSBjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcHJldmlld1RodW1ibmFpbHMgPSBwbGF5ZXIucHJldmlld1RodW1ibmFpbHM7XHJcblxyXG4gICAgICAgIGlmIChwcmV2aWV3VGh1bWJuYWlscyAmJiBwcmV2aWV3VGh1bWJuYWlscy5sb2FkZWQpIHtcclxuICAgICAgICAgIHByZXZpZXdUaHVtYm5haWxzLmVuZE1vdmUoZmFsc2UsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7IC8vIFNob3cgc2NydWJiaW5nIHByZXZpZXdcclxuXHJcbiAgICAgIHRoaXMuYmluZChlbGVtZW50cy5wcm9ncmVzcywgJ21vdXNlZG93biB0b3VjaHN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHByZXZpZXdUaHVtYm5haWxzID0gcGxheWVyLnByZXZpZXdUaHVtYm5haWxzO1xyXG5cclxuICAgICAgICBpZiAocHJldmlld1RodW1ibmFpbHMgJiYgcHJldmlld1RodW1ibmFpbHMubG9hZGVkKSB7XHJcbiAgICAgICAgICBwcmV2aWV3VGh1bWJuYWlscy5zdGFydFNjcnViYmluZyhldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5iaW5kKGVsZW1lbnRzLnByb2dyZXNzLCAnbW91c2V1cCB0b3VjaGVuZCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBwcmV2aWV3VGh1bWJuYWlscyA9IHBsYXllci5wcmV2aWV3VGh1bWJuYWlscztcclxuXHJcbiAgICAgICAgaWYgKHByZXZpZXdUaHVtYm5haWxzICYmIHByZXZpZXdUaHVtYm5haWxzLmxvYWRlZCkge1xyXG4gICAgICAgICAgcHJldmlld1RodW1ibmFpbHMuZW5kU2NydWJiaW5nKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pOyAvLyBQb2x5ZmlsbCBmb3IgbG93ZXIgZmlsbCBpbiA8aW5wdXQgdHlwZT1cInJhbmdlXCI+IGZvciB3ZWJraXRcclxuXHJcbiAgICAgIGlmIChicm93c2VyLmlzV2Via2l0KSB7XHJcbiAgICAgICAgQXJyYXkuZnJvbShnZXRFbGVtZW50cy5jYWxsKHBsYXllciwgJ2lucHV0W3R5cGU9XCJyYW5nZVwiXScpKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICBfdGhpczMuYmluZChlbGVtZW50LCAnaW5wdXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xzLnVwZGF0ZVJhbmdlRmlsbC5jYWxsKHBsYXllciwgZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IC8vIEN1cnJlbnQgdGltZSBpbnZlcnRcclxuICAgICAgLy8gT25seSBpZiBvbmUgdGltZSBlbGVtZW50IGlzIHVzZWQgZm9yIGJvdGggY3VycmVudFRpbWUgYW5kIGR1cmF0aW9uXHJcblxyXG5cclxuICAgICAgaWYgKHBsYXllci5jb25maWcudG9nZ2xlSW52ZXJ0ICYmICFpcyQxLmVsZW1lbnQoZWxlbWVudHMuZGlzcGxheS5kdXJhdGlvbikpIHtcclxuICAgICAgICB0aGlzLmJpbmQoZWxlbWVudHMuZGlzcGxheS5jdXJyZW50VGltZSwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgLy8gRG8gbm90aGluZyBpZiB3ZSdyZSBhdCB0aGUgc3RhcnRcclxuICAgICAgICAgIGlmIChwbGF5ZXIuY3VycmVudFRpbWUgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHBsYXllci5jb25maWcuaW52ZXJ0VGltZSA9ICFwbGF5ZXIuY29uZmlnLmludmVydFRpbWU7XHJcblxyXG4gICAgICAgICAgY29udHJvbHMudGltZVVwZGF0ZS5jYWxsKHBsYXllcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gLy8gVm9sdW1lXHJcblxyXG5cclxuICAgICAgdGhpcy5iaW5kKGVsZW1lbnRzLmlucHV0cy52b2x1bWUsIGlucHV0RXZlbnQsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHBsYXllci52b2x1bWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgIH0sICd2b2x1bWUnKTsgLy8gVXBkYXRlIGNvbnRyb2xzLmhvdmVyIHN0YXRlICh1c2VkIGZvciB1aS50b2dnbGVDb250cm9scyB0byBhdm9pZCBoaWRpbmcgd2hlbiBpbnRlcmFjdGluZylcclxuXHJcbiAgICAgIHRoaXMuYmluZChlbGVtZW50cy5jb250cm9scywgJ21vdXNlZW50ZXIgbW91c2VsZWF2ZScsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGVsZW1lbnRzLmNvbnRyb2xzLmhvdmVyID0gIXBsYXllci50b3VjaCAmJiBldmVudC50eXBlID09PSAnbW91c2VlbnRlcic7XHJcbiAgICAgIH0pOyAvLyBVcGRhdGUgY29udHJvbHMucHJlc3NlZCBzdGF0ZSAodXNlZCBmb3IgdWkudG9nZ2xlQ29udHJvbHMgdG8gYXZvaWQgaGlkaW5nIHdoZW4gaW50ZXJhY3RpbmcpXHJcblxyXG4gICAgICB0aGlzLmJpbmQoZWxlbWVudHMuY29udHJvbHMsICdtb3VzZWRvd24gbW91c2V1cCB0b3VjaHN0YXJ0IHRvdWNoZW5kIHRvdWNoY2FuY2VsJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgZWxlbWVudHMuY29udHJvbHMucHJlc3NlZCA9IFsnbW91c2Vkb3duJywgJ3RvdWNoc3RhcnQnXS5pbmNsdWRlcyhldmVudC50eXBlKTtcclxuICAgICAgfSk7IC8vIFNob3cgY29udHJvbHMgd2hlbiB0aGV5IHJlY2VpdmUgZm9jdXMgKGUuZy4sIHdoZW4gdXNpbmcga2V5Ym9hcmQgdGFiIGtleSlcclxuXHJcbiAgICAgIHRoaXMuYmluZChlbGVtZW50cy5jb250cm9scywgJ2ZvY3VzaW4nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHBsYXllci5jb25maWcsXHJcbiAgICAgICAgICAgIHRpbWVycyA9IHBsYXllci50aW1lcnM7IC8vIFNraXAgdHJhbnNpdGlvbiB0byBwcmV2ZW50IGZvY3VzIGZyb20gc2Nyb2xsaW5nIHRoZSBwYXJlbnQgZWxlbWVudFxyXG5cclxuICAgICAgICB0b2dnbGVDbGFzcyhlbGVtZW50cy5jb250cm9scywgY29uZmlnLmNsYXNzTmFtZXMubm9UcmFuc2l0aW9uLCB0cnVlKTsgLy8gVG9nZ2xlXHJcblxyXG4gICAgICAgIHVpLnRvZ2dsZUNvbnRyb2xzLmNhbGwocGxheWVyLCB0cnVlKTsgLy8gUmVzdG9yZSB0cmFuc2l0aW9uXHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdG9nZ2xlQ2xhc3MoZWxlbWVudHMuY29udHJvbHMsIGNvbmZpZy5jbGFzc05hbWVzLm5vVHJhbnNpdGlvbiwgZmFsc2UpO1xyXG4gICAgICAgIH0sIDApOyAvLyBEZWxheSBhIGxpdHRsZSBtb3JlIGZvciBtb3VzZSB1c2Vyc1xyXG5cclxuICAgICAgICB2YXIgZGVsYXkgPSBfdGhpczMudG91Y2ggPyAzMDAwIDogNDAwMDsgLy8gQ2xlYXIgdGltZXJcclxuXHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVycy5jb250cm9scyk7IC8vIEhpZGUgYWdhaW4gYWZ0ZXIgZGVsYXlcclxuXHJcbiAgICAgICAgdGltZXJzLmNvbnRyb2xzID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gdWkudG9nZ2xlQ29udHJvbHMuY2FsbChwbGF5ZXIsIGZhbHNlKTtcclxuICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgIH0pOyAvLyBNb3VzZSB3aGVlbCBmb3Igdm9sdW1lXHJcblxyXG4gICAgICB0aGlzLmJpbmQoZWxlbWVudHMuaW5wdXRzLnZvbHVtZSwgJ3doZWVsJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gRGV0ZWN0IFwibmF0dXJhbFwiIHNjcm9sbCAtIHN1cHBvcmVkIG9uIE9TIFggU2FmYXJpIG9ubHlcclxuICAgICAgICAvLyBPdGhlciBicm93c2VycyBvbiBPUyBYIHdpbGwgYmUgaW52ZXJ0ZWQgdW50aWwgc3VwcG9ydCBpbXByb3Zlc1xyXG4gICAgICAgIHZhciBpbnZlcnRlZCA9IGV2ZW50LndlYmtpdERpcmVjdGlvbkludmVydGVkRnJvbURldmljZTsgLy8gR2V0IGRlbHRhIGZyb20gZXZlbnQuIEludmVydCBpZiBgaW52ZXJ0ZWRgIGlzIHRydWVcclxuXHJcbiAgICAgICAgdmFyIF9tYXAgPSBbZXZlbnQuZGVsdGFYLCAtZXZlbnQuZGVsdGFZXS5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gaW52ZXJ0ZWQgPyAtdmFsdWUgOiB2YWx1ZTtcclxuICAgICAgICB9KSxcclxuICAgICAgICAgICAgX21hcDIgPSBfc2xpY2VkVG9BcnJheShfbWFwLCAyKSxcclxuICAgICAgICAgICAgeCA9IF9tYXAyWzBdLFxyXG4gICAgICAgICAgICB5ID0gX21hcDJbMV07IC8vIFVzaW5nIHRoZSBiaWdnZXN0IGRlbHRhLCBub3JtYWxpemUgdG8gMSBvciAtMSAob3IgMCBpZiBubyBkZWx0YSlcclxuXHJcblxyXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBNYXRoLnNpZ24oTWF0aC5hYnMoeCkgPiBNYXRoLmFicyh5KSA/IHggOiB5KTsgLy8gQ2hhbmdlIHRoZSB2b2x1bWUgYnkgMiVcclxuXHJcbiAgICAgICAgcGxheWVyLmluY3JlYXNlVm9sdW1lKGRpcmVjdGlvbiAvIDUwKTsgLy8gRG9uJ3QgYnJlYWsgcGFnZSBzY3JvbGxpbmcgYXQgbWF4IGFuZCBtaW5cclxuXHJcbiAgICAgICAgdmFyIHZvbHVtZSA9IHBsYXllci5tZWRpYS52b2x1bWU7XHJcblxyXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IDEgJiYgdm9sdW1lIDwgMSB8fCBkaXJlY3Rpb24gPT09IC0xICYmIHZvbHVtZSA+IDApIHtcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAndm9sdW1lJywgZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1dKTtcclxuXHJcbiAgcmV0dXJuIExpc3RlbmVycztcclxufSgpO1xyXG5cclxudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XHJcblx0cmV0dXJuIG1vZHVsZSA9IHsgZXhwb3J0czoge30gfSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xyXG59XHJcblxyXG52YXIgbG9hZGpzX3VtZCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcclxuICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcclxuICAgIHtcclxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XHJcbiAgICB9XHJcbiAgfSkoY29tbW9uanNHbG9iYWwsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogR2xvYmFsIGRlcGVuZGVuY2llcy5cclxuICAgICAqIEBnbG9iYWwge09iamVjdH0gZG9jdW1lbnQgLSBET01cclxuICAgICAqL1xyXG4gICAgdmFyIGRldm51bGwgPSBmdW5jdGlvbiBkZXZudWxsKCkge30sXHJcbiAgICAgICAgYnVuZGxlSWRDYWNoZSA9IHt9LFxyXG4gICAgICAgIGJ1bmRsZVJlc3VsdENhY2hlID0ge30sXHJcbiAgICAgICAgYnVuZGxlQ2FsbGJhY2tRdWV1ZSA9IHt9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJzY3JpYmUgdG8gYnVuZGxlIGxvYWQgZXZlbnQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBidW5kbGVJZHMgLSBCdW5kbGUgaWRzXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja0ZuIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKi9cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlKGJ1bmRsZUlkcywgY2FsbGJhY2tGbikge1xyXG4gICAgICAvLyBsaXN0aWZ5XHJcbiAgICAgIGJ1bmRsZUlkcyA9IGJ1bmRsZUlkcy5wdXNoID8gYnVuZGxlSWRzIDogW2J1bmRsZUlkc107XHJcbiAgICAgIHZhciBkZXBzTm90Rm91bmQgPSBbXSxcclxuICAgICAgICAgIGkgPSBidW5kbGVJZHMubGVuZ3RoLFxyXG4gICAgICAgICAgbnVtV2FpdGluZyA9IGksXHJcbiAgICAgICAgICBmbixcclxuICAgICAgICAgIGJ1bmRsZUlkLFxyXG4gICAgICAgICAgcixcclxuICAgICAgICAgIHE7IC8vIGRlZmluZSBjYWxsYmFjayBmdW5jdGlvblxyXG5cclxuICAgICAgZm4gPSBmdW5jdGlvbiBmbihidW5kbGVJZCwgcGF0aHNOb3RGb3VuZCkge1xyXG4gICAgICAgIGlmIChwYXRoc05vdEZvdW5kLmxlbmd0aCkgZGVwc05vdEZvdW5kLnB1c2goYnVuZGxlSWQpO1xyXG4gICAgICAgIG51bVdhaXRpbmctLTtcclxuICAgICAgICBpZiAoIW51bVdhaXRpbmcpIGNhbGxiYWNrRm4oZGVwc05vdEZvdW5kKTtcclxuICAgICAgfTsgLy8gcmVnaXN0ZXIgY2FsbGJhY2tcclxuXHJcblxyXG4gICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgYnVuZGxlSWQgPSBidW5kbGVJZHNbaV07IC8vIGV4ZWN1dGUgY2FsbGJhY2sgaWYgaW4gcmVzdWx0IGNhY2hlXHJcblxyXG4gICAgICAgIHIgPSBidW5kbGVSZXN1bHRDYWNoZVtidW5kbGVJZF07XHJcblxyXG4gICAgICAgIGlmIChyKSB7XHJcbiAgICAgICAgICBmbihidW5kbGVJZCwgcik7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9IC8vIGFkZCB0byBjYWxsYmFjayBxdWV1ZVxyXG5cclxuXHJcbiAgICAgICAgcSA9IGJ1bmRsZUNhbGxiYWNrUXVldWVbYnVuZGxlSWRdID0gYnVuZGxlQ2FsbGJhY2tRdWV1ZVtidW5kbGVJZF0gfHwgW107XHJcbiAgICAgICAgcS5wdXNoKGZuKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQdWJsaXNoIGJ1bmRsZSBsb2FkIGV2ZW50LlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1bmRsZUlkIC0gQnVuZGxlIGlkXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRoc05vdEZvdW5kIC0gTGlzdCBvZiBmaWxlcyBub3QgZm91bmRcclxuICAgICAqL1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBwdWJsaXNoKGJ1bmRsZUlkLCBwYXRoc05vdEZvdW5kKSB7XHJcbiAgICAgIC8vIGV4aXQgaWYgaWQgaXNuJ3QgZGVmaW5lZFxyXG4gICAgICBpZiAoIWJ1bmRsZUlkKSByZXR1cm47XHJcbiAgICAgIHZhciBxID0gYnVuZGxlQ2FsbGJhY2tRdWV1ZVtidW5kbGVJZF07IC8vIGNhY2hlIHJlc3VsdFxyXG5cclxuICAgICAgYnVuZGxlUmVzdWx0Q2FjaGVbYnVuZGxlSWRdID0gcGF0aHNOb3RGb3VuZDsgLy8gZXhpdCBpZiBxdWV1ZSBpcyBlbXB0eVxyXG5cclxuICAgICAgaWYgKCFxKSByZXR1cm47IC8vIGVtcHR5IGNhbGxiYWNrIHF1ZXVlXHJcblxyXG4gICAgICB3aGlsZSAocS5sZW5ndGgpIHtcclxuICAgICAgICBxWzBdKGJ1bmRsZUlkLCBwYXRoc05vdEZvdW5kKTtcclxuICAgICAgICBxLnNwbGljZSgwLCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFeGVjdXRlIGNhbGxiYWNrcy5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0IG9yIEZ1bmN0aW9ufSBhcmdzIC0gVGhlIGNhbGxiYWNrIGFyZ3NcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGRlcHNOb3RGb3VuZCAtIExpc3Qgb2YgZGVwZW5kZW5jaWVzIG5vdCBmb3VuZFxyXG4gICAgICovXHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFja3MoYXJncywgZGVwc05vdEZvdW5kKSB7XHJcbiAgICAgIC8vIGFjY2VwdCBmdW5jdGlvbiBhcyBhcmd1bWVudFxyXG4gICAgICBpZiAoYXJncy5jYWxsKSBhcmdzID0ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGFyZ3NcclxuICAgICAgfTsgLy8gc3VjY2VzcyBhbmQgZXJyb3IgY2FsbGJhY2tzXHJcblxyXG4gICAgICBpZiAoZGVwc05vdEZvdW5kLmxlbmd0aCkgKGFyZ3MuZXJyb3IgfHwgZGV2bnVsbCkoZGVwc05vdEZvdW5kKTtlbHNlIChhcmdzLnN1Y2Nlc3MgfHwgZGV2bnVsbCkoYXJncyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvYWQgaW5kaXZpZHVhbCBmaWxlLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBUaGUgZmlsZSBwYXRoXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja0ZuIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKi9cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gbG9hZEZpbGUocGF0aCwgY2FsbGJhY2tGbiwgYXJncywgbnVtVHJpZXMpIHtcclxuICAgICAgdmFyIGRvYyA9IGRvY3VtZW50LFxyXG4gICAgICAgICAgYXN5bmMgPSBhcmdzLmFzeW5jLFxyXG4gICAgICAgICAgbWF4VHJpZXMgPSAoYXJncy5udW1SZXRyaWVzIHx8IDApICsgMSxcclxuICAgICAgICAgIGJlZm9yZUNhbGxiYWNrRm4gPSBhcmdzLmJlZm9yZSB8fCBkZXZudWxsLFxyXG4gICAgICAgICAgcGF0aFN0cmlwcGVkID0gcGF0aC5yZXBsYWNlKC9eKGNzc3xpbWcpIS8sICcnKSxcclxuICAgICAgICAgIGlzTGVnYWN5SUVDc3MsXHJcbiAgICAgICAgICBlO1xyXG4gICAgICBudW1UcmllcyA9IG51bVRyaWVzIHx8IDA7XHJcblxyXG4gICAgICBpZiAoLyheY3NzIXxcXC5jc3MkKS8udGVzdChwYXRoKSkge1xyXG4gICAgICAgIC8vIGNzc1xyXG4gICAgICAgIGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnbGluaycpO1xyXG4gICAgICAgIGUucmVsID0gJ3N0eWxlc2hlZXQnO1xyXG4gICAgICAgIGUuaHJlZiA9IHBhdGhTdHJpcHBlZDsgLy8gdGFnIElFOStcclxuXHJcbiAgICAgICAgaXNMZWdhY3lJRUNzcyA9ICdoaWRlRm9jdXMnIGluIGU7IC8vIHVzZSBwcmVsb2FkIGluIElFIEVkZ2UgKHRvIGRldGVjdCBsb2FkIGVycm9ycylcclxuXHJcbiAgICAgICAgaWYgKGlzTGVnYWN5SUVDc3MgJiYgZS5yZWxMaXN0KSB7XHJcbiAgICAgICAgICBpc0xlZ2FjeUlFQ3NzID0gMDtcclxuICAgICAgICAgIGUucmVsID0gJ3ByZWxvYWQnO1xyXG4gICAgICAgICAgZS5hcyA9ICdzdHlsZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKC8oXmltZyF8XFwuKHBuZ3xnaWZ8anBnfHN2ZykkKS8udGVzdChwYXRoKSkge1xyXG4gICAgICAgIC8vIGltYWdlXHJcbiAgICAgICAgZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICBlLnNyYyA9IHBhdGhTdHJpcHBlZDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBqYXZhc2NyaXB0XHJcbiAgICAgICAgZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuICAgICAgICBlLnNyYyA9IHBhdGg7XHJcbiAgICAgICAgZS5hc3luYyA9IGFzeW5jID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXN5bmM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGUub25sb2FkID0gZS5vbmVycm9yID0gZS5vbmJlZm9yZWxvYWQgPSBmdW5jdGlvbiAoZXYpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gZXYudHlwZVswXTsgLy8gdHJlYXQgZW1wdHkgc3R5bGVzaGVldHMgYXMgZmFpbHVyZXMgdG8gZ2V0IGFyb3VuZCBsYWNrIG9mIG9uZXJyb3JcclxuICAgICAgICAvLyBzdXBwb3J0IGluIElFOS0xMVxyXG5cclxuICAgICAgICBpZiAoaXNMZWdhY3lJRUNzcykge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKCFlLnNoZWV0LmNzc1RleHQubGVuZ3RoKSByZXN1bHQgPSAnZSc7XHJcbiAgICAgICAgICB9IGNhdGNoICh4KSB7XHJcbiAgICAgICAgICAgIC8vIHNoZWV0cyBvYmplY3RzIGNyZWF0ZWQgZnJvbSBsb2FkIGVycm9ycyBkb24ndCBhbGxvdyBhY2Nlc3MgdG9cclxuICAgICAgICAgICAgLy8gYGNzc1RleHRgICh1bmxlc3MgZXJyb3IgaXMgQ29kZToxOCBTZWN1cml0eUVycm9yKVxyXG4gICAgICAgICAgICBpZiAoeC5jb2RlICE9IDE4KSByZXN1bHQgPSAnZSc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSAvLyBoYW5kbGUgcmV0cmllcyBpbiBjYXNlIG9mIGxvYWQgZmFpbHVyZVxyXG5cclxuXHJcbiAgICAgICAgaWYgKHJlc3VsdCA9PSAnZScpIHtcclxuICAgICAgICAgIC8vIGluY3JlbWVudCBjb3VudGVyXHJcbiAgICAgICAgICBudW1UcmllcyArPSAxOyAvLyBleGl0IGZ1bmN0aW9uIGFuZCB0cnkgYWdhaW5cclxuXHJcbiAgICAgICAgICBpZiAobnVtVHJpZXMgPCBtYXhUcmllcykge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9hZEZpbGUocGF0aCwgY2FsbGJhY2tGbiwgYXJncywgbnVtVHJpZXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5yZWwgPT0gJ3ByZWxvYWQnICYmIGUuYXMgPT0gJ3N0eWxlJykge1xyXG4gICAgICAgICAgLy8gYWN0aXZhdGUgcHJlbG9hZGVkIHN0eWxlc2hlZXRzXHJcbiAgICAgICAgICByZXR1cm4gZS5yZWwgPSAnc3R5bGVzaGVldCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG4gICAgICAgIH0gLy8gZXhlY3V0ZSBjYWxsYmFja1xyXG5cclxuXHJcbiAgICAgICAgY2FsbGJhY2tGbihwYXRoLCByZXN1bHQsIGV2LmRlZmF1bHRQcmV2ZW50ZWQpO1xyXG4gICAgICB9OyAvLyBhZGQgdG8gZG9jdW1lbnQgKHVubGVzcyBjYWxsYmFjayByZXR1cm5zIGBmYWxzZWApXHJcblxyXG5cclxuICAgICAgaWYgKGJlZm9yZUNhbGxiYWNrRm4ocGF0aCwgZSkgIT09IGZhbHNlKSBkb2MuaGVhZC5hcHBlbmRDaGlsZChlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9hZCBtdWx0aXBsZSBmaWxlcy5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIC0gVGhlIGZpbGUgcGF0aHNcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrRm4gLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAgICAqL1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBsb2FkRmlsZXMocGF0aHMsIGNhbGxiYWNrRm4sIGFyZ3MpIHtcclxuICAgICAgLy8gbGlzdGlmeSBwYXRoc1xyXG4gICAgICBwYXRocyA9IHBhdGhzLnB1c2ggPyBwYXRocyA6IFtwYXRoc107XHJcbiAgICAgIHZhciBudW1XYWl0aW5nID0gcGF0aHMubGVuZ3RoLFxyXG4gICAgICAgICAgeCA9IG51bVdhaXRpbmcsXHJcbiAgICAgICAgICBwYXRoc05vdEZvdW5kID0gW10sXHJcbiAgICAgICAgICBmbixcclxuICAgICAgICAgIGk7IC8vIGRlZmluZSBjYWxsYmFjayBmdW5jdGlvblxyXG5cclxuICAgICAgZm4gPSBmdW5jdGlvbiBmbihwYXRoLCByZXN1bHQsIGRlZmF1bHRQcmV2ZW50ZWQpIHtcclxuICAgICAgICAvLyBoYW5kbGUgZXJyb3JcclxuICAgICAgICBpZiAocmVzdWx0ID09ICdlJykgcGF0aHNOb3RGb3VuZC5wdXNoKHBhdGgpOyAvLyBoYW5kbGUgYmVmb3JlbG9hZCBldmVudC4gSWYgZGVmYXVsdFByZXZlbnRlZCB0aGVuIHRoYXQgbWVhbnMgdGhlIGxvYWRcclxuICAgICAgICAvLyB3aWxsIGJlIGJsb2NrZWQgKGV4LiBHaG9zdGVyeS9BQlAgb24gU2FmYXJpKVxyXG5cclxuICAgICAgICBpZiAocmVzdWx0ID09ICdiJykge1xyXG4gICAgICAgICAgaWYgKGRlZmF1bHRQcmV2ZW50ZWQpIHBhdGhzTm90Rm91bmQucHVzaChwYXRoKTtlbHNlIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG51bVdhaXRpbmctLTtcclxuICAgICAgICBpZiAoIW51bVdhaXRpbmcpIGNhbGxiYWNrRm4ocGF0aHNOb3RGb3VuZCk7XHJcbiAgICAgIH07IC8vIGxvYWQgc2NyaXB0c1xyXG5cclxuXHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB4OyBpKyspIHtcclxuICAgICAgICBsb2FkRmlsZShwYXRoc1tpXSwgZm4sIGFyZ3MpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYXRlIHNjcmlwdCBsb2FkIGFuZCByZWdpc3RlciBidW5kbGUuXHJcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8c3RyaW5nW10pfSBwYXRocyAtIFRoZSBmaWxlIHBhdGhzXHJcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8RnVuY3Rpb258T2JqZWN0KX0gW2FyZzFdIC0gVGhlICgxKSBidW5kbGVJZCBvciAoMikgc3VjY2Vzc1xyXG4gICAgICogICBjYWxsYmFjayBvciAoMykgb2JqZWN0IGxpdGVyYWwgd2l0aCBzdWNjZXNzL2Vycm9yIGFyZ3VtZW50cywgbnVtUmV0cmllcyxcclxuICAgICAqICAgZXRjLlxyXG4gICAgICogQHBhcmFtIHsoRnVuY3Rpb258T2JqZWN0KX0gW2FyZzJdIC0gVGhlICgxKSBzdWNjZXNzIGNhbGxiYWNrIG9yICgyKSBvYmplY3RcclxuICAgICAqICAgbGl0ZXJhbCB3aXRoIHN1Y2Nlc3MvZXJyb3IgYXJndW1lbnRzLCBudW1SZXRyaWVzLCBldGMuXHJcbiAgICAgKi9cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gbG9hZGpzKHBhdGhzLCBhcmcxLCBhcmcyKSB7XHJcbiAgICAgIHZhciBidW5kbGVJZCwgYXJnczsgLy8gYnVuZGxlSWQgKGlmIHN0cmluZylcclxuXHJcbiAgICAgIGlmIChhcmcxICYmIGFyZzEudHJpbSkgYnVuZGxlSWQgPSBhcmcxOyAvLyBhcmdzIChkZWZhdWx0IGlzIHt9KVxyXG5cclxuICAgICAgYXJncyA9IChidW5kbGVJZCA/IGFyZzIgOiBhcmcxKSB8fCB7fTsgLy8gdGhyb3cgZXJyb3IgaWYgYnVuZGxlIGlzIGFscmVhZHkgZGVmaW5lZFxyXG5cclxuICAgICAgaWYgKGJ1bmRsZUlkKSB7XHJcbiAgICAgICAgaWYgKGJ1bmRsZUlkIGluIGJ1bmRsZUlkQ2FjaGUpIHtcclxuICAgICAgICAgIHRocm93IFwiTG9hZEpTXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJ1bmRsZUlkQ2FjaGVbYnVuZGxlSWRdID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGxvYWRGbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBsb2FkRmlsZXMocGF0aHMsIGZ1bmN0aW9uIChwYXRoc05vdEZvdW5kKSB7XHJcbiAgICAgICAgICAvLyBleGVjdXRlIGNhbGxiYWNrc1xyXG4gICAgICAgICAgZXhlY3V0ZUNhbGxiYWNrcyhhcmdzLCBwYXRoc05vdEZvdW5kKTsgLy8gcmVzb2x2ZSBQcm9taXNlXHJcblxyXG4gICAgICAgICAgaWYgKHJlc29sdmUpIHtcclxuICAgICAgICAgICAgZXhlY3V0ZUNhbGxiYWNrcyh7XHJcbiAgICAgICAgICAgICAgc3VjY2VzczogcmVzb2x2ZSxcclxuICAgICAgICAgICAgICBlcnJvcjogcmVqZWN0XHJcbiAgICAgICAgICAgIH0sIHBhdGhzTm90Rm91bmQpO1xyXG4gICAgICAgICAgfSAvLyBwdWJsaXNoIGJ1bmRsZSBsb2FkIGV2ZW50XHJcblxyXG5cclxuICAgICAgICAgIHB1Ymxpc2goYnVuZGxlSWQsIHBhdGhzTm90Rm91bmQpO1xyXG4gICAgICAgIH0sIGFyZ3MpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoYXJncy5yZXR1cm5Qcm9taXNlKSByZXR1cm4gbmV3IFByb21pc2UobG9hZEZuKTtlbHNlIGxvYWRGbigpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFeGVjdXRlIGNhbGxiYWNrcyB3aGVuIGRlcGVuZGVuY2llcyBoYXZlIGJlZW4gc2F0aXNmaWVkLlxyXG4gICAgICogQHBhcmFtIHsoc3RyaW5nfHN0cmluZ1tdKX0gZGVwcyAtIExpc3Qgb2YgYnVuZGxlIGlkc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgLSBzdWNjZXNzL2Vycm9yIGFyZ3VtZW50c1xyXG4gICAgICovXHJcblxyXG5cclxuICAgIGxvYWRqcy5yZWFkeSA9IGZ1bmN0aW9uIHJlYWR5KGRlcHMsIGFyZ3MpIHtcclxuICAgICAgLy8gc3Vic2NyaWJlIHRvIGJ1bmRsZSBsb2FkIGV2ZW50XHJcbiAgICAgIHN1YnNjcmliZShkZXBzLCBmdW5jdGlvbiAoZGVwc05vdEZvdW5kKSB7XHJcbiAgICAgICAgLy8gZXhlY3V0ZSBjYWxsYmFja3NcclxuICAgICAgICBleGVjdXRlQ2FsbGJhY2tzKGFyZ3MsIGRlcHNOb3RGb3VuZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gbG9hZGpzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTWFudWFsbHkgc2F0aXNmeSBidW5kbGUgZGVwZW5kZW5jaWVzLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1bmRsZUlkIC0gVGhlIGJ1bmRsZSBpZFxyXG4gICAgICovXHJcblxyXG5cclxuICAgIGxvYWRqcy5kb25lID0gZnVuY3Rpb24gZG9uZShidW5kbGVJZCkge1xyXG4gICAgICBwdWJsaXNoKGJ1bmRsZUlkLCBbXSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCBsb2FkanMgZGVwZW5kZW5jaWVzIHN0YXR1c2VzXHJcbiAgICAgKi9cclxuXHJcblxyXG4gICAgbG9hZGpzLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XHJcbiAgICAgIGJ1bmRsZUlkQ2FjaGUgPSB7fTtcclxuICAgICAgYnVuZGxlUmVzdWx0Q2FjaGUgPSB7fTtcclxuICAgICAgYnVuZGxlQ2FsbGJhY2tRdWV1ZSA9IHt9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lIGlmIGJ1bmRsZSBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWRcclxuICAgICAqIEBwYXJhbSBTdHJpbmd9IGJ1bmRsZUlkIC0gVGhlIGJ1bmRsZSBpZFxyXG4gICAgICovXHJcblxyXG5cclxuICAgIGxvYWRqcy5pc0RlZmluZWQgPSBmdW5jdGlvbiBpc0RlZmluZWQoYnVuZGxlSWQpIHtcclxuICAgICAgcmV0dXJuIGJ1bmRsZUlkIGluIGJ1bmRsZUlkQ2FjaGU7XHJcbiAgICB9OyAvLyBleHBvcnRcclxuXHJcblxyXG4gICAgcmV0dXJuIGxvYWRqcztcclxuICB9KTtcclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5mdW5jdGlvbiBsb2FkU2NyaXB0KHVybCkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICBsb2FkanNfdW1kKHVybCwge1xyXG4gICAgICBzdWNjZXNzOiByZXNvbHZlLFxyXG4gICAgICBlcnJvcjogcmVqZWN0XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VJZCh1cmwpIHtcclxuICBpZiAoaXMkMS5lbXB0eSh1cmwpKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGlmIChpcyQxLm51bWJlcihOdW1iZXIodXJsKSkpIHtcclxuICAgIHJldHVybiB1cmw7XHJcbiAgfVxyXG5cclxuICB2YXIgcmVnZXggPSAvXi4qKHZpbWVvLmNvbVxcL3x2aWRlb1xcLykoXFxkKykuKi87XHJcbiAgcmV0dXJuIHVybC5tYXRjaChyZWdleCkgPyBSZWdFeHAuJDIgOiB1cmw7XHJcbn0gLy8gU2V0IHBsYXliYWNrIHN0YXRlIGFuZCB0cmlnZ2VyIGNoYW5nZSAob25seSBvbiBhY3R1YWwgY2hhbmdlKVxyXG5cclxuXHJcbmZ1bmN0aW9uIGFzc3VyZVBsYXliYWNrU3RhdGUocGxheSkge1xyXG4gIGlmIChwbGF5ICYmICF0aGlzLmVtYmVkLmhhc1BsYXllZCkge1xyXG4gICAgdGhpcy5lbWJlZC5oYXNQbGF5ZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgaWYgKHRoaXMubWVkaWEucGF1c2VkID09PSBwbGF5KSB7XHJcbiAgICB0aGlzLm1lZGlhLnBhdXNlZCA9ICFwbGF5O1xyXG4gICAgdHJpZ2dlckV2ZW50LmNhbGwodGhpcywgdGhpcy5tZWRpYSwgcGxheSA/ICdwbGF5JyA6ICdwYXVzZScpO1xyXG4gIH1cclxufVxyXG5cclxudmFyIHZpbWVvID0ge1xyXG4gIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgLy8gQWRkIGVtYmVkIGNsYXNzIGZvciByZXNwb25zaXZlXHJcbiAgICB0b2dnbGVDbGFzcyh0aGlzLmVsZW1lbnRzLndyYXBwZXIsIHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuZW1iZWQsIHRydWUpOyAvLyBTZXQgaW50aWFsIHJhdGlvXHJcblxyXG4gICAgc2V0QXNwZWN0UmF0aW8uY2FsbCh0aGlzKTsgLy8gTG9hZCB0aGUgU0RLIGlmIG5vdCBhbHJlYWR5XHJcblxyXG4gICAgaWYgKCFpcyQxLm9iamVjdCh3aW5kb3cuVmltZW8pKSB7XHJcbiAgICAgIGxvYWRTY3JpcHQodGhpcy5jb25maWcudXJscy52aW1lby5zZGspLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZpbWVvLnJlYWR5LmNhbGwoX3RoaXMpO1xyXG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICBfdGhpcy5kZWJ1Zy53YXJuKCdWaW1lbyBTREsgKHBsYXllci5qcykgZmFpbGVkIHRvIGxvYWQnLCBlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmltZW8ucmVhZHkuY2FsbCh0aGlzKTtcclxuICAgIH1cclxuICB9LFxyXG4gIC8vIEFQSSBSZWFkeVxyXG4gIHJlYWR5OiBmdW5jdGlvbiByZWFkeSgpIHtcclxuICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICAgIHZhciBwbGF5ZXIgPSB0aGlzO1xyXG4gICAgdmFyIGNvbmZpZyA9IHBsYXllci5jb25maWcudmltZW87IC8vIEdldCBWaW1lbyBwYXJhbXMgZm9yIHRoZSBpZnJhbWVcclxuXHJcbiAgICB2YXIgcGFyYW1zID0gYnVpbGRVcmxQYXJhbXMoZXh0ZW5kKHt9LCB7XHJcbiAgICAgIGxvb3A6IHBsYXllci5jb25maWcubG9vcC5hY3RpdmUsXHJcbiAgICAgIGF1dG9wbGF5OiBwbGF5ZXIuYXV0b3BsYXksXHJcbiAgICAgIG11dGVkOiBwbGF5ZXIubXV0ZWQsXHJcbiAgICAgIGdlc3R1cmU6ICdtZWRpYScsXHJcbiAgICAgIHBsYXlzaW5saW5lOiAhdGhpcy5jb25maWcuZnVsbHNjcmVlbi5pb3NOYXRpdmVcclxuICAgIH0sIGNvbmZpZykpOyAvLyBHZXQgdGhlIHNvdXJjZSBVUkwgb3IgSURcclxuXHJcbiAgICB2YXIgc291cmNlID0gcGxheWVyLm1lZGlhLmdldEF0dHJpYnV0ZSgnc3JjJyk7IC8vIEdldCBmcm9tIDxkaXY+IGlmIG5lZWRlZFxyXG5cclxuICAgIGlmIChpcyQxLmVtcHR5KHNvdXJjZSkpIHtcclxuICAgICAgc291cmNlID0gcGxheWVyLm1lZGlhLmdldEF0dHJpYnV0ZShwbGF5ZXIuY29uZmlnLmF0dHJpYnV0ZXMuZW1iZWQuaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBpZCA9IHBhcnNlSWQoc291cmNlKTsgLy8gQnVpbGQgYW4gaWZyYW1lXHJcblxyXG4gICAgdmFyIGlmcmFtZSA9IGNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xyXG4gICAgdmFyIHNyYyA9IGZvcm1hdChwbGF5ZXIuY29uZmlnLnVybHMudmltZW8uaWZyYW1lLCBpZCwgcGFyYW1zKTtcclxuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYyk7XHJcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdhbGxvd2Z1bGxzY3JlZW4nLCAnJyk7XHJcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdhbGxvd3RyYW5zcGFyZW5jeScsICcnKTtcclxuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FsbG93JywgJ2F1dG9wbGF5Jyk7IC8vIEdldCBwb3N0ZXIsIGlmIGFscmVhZHkgc2V0XHJcblxyXG4gICAgdmFyIHBvc3RlciA9IHBsYXllci5wb3N0ZXI7IC8vIEluamVjdCB0aGUgcGFja2FnZVxyXG5cclxuICAgIHZhciB3cmFwcGVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xyXG4gICAgICBwb3N0ZXI6IHBvc3RlcixcclxuICAgICAgY2xhc3M6IHBsYXllci5jb25maWcuY2xhc3NOYW1lcy5lbWJlZENvbnRhaW5lclxyXG4gICAgfSk7XHJcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGlmcmFtZSk7XHJcbiAgICBwbGF5ZXIubWVkaWEgPSByZXBsYWNlRWxlbWVudCh3cmFwcGVyLCBwbGF5ZXIubWVkaWEpOyAvLyBHZXQgcG9zdGVyIGltYWdlXHJcblxyXG4gICAgZmV0Y2goZm9ybWF0KHBsYXllci5jb25maWcudXJscy52aW1lby5hcGksIGlkKSwgJ2pzb24nKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICBpZiAoaXMkMS5lbXB0eShyZXNwb25zZSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gLy8gR2V0IHRoZSBVUkwgZm9yIHRodW1ibmFpbFxyXG5cclxuXHJcbiAgICAgIHZhciB1cmwgPSBuZXcgVVJMKHJlc3BvbnNlWzBdLnRodW1ibmFpbF9sYXJnZSk7IC8vIEdldCBvcmlnaW5hbCBpbWFnZVxyXG5cclxuICAgICAgdXJsLnBhdGhuYW1lID0gXCJcIi5jb25jYXQodXJsLnBhdGhuYW1lLnNwbGl0KCdfJylbMF0sIFwiLmpwZ1wiKTsgLy8gU2V0IGFuZCBzaG93IHBvc3RlclxyXG5cclxuICAgICAgdWkuc2V0UG9zdGVyLmNhbGwocGxheWVyLCB1cmwuaHJlZikuY2F0Y2goZnVuY3Rpb24gKCkge30pO1xyXG4gICAgfSk7IC8vIFNldHVwIGluc3RhbmNlXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdmltZW8vcGxheWVyLmpzXHJcblxyXG4gICAgcGxheWVyLmVtYmVkID0gbmV3IHdpbmRvdy5WaW1lby5QbGF5ZXIoaWZyYW1lLCB7XHJcbiAgICAgIGF1dG9wYXVzZTogcGxheWVyLmNvbmZpZy5hdXRvcGF1c2UsXHJcbiAgICAgIG11dGVkOiBwbGF5ZXIubXV0ZWRcclxuICAgIH0pO1xyXG4gICAgcGxheWVyLm1lZGlhLnBhdXNlZCA9IHRydWU7XHJcbiAgICBwbGF5ZXIubWVkaWEuY3VycmVudFRpbWUgPSAwOyAvLyBEaXNhYmxlIG5hdGl2ZSB0ZXh0IHRyYWNrIHJlbmRlcmluZ1xyXG5cclxuICAgIGlmIChwbGF5ZXIuc3VwcG9ydGVkLnVpKSB7XHJcbiAgICAgIHBsYXllci5lbWJlZC5kaXNhYmxlVGV4dFRyYWNrKCk7XHJcbiAgICB9IC8vIENyZWF0ZSBhIGZhdXggSFRNTDUgQVBJIHVzaW5nIHRoZSBWaW1lbyBBUElcclxuXHJcblxyXG4gICAgcGxheWVyLm1lZGlhLnBsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGFzc3VyZVBsYXliYWNrU3RhdGUuY2FsbChwbGF5ZXIsIHRydWUpO1xyXG4gICAgICByZXR1cm4gcGxheWVyLmVtYmVkLnBsYXkoKTtcclxuICAgIH07XHJcblxyXG4gICAgcGxheWVyLm1lZGlhLnBhdXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBhc3N1cmVQbGF5YmFja1N0YXRlLmNhbGwocGxheWVyLCBmYWxzZSk7XHJcbiAgICAgIHJldHVybiBwbGF5ZXIuZW1iZWQucGF1c2UoKTtcclxuICAgIH07XHJcblxyXG4gICAgcGxheWVyLm1lZGlhLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHBsYXllci5wYXVzZSgpO1xyXG4gICAgICBwbGF5ZXIuY3VycmVudFRpbWUgPSAwO1xyXG4gICAgfTsgLy8gU2Vla2luZ1xyXG5cclxuXHJcbiAgICB2YXIgY3VycmVudFRpbWUgPSBwbGF5ZXIubWVkaWEuY3VycmVudFRpbWU7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGxheWVyLm1lZGlhLCAnY3VycmVudFRpbWUnLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiBjdXJyZW50VGltZTtcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGltZSkge1xyXG4gICAgICAgIC8vIFZpbWVvIHdpbGwgYXV0b21hdGljYWxseSBwbGF5IG9uIHNlZWsgaWYgdGhlIHZpZGVvIGhhc24ndCBiZWVuIHBsYXllZCBiZWZvcmVcclxuICAgICAgICAvLyBHZXQgY3VycmVudCBwYXVzZWQgc3RhdGUgYW5kIHZvbHVtZSBldGNcclxuICAgICAgICB2YXIgZW1iZWQgPSBwbGF5ZXIuZW1iZWQsXHJcbiAgICAgICAgICAgIG1lZGlhID0gcGxheWVyLm1lZGlhLFxyXG4gICAgICAgICAgICBwYXVzZWQgPSBwbGF5ZXIucGF1c2VkLFxyXG4gICAgICAgICAgICB2b2x1bWUgPSBwbGF5ZXIudm9sdW1lO1xyXG4gICAgICAgIHZhciByZXN0b3JlUGF1c2UgPSBwYXVzZWQgJiYgIWVtYmVkLmhhc1BsYXllZDsgLy8gU2V0IHNlZWtpbmcgc3RhdGUgYW5kIHRyaWdnZXIgZXZlbnRcclxuXHJcbiAgICAgICAgbWVkaWEuc2Vla2luZyA9IHRydWU7XHJcbiAgICAgICAgdHJpZ2dlckV2ZW50LmNhbGwocGxheWVyLCBtZWRpYSwgJ3NlZWtpbmcnKTsgLy8gSWYgcGF1c2VkLCBtdXRlIHVudGlsIHNlZWsgaXMgY29tcGxldGVcclxuXHJcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHJlc3RvcmVQYXVzZSAmJiBlbWJlZC5zZXRWb2x1bWUoMCkpIC8vIFNlZWtcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gZW1iZWQuc2V0Q3VycmVudFRpbWUodGltZSk7XHJcbiAgICAgICAgfSkgLy8gUmVzdG9yZSBwYXVzZWRcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzdG9yZVBhdXNlICYmIGVtYmVkLnBhdXNlKCk7XHJcbiAgICAgICAgfSkgLy8gUmVzdG9yZSB2b2x1bWVcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzdG9yZVBhdXNlICYmIGVtYmVkLnNldFZvbHVtZSh2b2x1bWUpO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsvLyBEbyBub3RoaW5nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pOyAvLyBQbGF5YmFjayBzcGVlZFxyXG5cclxuICAgIHZhciBzcGVlZCA9IHBsYXllci5jb25maWcuc3BlZWQuc2VsZWN0ZWQ7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGxheWVyLm1lZGlhLCAncGxheWJhY2tSYXRlJywge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gc3BlZWQ7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGlucHV0KSB7XHJcbiAgICAgICAgcGxheWVyLmVtYmVkLnNldFBsYXliYWNrUmF0ZShpbnB1dCkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBzcGVlZCA9IGlucHV0O1xyXG4gICAgICAgICAgdHJpZ2dlckV2ZW50LmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsICdyYXRlY2hhbmdlJyk7XHJcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAvLyBIaWRlIG1lbnUgaXRlbSAoYW5kIG1lbnUgaWYgZW1wdHkpXHJcbiAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Vycm9yJykge1xyXG4gICAgICAgICAgICBjb250cm9scy5zZXRTcGVlZE1lbnUuY2FsbChwbGF5ZXIsIFtdKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7IC8vIFZvbHVtZVxyXG5cclxuICAgIHZhciB2b2x1bWUgPSBwbGF5ZXIuY29uZmlnLnZvbHVtZTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwbGF5ZXIubWVkaWEsICd2b2x1bWUnLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiB2b2x1bWU7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGlucHV0KSB7XHJcbiAgICAgICAgcGxheWVyLmVtYmVkLnNldFZvbHVtZShpbnB1dCkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2b2x1bWUgPSBpbnB1dDtcclxuICAgICAgICAgIHRyaWdnZXJFdmVudC5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAndm9sdW1lY2hhbmdlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pOyAvLyBNdXRlZFxyXG5cclxuICAgIHZhciBtdXRlZCA9IHBsYXllci5jb25maWcubXV0ZWQ7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGxheWVyLm1lZGlhLCAnbXV0ZWQnLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiBtdXRlZDtcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoaW5wdXQpIHtcclxuICAgICAgICB2YXIgdG9nZ2xlID0gaXMkMS5ib29sZWFuKGlucHV0KSA/IGlucHV0IDogZmFsc2U7XHJcbiAgICAgICAgcGxheWVyLmVtYmVkLnNldFZvbHVtZSh0b2dnbGUgPyAwIDogcGxheWVyLmNvbmZpZy52b2x1bWUpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgbXV0ZWQgPSB0b2dnbGU7XHJcbiAgICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3ZvbHVtZWNoYW5nZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTsgLy8gTG9vcFxyXG5cclxuICAgIHZhciBsb29wID0gcGxheWVyLmNvbmZpZy5sb29wO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBsYXllci5tZWRpYSwgJ2xvb3AnLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiBsb29wO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbnB1dCkge1xyXG4gICAgICAgIHZhciB0b2dnbGUgPSBpcyQxLmJvb2xlYW4oaW5wdXQpID8gaW5wdXQgOiBwbGF5ZXIuY29uZmlnLmxvb3AuYWN0aXZlO1xyXG4gICAgICAgIHBsYXllci5lbWJlZC5zZXRMb29wKHRvZ2dsZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBsb29wID0gdG9nZ2xlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTsgLy8gU291cmNlXHJcblxyXG4gICAgdmFyIGN1cnJlbnRTcmM7XHJcbiAgICBwbGF5ZXIuZW1iZWQuZ2V0VmlkZW9VcmwoKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICBjdXJyZW50U3JjID0gdmFsdWU7XHJcbiAgICAgIGNvbnRyb2xzLnNldERvd25sb2FkVXJsLmNhbGwocGxheWVyKTtcclxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICBfdGhpczIuZGVidWcud2FybihlcnJvcik7XHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwbGF5ZXIubWVkaWEsICdjdXJyZW50U3JjJywge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gY3VycmVudFNyYztcclxuICAgICAgfVxyXG4gICAgfSk7IC8vIEVuZGVkXHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBsYXllci5tZWRpYSwgJ2VuZGVkJywge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gcGxheWVyLmN1cnJlbnRUaW1lID09PSBwbGF5ZXIuZHVyYXRpb247XHJcbiAgICAgIH1cclxuICAgIH0pOyAvLyBTZXQgYXNwZWN0IHJhdGlvIGJhc2VkIG9uIHZpZGVvIHNpemVcclxuXHJcbiAgICBQcm9taXNlLmFsbChbcGxheWVyLmVtYmVkLmdldFZpZGVvV2lkdGgoKSwgcGxheWVyLmVtYmVkLmdldFZpZGVvSGVpZ2h0KCldKS50aGVuKGZ1bmN0aW9uIChkaW1lbnNpb25zKSB7XHJcbiAgICAgIHZhciBfZGltZW5zaW9ucyA9IF9zbGljZWRUb0FycmF5KGRpbWVuc2lvbnMsIDIpLFxyXG4gICAgICAgICAgd2lkdGggPSBfZGltZW5zaW9uc1swXSxcclxuICAgICAgICAgIGhlaWdodCA9IF9kaW1lbnNpb25zWzFdO1xyXG5cclxuICAgICAgcGxheWVyLmVtYmVkLnJhdGlvID0gW3dpZHRoLCBoZWlnaHRdO1xyXG4gICAgICBzZXRBc3BlY3RSYXRpby5jYWxsKF90aGlzMik7XHJcbiAgICB9KTsgLy8gU2V0IGF1dG9wYXVzZVxyXG5cclxuICAgIHBsYXllci5lbWJlZC5zZXRBdXRvcGF1c2UocGxheWVyLmNvbmZpZy5hdXRvcGF1c2UpLnRoZW4oZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgIHBsYXllci5jb25maWcuYXV0b3BhdXNlID0gc3RhdGU7XHJcbiAgICB9KTsgLy8gR2V0IHRpdGxlXHJcblxyXG4gICAgcGxheWVyLmVtYmVkLmdldFZpZGVvVGl0bGUoKS50aGVuKGZ1bmN0aW9uICh0aXRsZSkge1xyXG4gICAgICBwbGF5ZXIuY29uZmlnLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgIHVpLnNldFRpdGxlLmNhbGwoX3RoaXMyKTtcclxuICAgIH0pOyAvLyBHZXQgY3VycmVudCB0aW1lXHJcblxyXG4gICAgcGxheWVyLmVtYmVkLmdldEN1cnJlbnRUaW1lKCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgY3VycmVudFRpbWUgPSB2YWx1ZTtcclxuICAgICAgdHJpZ2dlckV2ZW50LmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsICd0aW1ldXBkYXRlJyk7XHJcbiAgICB9KTsgLy8gR2V0IGR1cmF0aW9uXHJcblxyXG4gICAgcGxheWVyLmVtYmVkLmdldER1cmF0aW9uKCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgcGxheWVyLm1lZGlhLmR1cmF0aW9uID0gdmFsdWU7XHJcbiAgICAgIHRyaWdnZXJFdmVudC5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAnZHVyYXRpb25jaGFuZ2UnKTtcclxuICAgIH0pOyAvLyBHZXQgY2FwdGlvbnNcclxuXHJcbiAgICBwbGF5ZXIuZW1iZWQuZ2V0VGV4dFRyYWNrcygpLnRoZW4oZnVuY3Rpb24gKHRyYWNrcykge1xyXG4gICAgICBwbGF5ZXIubWVkaWEudGV4dFRyYWNrcyA9IHRyYWNrcztcclxuICAgICAgY2FwdGlvbnMuc2V0dXAuY2FsbChwbGF5ZXIpO1xyXG4gICAgfSk7XHJcbiAgICBwbGF5ZXIuZW1iZWQub24oJ2N1ZWNoYW5nZScsIGZ1bmN0aW9uIChfcmVmKSB7XHJcbiAgICAgIHZhciBfcmVmJGN1ZXMgPSBfcmVmLmN1ZXMsXHJcbiAgICAgICAgICBjdWVzID0gX3JlZiRjdWVzID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkY3VlcztcclxuICAgICAgdmFyIHN0cmlwcGVkQ3VlcyA9IGN1ZXMubWFwKGZ1bmN0aW9uIChjdWUpIHtcclxuICAgICAgICByZXR1cm4gc3RyaXBIVE1MKGN1ZS50ZXh0KTtcclxuICAgICAgfSk7XHJcbiAgICAgIGNhcHRpb25zLnVwZGF0ZUN1ZXMuY2FsbChwbGF5ZXIsIHN0cmlwcGVkQ3Vlcyk7XHJcbiAgICB9KTtcclxuICAgIHBsYXllci5lbWJlZC5vbignbG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyBBc3N1cmUgc3RhdGUgYW5kIGV2ZW50cyBhcmUgdXBkYXRlZCBvbiBhdXRvcGxheVxyXG4gICAgICBwbGF5ZXIuZW1iZWQuZ2V0UGF1c2VkKCkudGhlbihmdW5jdGlvbiAocGF1c2VkKSB7XHJcbiAgICAgICAgYXNzdXJlUGxheWJhY2tTdGF0ZS5jYWxsKHBsYXllciwgIXBhdXNlZCk7XHJcblxyXG4gICAgICAgIGlmICghcGF1c2VkKSB7XHJcbiAgICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3BsYXlpbmcnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGlzJDEuZWxlbWVudChwbGF5ZXIuZW1iZWQuZWxlbWVudCkgJiYgcGxheWVyLnN1cHBvcnRlZC51aSkge1xyXG4gICAgICAgIHZhciBmcmFtZSA9IHBsYXllci5lbWJlZC5lbGVtZW50OyAvLyBGaXgga2V5Ym9hcmQgZm9jdXMgaXNzdWVzXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3NhbXBvdHRzL3BseXIvaXNzdWVzLzMxN1xyXG5cclxuICAgICAgICBmcmFtZS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgLTEpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHBsYXllci5lbWJlZC5vbigncGxheScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgYXNzdXJlUGxheWJhY2tTdGF0ZS5jYWxsKHBsYXllciwgdHJ1ZSk7XHJcbiAgICAgIHRyaWdnZXJFdmVudC5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAncGxheWluZycpO1xyXG4gICAgfSk7XHJcbiAgICBwbGF5ZXIuZW1iZWQub24oJ3BhdXNlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBhc3N1cmVQbGF5YmFja1N0YXRlLmNhbGwocGxheWVyLCBmYWxzZSk7XHJcbiAgICB9KTtcclxuICAgIHBsYXllci5lbWJlZC5vbigndGltZXVwZGF0ZScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgIHBsYXllci5tZWRpYS5zZWVraW5nID0gZmFsc2U7XHJcbiAgICAgIGN1cnJlbnRUaW1lID0gZGF0YS5zZWNvbmRzO1xyXG4gICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3RpbWV1cGRhdGUnKTtcclxuICAgIH0pO1xyXG4gICAgcGxheWVyLmVtYmVkLm9uKCdwcm9ncmVzcycsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgIHBsYXllci5tZWRpYS5idWZmZXJlZCA9IGRhdGEucGVyY2VudDtcclxuICAgICAgdHJpZ2dlckV2ZW50LmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsICdwcm9ncmVzcycpOyAvLyBDaGVjayBhbGwgbG9hZGVkXHJcblxyXG4gICAgICBpZiAocGFyc2VJbnQoZGF0YS5wZXJjZW50LCAxMCkgPT09IDEpIHtcclxuICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ2NhbnBsYXl0aHJvdWdoJyk7XHJcbiAgICAgIH0gLy8gR2V0IGR1cmF0aW9uIGFzIGlmIHdlIGRvIGl0IGJlZm9yZSBsb2FkLCBpdCBnaXZlcyBhbiBpbmNvcnJlY3QgdmFsdWVcclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3NhbXBvdHRzL3BseXIvaXNzdWVzLzg5MVxyXG5cclxuXHJcbiAgICAgIHBsYXllci5lbWJlZC5nZXREdXJhdGlvbigpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSBwbGF5ZXIubWVkaWEuZHVyYXRpb24pIHtcclxuICAgICAgICAgIHBsYXllci5tZWRpYS5kdXJhdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgdHJpZ2dlckV2ZW50LmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsICdkdXJhdGlvbmNoYW5nZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHBsYXllci5lbWJlZC5vbignc2Vla2VkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBwbGF5ZXIubWVkaWEuc2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3NlZWtlZCcpO1xyXG4gICAgfSk7XHJcbiAgICBwbGF5ZXIuZW1iZWQub24oJ2VuZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBwbGF5ZXIubWVkaWEucGF1c2VkID0gdHJ1ZTtcclxuICAgICAgdHJpZ2dlckV2ZW50LmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsICdlbmRlZCcpO1xyXG4gICAgfSk7XHJcbiAgICBwbGF5ZXIuZW1iZWQub24oJ2Vycm9yJywgZnVuY3Rpb24gKGRldGFpbCkge1xyXG4gICAgICBwbGF5ZXIubWVkaWEuZXJyb3IgPSBkZXRhaWw7XHJcbiAgICAgIHRyaWdnZXJFdmVudC5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAnZXJyb3InKTtcclxuICAgIH0pOyAvLyBSZWJ1aWxkIFVJXHJcblxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiB1aS5idWlsZC5jYWxsKHBsYXllcik7XHJcbiAgICB9LCAwKTtcclxuICB9XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZnVuY3Rpb24gcGFyc2VJZCQxKHVybCkge1xyXG4gIGlmIChpcyQxLmVtcHR5KHVybCkpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgdmFyIHJlZ2V4ID0gL14uKih5b3V0dS5iZVxcL3x2XFwvfHVcXC9cXHdcXC98ZW1iZWRcXC98d2F0Y2hcXD92PXwmdj0pKFteIyY/XSopLiovO1xyXG4gIHJldHVybiB1cmwubWF0Y2gocmVnZXgpID8gUmVnRXhwLiQyIDogdXJsO1xyXG59IC8vIFNldCBwbGF5YmFjayBzdGF0ZSBhbmQgdHJpZ2dlciBjaGFuZ2UgKG9ubHkgb24gYWN0dWFsIGNoYW5nZSlcclxuXHJcblxyXG5mdW5jdGlvbiBhc3N1cmVQbGF5YmFja1N0YXRlJDEocGxheSkge1xyXG4gIGlmIChwbGF5ICYmICF0aGlzLmVtYmVkLmhhc1BsYXllZCkge1xyXG4gICAgdGhpcy5lbWJlZC5oYXNQbGF5ZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgaWYgKHRoaXMubWVkaWEucGF1c2VkID09PSBwbGF5KSB7XHJcbiAgICB0aGlzLm1lZGlhLnBhdXNlZCA9ICFwbGF5O1xyXG4gICAgdHJpZ2dlckV2ZW50LmNhbGwodGhpcywgdGhpcy5tZWRpYSwgcGxheSA/ICdwbGF5JyA6ICdwYXVzZScpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SG9zdChjb25maWcpIHtcclxuICBpZiAoY29uZmlnLm5vQ29va2llKSB7XHJcbiAgICByZXR1cm4gJ2h0dHBzOi8vd3d3LnlvdXR1YmUtbm9jb29raWUuY29tJztcclxuICB9XHJcblxyXG4gIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwOicpIHtcclxuICAgIHJldHVybiAnaHR0cDovL3d3dy55b3V0dWJlLmNvbSc7XHJcbiAgfSAvLyBVc2UgWW91VHViZSdzIGRlZmF1bHRcclxuXHJcblxyXG4gIHJldHVybiB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbnZhciB5b3V0dWJlID0ge1xyXG4gIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgLy8gQWRkIGVtYmVkIGNsYXNzIGZvciByZXNwb25zaXZlXHJcbiAgICB0b2dnbGVDbGFzcyh0aGlzLmVsZW1lbnRzLndyYXBwZXIsIHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuZW1iZWQsIHRydWUpOyAvLyBTZXR1cCBBUElcclxuXHJcbiAgICBpZiAoaXMkMS5vYmplY3Qod2luZG93LllUKSAmJiBpcyQxLmZ1bmN0aW9uKHdpbmRvdy5ZVC5QbGF5ZXIpKSB7XHJcbiAgICAgIHlvdXR1YmUucmVhZHkuY2FsbCh0aGlzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFJlZmVyZW5jZSBjdXJyZW50IGdsb2JhbCBjYWxsYmFja1xyXG4gICAgICB2YXIgY2FsbGJhY2sgPSB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHk7IC8vIFNldCBjYWxsYmFjayB0byBwcm9jZXNzIHF1ZXVlXHJcblxyXG4gICAgICB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gQ2FsbCBnbG9iYWwgY2FsbGJhY2sgaWYgc2V0XHJcbiAgICAgICAgaWYgKGlzJDEuZnVuY3Rpb24oY2FsbGJhY2spKSB7XHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgeW91dHViZS5yZWFkeS5jYWxsKF90aGlzKTtcclxuICAgICAgfTsgLy8gTG9hZCB0aGUgU0RLXHJcblxyXG5cclxuICAgICAgbG9hZFNjcmlwdCh0aGlzLmNvbmZpZy51cmxzLnlvdXR1YmUuc2RrKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICBfdGhpcy5kZWJ1Zy53YXJuKCdZb3VUdWJlIEFQSSBmYWlsZWQgdG8gbG9hZCcsIGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICAvLyBHZXQgdGhlIG1lZGlhIHRpdGxlXHJcbiAgZ2V0VGl0bGU6IGZ1bmN0aW9uIGdldFRpdGxlKHZpZGVvSWQpIHtcclxuICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICAgIHZhciB1cmwgPSBmb3JtYXQodGhpcy5jb25maWcudXJscy55b3V0dWJlLmFwaSwgdmlkZW9JZCk7XHJcbiAgICBmZXRjaCh1cmwpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgaWYgKGlzJDEub2JqZWN0KGRhdGEpKSB7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gZGF0YS50aXRsZSxcclxuICAgICAgICAgICAgaGVpZ2h0ID0gZGF0YS5oZWlnaHQsXHJcbiAgICAgICAgICAgIHdpZHRoID0gZGF0YS53aWR0aDsgLy8gU2V0IHRpdGxlXHJcblxyXG4gICAgICAgIF90aGlzMi5jb25maWcudGl0bGUgPSB0aXRsZTtcclxuICAgICAgICB1aS5zZXRUaXRsZS5jYWxsKF90aGlzMik7IC8vIFNldCBhc3BlY3QgcmF0aW9cclxuXHJcbiAgICAgICAgX3RoaXMyLmVtYmVkLnJhdGlvID0gW3dpZHRoLCBoZWlnaHRdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRBc3BlY3RSYXRpby5jYWxsKF90aGlzMik7XHJcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIFNldCBhc3BlY3QgcmF0aW9cclxuICAgICAgc2V0QXNwZWN0UmF0aW8uY2FsbChfdGhpczIpO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICAvLyBBUEkgcmVhZHlcclxuICByZWFkeTogZnVuY3Rpb24gcmVhZHkoKSB7XHJcbiAgICB2YXIgcGxheWVyID0gdGhpczsgLy8gSWdub3JlIGFscmVhZHkgc2V0dXAgKHJhY2UgY29uZGl0aW9uKVxyXG5cclxuICAgIHZhciBjdXJyZW50SWQgPSBwbGF5ZXIubWVkaWEgJiYgcGxheWVyLm1lZGlhLmdldEF0dHJpYnV0ZSgnaWQnKTtcclxuXHJcbiAgICBpZiAoIWlzJDEuZW1wdHkoY3VycmVudElkKSAmJiBjdXJyZW50SWQuc3RhcnRzV2l0aCgneW91dHViZS0nKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9IC8vIEdldCB0aGUgc291cmNlIFVSTCBvciBJRFxyXG5cclxuXHJcbiAgICB2YXIgc291cmNlID0gcGxheWVyLm1lZGlhLmdldEF0dHJpYnV0ZSgnc3JjJyk7IC8vIEdldCBmcm9tIDxkaXY+IGlmIG5lZWRlZFxyXG5cclxuICAgIGlmIChpcyQxLmVtcHR5KHNvdXJjZSkpIHtcclxuICAgICAgc291cmNlID0gcGxheWVyLm1lZGlhLmdldEF0dHJpYnV0ZSh0aGlzLmNvbmZpZy5hdHRyaWJ1dGVzLmVtYmVkLmlkKTtcclxuICAgIH0gLy8gUmVwbGFjZSB0aGUgPGlmcmFtZT4gd2l0aCBhIDxkaXY+IGR1ZSB0byBZb3VUdWJlIEFQSSBpc3N1ZXNcclxuXHJcblxyXG4gICAgdmFyIHZpZGVvSWQgPSBwYXJzZUlkJDEoc291cmNlKTtcclxuICAgIHZhciBpZCA9IGdlbmVyYXRlSWQocGxheWVyLnByb3ZpZGVyKTsgLy8gR2V0IHBvc3RlciwgaWYgYWxyZWFkeSBzZXRcclxuXHJcbiAgICB2YXIgcG9zdGVyID0gcGxheWVyLnBvc3RlcjsgLy8gUmVwbGFjZSBtZWRpYSBlbGVtZW50XHJcblxyXG4gICAgdmFyIGNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcclxuICAgICAgaWQ6IGlkLFxyXG4gICAgICBwb3N0ZXI6IHBvc3RlclxyXG4gICAgfSk7XHJcbiAgICBwbGF5ZXIubWVkaWEgPSByZXBsYWNlRWxlbWVudChjb250YWluZXIsIHBsYXllci5tZWRpYSk7IC8vIElkIHRvIHBvc3RlciB3cmFwcGVyXHJcblxyXG4gICAgdmFyIHBvc3RlclNyYyA9IGZ1bmN0aW9uIHBvc3RlclNyYyhzKSB7XHJcbiAgICAgIHJldHVybiBcImh0dHBzOi8vaS55dGltZy5jb20vdmkvXCIuY29uY2F0KHZpZGVvSWQsIFwiL1wiKS5jb25jYXQocywgXCJkZWZhdWx0LmpwZ1wiKTtcclxuICAgIH07IC8vIENoZWNrIHRodW1ibmFpbCBpbWFnZXMgaW4gb3JkZXIgb2YgcXVhbGl0eSwgYnV0IHJlamVjdCBmYWxsYmFjayB0aHVtYm5haWxzICgxMjBweCB3aWRlKVxyXG5cclxuXHJcbiAgICBsb2FkSW1hZ2UocG9zdGVyU3JjKCdtYXhyZXMnKSwgMTIxKSAvLyBIaWdlc3QgcXVhbGl0eSBhbmQgdW5wYWRkZWRcclxuICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBsb2FkSW1hZ2UocG9zdGVyU3JjKCdzZCcpLCAxMjEpO1xyXG4gICAgfSkgLy8gNDgwcCBwYWRkZWQgNDozXHJcbiAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gbG9hZEltYWdlKHBvc3RlclNyYygnaHEnKSk7XHJcbiAgICB9KSAvLyAzNjBwIHBhZGRlZCA0OjMuIEFsd2F5cyBleGlzdHNcclxuICAgIC50aGVuKGZ1bmN0aW9uIChpbWFnZSkge1xyXG4gICAgICByZXR1cm4gdWkuc2V0UG9zdGVyLmNhbGwocGxheWVyLCBpbWFnZS5zcmMpO1xyXG4gICAgfSkudGhlbihmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgIC8vIElmIHRoZSBpbWFnZSBpcyBwYWRkZWQsIHVzZSBiYWNrZ3JvdW5kLXNpemUgXCJjb3ZlclwiIGluc3RlYWQgKGxpa2UgeW91dHViZSBkb2VzIHRvbyB3aXRoIHRoZWlyIHBvc3RlcnMpXHJcbiAgICAgIGlmICghc3JjLmluY2x1ZGVzKCdtYXhyZXMnKSkge1xyXG4gICAgICAgIHBsYXllci5lbGVtZW50cy5wb3N0ZXIuc3R5bGUuYmFja2dyb3VuZFNpemUgPSAnY292ZXInO1xyXG4gICAgICB9XHJcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XHJcbiAgICB2YXIgY29uZmlnID0gcGxheWVyLmNvbmZpZy55b3V0dWJlOyAvLyBTZXR1cCBpbnN0YW5jZVxyXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20veW91dHViZS9pZnJhbWVfYXBpX3JlZmVyZW5jZVxyXG5cclxuICAgIHBsYXllci5lbWJlZCA9IG5ldyB3aW5kb3cuWVQuUGxheWVyKGlkLCB7XHJcbiAgICAgIHZpZGVvSWQ6IHZpZGVvSWQsXHJcbiAgICAgIGhvc3Q6IGdldEhvc3QoY29uZmlnKSxcclxuICAgICAgcGxheWVyVmFyczogZXh0ZW5kKHt9LCB7XHJcbiAgICAgICAgYXV0b3BsYXk6IHBsYXllci5jb25maWcuYXV0b3BsYXkgPyAxIDogMCxcclxuICAgICAgICAvLyBBdXRvcGxheVxyXG4gICAgICAgIGhsOiBwbGF5ZXIuY29uZmlnLmhsLFxyXG4gICAgICAgIC8vIGlmcmFtZSBpbnRlcmZhY2UgbGFuZ3VhZ2VcclxuICAgICAgICBjb250cm9sczogcGxheWVyLnN1cHBvcnRlZC51aSA/IDAgOiAxLFxyXG4gICAgICAgIC8vIE9ubHkgc2hvdyBjb250cm9scyBpZiBub3QgZnVsbHkgc3VwcG9ydGVkXHJcbiAgICAgICAgZGlzYWJsZWtiOiAxLFxyXG4gICAgICAgIC8vIERpc2FibGUga2V5Ym9hcmQgYXMgd2UgaGFuZGxlIGl0XHJcbiAgICAgICAgcGxheXNpbmxpbmU6ICFwbGF5ZXIuY29uZmlnLmZ1bGxzY3JlZW4uaW9zTmF0aXZlID8gMSA6IDAsXHJcbiAgICAgICAgLy8gQWxsb3cgaU9TIGlubGluZSBwbGF5YmFja1xyXG4gICAgICAgIC8vIENhcHRpb25zIGFyZSBmbGFreSBvbiBZb3VUdWJlXHJcbiAgICAgICAgY2NfbG9hZF9wb2xpY3k6IHBsYXllci5jYXB0aW9ucy5hY3RpdmUgPyAxIDogMCxcclxuICAgICAgICBjY19sYW5nX3ByZWY6IHBsYXllci5jb25maWcuY2FwdGlvbnMubGFuZ3VhZ2UsXHJcbiAgICAgICAgLy8gVHJhY2tpbmcgZm9yIHN0YXRzXHJcbiAgICAgICAgd2lkZ2V0X3JlZmVycmVyOiB3aW5kb3cgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6IG51bGxcclxuICAgICAgfSwgY29uZmlnKSxcclxuICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcihldmVudCkge1xyXG4gICAgICAgICAgLy8gWW91VHViZSBtYXkgZmlyZSBvbkVycm9yIHR3aWNlLCBzbyBvbmx5IGhhbmRsZSBpdCBvbmNlXHJcbiAgICAgICAgICBpZiAoIXBsYXllci5tZWRpYS5lcnJvcikge1xyXG4gICAgICAgICAgICB2YXIgY29kZSA9IGV2ZW50LmRhdGE7IC8vIE1lc3NhZ2VzIGNvcGllZCBmcm9tIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3lvdXR1YmUvaWZyYW1lX2FwaV9yZWZlcmVuY2Ujb25FcnJvclxyXG5cclxuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSB7XHJcbiAgICAgICAgICAgICAgMjogJ1RoZSByZXF1ZXN0IGNvbnRhaW5zIGFuIGludmFsaWQgcGFyYW1ldGVyIHZhbHVlLiBGb3IgZXhhbXBsZSwgdGhpcyBlcnJvciBvY2N1cnMgaWYgeW91IHNwZWNpZnkgYSB2aWRlbyBJRCB0aGF0IGRvZXMgbm90IGhhdmUgMTEgY2hhcmFjdGVycywgb3IgaWYgdGhlIHZpZGVvIElEIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycywgc3VjaCBhcyBleGNsYW1hdGlvbiBwb2ludHMgb3IgYXN0ZXJpc2tzLicsXHJcbiAgICAgICAgICAgICAgNTogJ1RoZSByZXF1ZXN0ZWQgY29udGVudCBjYW5ub3QgYmUgcGxheWVkIGluIGFuIEhUTUw1IHBsYXllciBvciBhbm90aGVyIGVycm9yIHJlbGF0ZWQgdG8gdGhlIEhUTUw1IHBsYXllciBoYXMgb2NjdXJyZWQuJyxcclxuICAgICAgICAgICAgICAxMDA6ICdUaGUgdmlkZW8gcmVxdWVzdGVkIHdhcyBub3QgZm91bmQuIFRoaXMgZXJyb3Igb2NjdXJzIHdoZW4gYSB2aWRlbyBoYXMgYmVlbiByZW1vdmVkIChmb3IgYW55IHJlYXNvbikgb3IgaGFzIGJlZW4gbWFya2VkIGFzIHByaXZhdGUuJyxcclxuICAgICAgICAgICAgICAxMDE6ICdUaGUgb3duZXIgb2YgdGhlIHJlcXVlc3RlZCB2aWRlbyBkb2VzIG5vdCBhbGxvdyBpdCB0byBiZSBwbGF5ZWQgaW4gZW1iZWRkZWQgcGxheWVycy4nLFxyXG4gICAgICAgICAgICAgIDE1MDogJ1RoZSBvd25lciBvZiB0aGUgcmVxdWVzdGVkIHZpZGVvIGRvZXMgbm90IGFsbG93IGl0IHRvIGJlIHBsYXllZCBpbiBlbWJlZGRlZCBwbGF5ZXJzLidcclxuICAgICAgICAgICAgfVtjb2RlXSB8fCAnQW4gdW5rbm93biBlcnJvciBvY2N1cmVkJztcclxuICAgICAgICAgICAgcGxheWVyLm1lZGlhLmVycm9yID0ge1xyXG4gICAgICAgICAgICAgIGNvZGU6IGNvZGUsXHJcbiAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvblBsYXliYWNrUmF0ZUNoYW5nZTogZnVuY3Rpb24gb25QbGF5YmFja1JhdGVDaGFuZ2UoZXZlbnQpIHtcclxuICAgICAgICAgIC8vIEdldCB0aGUgaW5zdGFuY2VcclxuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGV2ZW50LnRhcmdldDsgLy8gR2V0IGN1cnJlbnQgc3BlZWRcclxuXHJcbiAgICAgICAgICBwbGF5ZXIubWVkaWEucGxheWJhY2tSYXRlID0gaW5zdGFuY2UuZ2V0UGxheWJhY2tSYXRlKCk7XHJcbiAgICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3JhdGVjaGFuZ2UnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uIG9uUmVhZHkoZXZlbnQpIHtcclxuICAgICAgICAgIC8vIEJhaWwgaWYgb25SZWFkeSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZC4gU2VlIGlzc3VlICMxMTA4XHJcbiAgICAgICAgICBpZiAoaXMkMS5mdW5jdGlvbihwbGF5ZXIubWVkaWEucGxheSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfSAvLyBHZXQgdGhlIGluc3RhbmNlXHJcblxyXG5cclxuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGV2ZW50LnRhcmdldDsgLy8gR2V0IHRoZSB0aXRsZVxyXG5cclxuICAgICAgICAgIHlvdXR1YmUuZ2V0VGl0bGUuY2FsbChwbGF5ZXIsIHZpZGVvSWQpOyAvLyBDcmVhdGUgYSBmYXV4IEhUTUw1IEFQSSB1c2luZyB0aGUgWW91VHViZSBBUElcclxuXHJcbiAgICAgICAgICBwbGF5ZXIubWVkaWEucGxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYXNzdXJlUGxheWJhY2tTdGF0ZSQxLmNhbGwocGxheWVyLCB0cnVlKTtcclxuICAgICAgICAgICAgaW5zdGFuY2UucGxheVZpZGVvKCk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHBsYXllci5tZWRpYS5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYXNzdXJlUGxheWJhY2tTdGF0ZSQxLmNhbGwocGxheWVyLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnBhdXNlVmlkZW8oKTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgcGxheWVyLm1lZGlhLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnN0b3BWaWRlbygpO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBwbGF5ZXIubWVkaWEuZHVyYXRpb24gPSBpbnN0YW5jZS5nZXREdXJhdGlvbigpO1xyXG4gICAgICAgICAgcGxheWVyLm1lZGlhLnBhdXNlZCA9IHRydWU7IC8vIFNlZWtpbmdcclxuXHJcbiAgICAgICAgICBwbGF5ZXIubWVkaWEuY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBsYXllci5tZWRpYSwgJ2N1cnJlbnRUaW1lJywge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKGluc3RhbmNlLmdldEN1cnJlbnRUaW1lKCkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0aW1lKSB7XHJcbiAgICAgICAgICAgICAgLy8gSWYgcGF1c2VkIGFuZCBuZXZlciBwbGF5ZWQsIG11dGUgYXVkaW8gcHJldmVudGl2ZWx5IChZb3VUdWJlIHN0YXJ0cyBwbGF5aW5nIG9uIHNlZWsgaWYgdGhlIHZpZGVvIGhhc24ndCBiZWVuIHBsYXllZCB5ZXQpLlxyXG4gICAgICAgICAgICAgIGlmIChwbGF5ZXIucGF1c2VkICYmICFwbGF5ZXIuZW1iZWQuaGFzUGxheWVkKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuZW1iZWQubXV0ZSgpO1xyXG4gICAgICAgICAgICAgIH0gLy8gU2V0IHNlZWtpbmcgc3RhdGUgYW5kIHRyaWdnZXIgZXZlbnRcclxuXHJcblxyXG4gICAgICAgICAgICAgIHBsYXllci5tZWRpYS5zZWVraW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3NlZWtpbmcnKTsgLy8gU2VlayBhZnRlciBldmVudHMgc2VudFxyXG5cclxuICAgICAgICAgICAgICBpbnN0YW5jZS5zZWVrVG8odGltZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pOyAvLyBQbGF5YmFjayBzcGVlZFxyXG5cclxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwbGF5ZXIubWVkaWEsICdwbGF5YmFja1JhdGUnLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS5nZXRQbGF5YmFja1JhdGUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoaW5wdXQpIHtcclxuICAgICAgICAgICAgICBpbnN0YW5jZS5zZXRQbGF5YmFja1JhdGUoaW5wdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTsgLy8gVm9sdW1lXHJcblxyXG4gICAgICAgICAgdmFyIHZvbHVtZSA9IHBsYXllci5jb25maWcudm9sdW1lO1xyXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBsYXllci5tZWRpYSwgJ3ZvbHVtZScsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHZvbHVtZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoaW5wdXQpIHtcclxuICAgICAgICAgICAgICB2b2x1bWUgPSBpbnB1dDtcclxuICAgICAgICAgICAgICBpbnN0YW5jZS5zZXRWb2x1bWUodm9sdW1lICogMTAwKTtcclxuICAgICAgICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3ZvbHVtZWNoYW5nZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTsgLy8gTXV0ZWRcclxuXHJcbiAgICAgICAgICB2YXIgbXV0ZWQgPSBwbGF5ZXIuY29uZmlnLm11dGVkO1xyXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBsYXllci5tZWRpYSwgJ211dGVkJywge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gbXV0ZWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGlucHV0KSB7XHJcbiAgICAgICAgICAgICAgdmFyIHRvZ2dsZSA9IGlzJDEuYm9vbGVhbihpbnB1dCkgPyBpbnB1dCA6IG11dGVkO1xyXG4gICAgICAgICAgICAgIG11dGVkID0gdG9nZ2xlO1xyXG4gICAgICAgICAgICAgIGluc3RhbmNlW3RvZ2dsZSA/ICdtdXRlJyA6ICd1bk11dGUnXSgpO1xyXG4gICAgICAgICAgICAgIHRyaWdnZXJFdmVudC5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAndm9sdW1lY2hhbmdlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pOyAvLyBTb3VyY2VcclxuXHJcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGxheWVyLm1lZGlhLCAnY3VycmVudFNyYycsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLmdldFZpZGVvVXJsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pOyAvLyBFbmRlZFxyXG5cclxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwbGF5ZXIubWVkaWEsICdlbmRlZCcsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHBsYXllci5jdXJyZW50VGltZSA9PT0gcGxheWVyLmR1cmF0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTsgLy8gR2V0IGF2YWlsYWJsZSBzcGVlZHNcclxuXHJcbiAgICAgICAgICBwbGF5ZXIub3B0aW9ucy5zcGVlZCA9IGluc3RhbmNlLmdldEF2YWlsYWJsZVBsYXliYWNrUmF0ZXMoKTsgLy8gU2V0IHRoZSB0YWJpbmRleCB0byBhdm9pZCBmb2N1cyBlbnRlcmluZyBpZnJhbWVcclxuXHJcbiAgICAgICAgICBpZiAocGxheWVyLnN1cHBvcnRlZC51aSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIubWVkaWEuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIC0xKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3RpbWV1cGRhdGUnKTtcclxuICAgICAgICAgIHRyaWdnZXJFdmVudC5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAnZHVyYXRpb25jaGFuZ2UnKTsgLy8gUmVzZXQgdGltZXJcclxuXHJcbiAgICAgICAgICBjbGVhckludGVydmFsKHBsYXllci50aW1lcnMuYnVmZmVyaW5nKTsgLy8gU2V0dXAgYnVmZmVyaW5nXHJcblxyXG4gICAgICAgICAgcGxheWVyLnRpbWVycy5idWZmZXJpbmcgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBsb2FkZWQgJSBmcm9tIFlvdVR1YmVcclxuICAgICAgICAgICAgcGxheWVyLm1lZGlhLmJ1ZmZlcmVkID0gaW5zdGFuY2UuZ2V0VmlkZW9Mb2FkZWRGcmFjdGlvbigpOyAvLyBUcmlnZ2VyIHByb2dyZXNzIG9ubHkgd2hlbiB3ZSBhY3R1YWxseSBidWZmZXIgc29tZXRoaW5nXHJcblxyXG4gICAgICAgICAgICBpZiAocGxheWVyLm1lZGlhLmxhc3RCdWZmZXJlZCA9PT0gbnVsbCB8fCBwbGF5ZXIubWVkaWEubGFzdEJ1ZmZlcmVkIDwgcGxheWVyLm1lZGlhLmJ1ZmZlcmVkKSB7XHJcbiAgICAgICAgICAgICAgdHJpZ2dlckV2ZW50LmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsICdwcm9ncmVzcycpO1xyXG4gICAgICAgICAgICB9IC8vIFNldCBsYXN0IGJ1ZmZlciBwb2ludFxyXG5cclxuXHJcbiAgICAgICAgICAgIHBsYXllci5tZWRpYS5sYXN0QnVmZmVyZWQgPSBwbGF5ZXIubWVkaWEuYnVmZmVyZWQ7IC8vIEJhaWwgaWYgd2UncmUgYXQgMTAwJVxyXG5cclxuICAgICAgICAgICAgaWYgKHBsYXllci5tZWRpYS5idWZmZXJlZCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocGxheWVyLnRpbWVycy5idWZmZXJpbmcpOyAvLyBUcmlnZ2VyIGV2ZW50XHJcblxyXG4gICAgICAgICAgICAgIHRyaWdnZXJFdmVudC5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAnY2FucGxheXRocm91Z2gnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgMjAwKTsgLy8gUmVidWlsZCBVSVxyXG5cclxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdWkuYnVpbGQuY2FsbChwbGF5ZXIpO1xyXG4gICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25TdGF0ZUNoYW5nZTogZnVuY3Rpb24gb25TdGF0ZUNoYW5nZShldmVudCkge1xyXG4gICAgICAgICAgLy8gR2V0IHRoZSBpbnN0YW5jZVxyXG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gZXZlbnQudGFyZ2V0OyAvLyBSZXNldCB0aW1lclxyXG5cclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocGxheWVyLnRpbWVycy5wbGF5aW5nKTtcclxuICAgICAgICAgIHZhciBzZWVrZWQgPSBwbGF5ZXIubWVkaWEuc2Vla2luZyAmJiBbMSwgMl0uaW5jbHVkZXMoZXZlbnQuZGF0YSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNlZWtlZCkge1xyXG4gICAgICAgICAgICAvLyBVbnNldCBzZWVraW5nIGFuZCBmaXJlIHNlZWtlZCBldmVudFxyXG4gICAgICAgICAgICBwbGF5ZXIubWVkaWEuc2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3NlZWtlZCcpO1xyXG4gICAgICAgICAgfSAvLyBIYW5kbGUgZXZlbnRzXHJcbiAgICAgICAgICAvLyAtMSAgIFVuc3RhcnRlZFxyXG4gICAgICAgICAgLy8gMCAgICBFbmRlZFxyXG4gICAgICAgICAgLy8gMSAgICBQbGF5aW5nXHJcbiAgICAgICAgICAvLyAyICAgIFBhdXNlZFxyXG4gICAgICAgICAgLy8gMyAgICBCdWZmZXJpbmdcclxuICAgICAgICAgIC8vIDUgICAgVmlkZW8gY3VlZFxyXG5cclxuXHJcbiAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmRhdGEpIHtcclxuICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAvLyBVcGRhdGUgc2NydWJiZXJcclxuICAgICAgICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ3RpbWV1cGRhdGUnKTsgLy8gR2V0IGxvYWRlZCAlIGZyb20gWW91VHViZVxyXG5cclxuICAgICAgICAgICAgICBwbGF5ZXIubWVkaWEuYnVmZmVyZWQgPSBpbnN0YW5jZS5nZXRWaWRlb0xvYWRlZEZyYWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgdHJpZ2dlckV2ZW50LmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsICdwcm9ncmVzcycpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgIGFzc3VyZVBsYXliYWNrU3RhdGUkMS5jYWxsKHBsYXllciwgZmFsc2UpOyAvLyBZb3VUdWJlIGRvZXNuJ3Qgc3VwcG9ydCBsb29wIGZvciBhIHNpbmdsZSB2aWRlbywgc28gbWltaWNrIGl0LlxyXG5cclxuICAgICAgICAgICAgICBpZiAocGxheWVyLm1lZGlhLmxvb3ApIHtcclxuICAgICAgICAgICAgICAgIC8vIFlvdVR1YmUgbmVlZHMgYSBjYWxsIHRvIGBzdG9wVmlkZW9gIGJlZm9yZSBwbGF5aW5nIGFnYWluXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5zdG9wVmlkZW8oKTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnBsYXlWaWRlbygpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ2VuZGVkJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAvLyBSZXN0b3JlIHBhdXNlZCBzdGF0ZSAoWW91VHViZSBzdGFydHMgcGxheWluZyBvbiBzZWVrIGlmIHRoZSB2aWRlbyBoYXNuJ3QgYmVlbiBwbGF5ZWQgeWV0KVxyXG4gICAgICAgICAgICAgIGlmICghcGxheWVyLmNvbmZpZy5hdXRvcGxheSAmJiBwbGF5ZXIubWVkaWEucGF1c2VkICYmICFwbGF5ZXIuZW1iZWQuaGFzUGxheWVkKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIubWVkaWEucGF1c2UoKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXNzdXJlUGxheWJhY2tTdGF0ZSQxLmNhbGwocGxheWVyLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJFdmVudC5jYWxsKHBsYXllciwgcGxheWVyLm1lZGlhLCAncGxheWluZycpOyAvLyBQb2xsIHRvIGdldCBwbGF5YmFjayBwcm9ncmVzc1xyXG5cclxuICAgICAgICAgICAgICAgIHBsYXllci50aW1lcnMucGxheWluZyA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgdHJpZ2dlckV2ZW50LmNhbGwocGxheWVyLCBwbGF5ZXIubWVkaWEsICd0aW1ldXBkYXRlJyk7XHJcbiAgICAgICAgICAgICAgICB9LCA1MCk7IC8vIENoZWNrIGR1cmF0aW9uIGFnYWluIGR1ZSB0byBZb3VUdWJlIGJ1Z1xyXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3NhbXBvdHRzL3BseXIvaXNzdWVzLzM3NFxyXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9nZGF0YS1pc3N1ZXMvaXNzdWVzL2RldGFpbD9pZD04NjkwXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5tZWRpYS5kdXJhdGlvbiAhPT0gaW5zdGFuY2UuZ2V0RHVyYXRpb24oKSkge1xyXG4gICAgICAgICAgICAgICAgICBwbGF5ZXIubWVkaWEuZHVyYXRpb24gPSBpbnN0YW5jZS5nZXREdXJhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5tZWRpYSwgJ2R1cmF0aW9uY2hhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAvLyBSZXN0b3JlIGF1ZGlvIChZb3VUdWJlIHN0YXJ0cyBwbGF5aW5nIG9uIHNlZWsgaWYgdGhlIHZpZGVvIGhhc24ndCBiZWVuIHBsYXllZCB5ZXQpXHJcbiAgICAgICAgICAgICAgaWYgKCFwbGF5ZXIubXV0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5lbWJlZC51bk11dGUoKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGFzc3VyZVBsYXliYWNrU3RhdGUkMS5jYWxsKHBsYXllciwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0cmlnZ2VyRXZlbnQuY2FsbChwbGF5ZXIsIHBsYXllci5lbGVtZW50cy5jb250YWluZXIsICdzdGF0ZWNoYW5nZScsIGZhbHNlLCB7XHJcbiAgICAgICAgICAgIGNvZGU6IGV2ZW50LmRhdGFcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIG1lZGlhID0ge1xyXG4gIC8vIFNldHVwIG1lZGlhXHJcbiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkge1xyXG4gICAgLy8gSWYgdGhlcmUncyBubyBtZWRpYSwgYmFpbFxyXG4gICAgaWYgKCF0aGlzLm1lZGlhKSB7XHJcbiAgICAgIHRoaXMuZGVidWcud2FybignTm8gbWVkaWEgZWxlbWVudCBmb3VuZCEnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSAvLyBBZGQgdHlwZSBjbGFzc1xyXG5cclxuXHJcbiAgICB0b2dnbGVDbGFzcyh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lciwgdGhpcy5jb25maWcuY2xhc3NOYW1lcy50eXBlLnJlcGxhY2UoJ3swfScsIHRoaXMudHlwZSksIHRydWUpOyAvLyBBZGQgcHJvdmlkZXIgY2xhc3NcclxuXHJcbiAgICB0b2dnbGVDbGFzcyh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lciwgdGhpcy5jb25maWcuY2xhc3NOYW1lcy5wcm92aWRlci5yZXBsYWNlKCd7MH0nLCB0aGlzLnByb3ZpZGVyKSwgdHJ1ZSk7IC8vIEFkZCB2aWRlbyBjbGFzcyBmb3IgZW1iZWRzXHJcbiAgICAvLyBUaGlzIHdpbGwgcmVxdWlyZSBjaGFuZ2VzIGlmIGF1ZGlvIGVtYmVkcyBhcmUgYWRkZWRcclxuXHJcbiAgICBpZiAodGhpcy5pc0VtYmVkKSB7XHJcbiAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLCB0aGlzLmNvbmZpZy5jbGFzc05hbWVzLnR5cGUucmVwbGFjZSgnezB9JywgJ3ZpZGVvJyksIHRydWUpO1xyXG4gICAgfSAvLyBJbmplY3QgdGhlIHBsYXllciB3cmFwcGVyXHJcblxyXG5cclxuICAgIGlmICh0aGlzLmlzVmlkZW8pIHtcclxuICAgICAgLy8gQ3JlYXRlIHRoZSB3cmFwcGVyIGRpdlxyXG4gICAgICB0aGlzLmVsZW1lbnRzLndyYXBwZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XHJcbiAgICAgICAgY2xhc3M6IHRoaXMuY29uZmlnLmNsYXNzTmFtZXMudmlkZW9cclxuICAgICAgfSk7IC8vIFdyYXAgdGhlIHZpZGVvIGluIGEgY29udGFpbmVyXHJcblxyXG4gICAgICB3cmFwKHRoaXMubWVkaWEsIHRoaXMuZWxlbWVudHMud3JhcHBlcik7IC8vIEZhdXggcG9zdGVyIGNvbnRhaW5lclxyXG5cclxuICAgICAgdGhpcy5lbGVtZW50cy5wb3N0ZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XHJcbiAgICAgICAgY2xhc3M6IHRoaXMuY29uZmlnLmNsYXNzTmFtZXMucG9zdGVyXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmVsZW1lbnRzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50cy5wb3N0ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmlzSFRNTDUpIHtcclxuICAgICAgaHRtbDUuZXh0ZW5kLmNhbGwodGhpcyk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNZb3VUdWJlKSB7XHJcbiAgICAgIHlvdXR1YmUuc2V0dXAuY2FsbCh0aGlzKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5pc1ZpbWVvKSB7XHJcbiAgICAgIHZpbWVvLnNldHVwLmNhbGwodGhpcyk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxudmFyIGRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KGluc3RhbmNlKSB7XHJcbiAgLy8gRGVzdHJveSBvdXIgYWRzTWFuYWdlclxyXG4gIGlmIChpbnN0YW5jZS5tYW5hZ2VyKSB7XHJcbiAgICBpbnN0YW5jZS5tYW5hZ2VyLmRlc3Ryb3koKTtcclxuICB9IC8vIERlc3Ryb3kgb3VyIGFkc01hbmFnZXJcclxuXHJcblxyXG4gIGlmIChpbnN0YW5jZS5lbGVtZW50cy5kaXNwbGF5Q29udGFpbmVyKSB7XHJcbiAgICBpbnN0YW5jZS5lbGVtZW50cy5kaXNwbGF5Q29udGFpbmVyLmRlc3Ryb3koKTtcclxuICB9XHJcblxyXG4gIGluc3RhbmNlLmVsZW1lbnRzLmNvbnRhaW5lci5yZW1vdmUoKTtcclxufTtcclxuXHJcbnZhciBBZHMgPVxyXG4vKiNfX1BVUkVfXyovXHJcbmZ1bmN0aW9uICgpIHtcclxuICAvKipcclxuICAgKiBBZHMgY29uc3RydWN0b3IuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHBsYXllclxyXG4gICAqIEByZXR1cm4ge0Fkc31cclxuICAgKi9cclxuICBmdW5jdGlvbiBBZHMocGxheWVyKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBZHMpO1xyXG5cclxuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgdGhpcy5jb25maWcgPSBwbGF5ZXIuY29uZmlnLmFkcztcclxuICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbGVtZW50cyA9IHtcclxuICAgICAgY29udGFpbmVyOiBudWxsLFxyXG4gICAgICBkaXNwbGF5Q29udGFpbmVyOiBudWxsXHJcbiAgICB9O1xyXG4gICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcclxuICAgIHRoaXMubG9hZGVyID0gbnVsbDtcclxuICAgIHRoaXMuY3VlUG9pbnRzID0gbnVsbDtcclxuICAgIHRoaXMuZXZlbnRzID0ge307XHJcbiAgICB0aGlzLnNhZmV0eVRpbWVyID0gbnVsbDtcclxuICAgIHRoaXMuY291bnRkb3duVGltZXIgPSBudWxsOyAvLyBTZXR1cCBhIHByb21pc2UgdG8gcmVzb2x2ZSB3aGVuIHRoZSBJTUEgbWFuYWdlciBpcyByZWFkeVxyXG5cclxuICAgIHRoaXMubWFuYWdlclByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgIC8vIFRoZSBhZCBpcyBsb2FkZWQgYW5kIHJlYWR5XHJcbiAgICAgIF90aGlzLm9uKCdsb2FkZWQnLCByZXNvbHZlKTsgLy8gQWRzIGZhaWxlZFxyXG5cclxuXHJcbiAgICAgIF90aGlzLm9uKCdlcnJvcicsIHJlamVjdCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMubG9hZCgpO1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUNsYXNzKEFkcywgW3tcclxuICAgIGtleTogXCJsb2FkXCIsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIHRoZSBJTUEgU0RLXHJcbiAgICAgKi9cclxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkKCkge1xyXG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcclxuXHJcbiAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IC8vIENoZWNrIGlmIHRoZSBHb29nbGUgSU1BMyBTREsgaXMgbG9hZGVkIG9yIGxvYWQgaXQgb3Vyc2VsdmVzXHJcblxyXG5cclxuICAgICAgaWYgKCFpcyQxLm9iamVjdCh3aW5kb3cuZ29vZ2xlKSB8fCAhaXMkMS5vYmplY3Qod2luZG93Lmdvb2dsZS5pbWEpKSB7XHJcbiAgICAgICAgbG9hZFNjcmlwdCh0aGlzLnBsYXllci5jb25maWcudXJscy5nb29nbGVJTUEuc2RrKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF90aGlzMi5yZWFkeSgpO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIC8vIFNjcmlwdCBmYWlsZWQgdG8gbG9hZCBvciBpcyBibG9ja2VkXHJcbiAgICAgICAgICBfdGhpczIudHJpZ2dlcignZXJyb3InLCBuZXcgRXJyb3IoJ0dvb2dsZSBJTUEgU0RLIGZhaWxlZCB0byBsb2FkJykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucmVhZHkoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGFkcyBpbnN0YW5jZSByZWFkeVxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJyZWFkeVwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWR5KCkge1xyXG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcclxuXHJcbiAgICAgIC8vIERvdWJsZSBjaGVjayB3ZSdyZSBlbmFibGVkXHJcbiAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgZGVzdHJveSh0aGlzKTtcclxuICAgICAgfSAvLyBTdGFydCB0aWNraW5nIG91ciBzYWZldHkgdGltZXIuIElmIHRoZSB3aG9sZSBhZHZlcnRpc2VtZW50XHJcbiAgICAgIC8vIHRoaW5nIGRvZXNuJ3QgcmVzb2x2ZSB3aXRoaW4gb3VyIHNldCB0aW1lOyB3ZSBiYWlsXHJcblxyXG5cclxuICAgICAgdGhpcy5zdGFydFNhZmV0eVRpbWVyKDEyMDAwLCAncmVhZHkoKScpOyAvLyBDbGVhciB0aGUgc2FmZXR5IHRpbWVyXHJcblxyXG4gICAgICB0aGlzLm1hbmFnZXJQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF90aGlzMy5jbGVhclNhZmV0eVRpbWVyKCdvbkFkc01hbmFnZXJMb2FkZWQoKScpO1xyXG4gICAgICB9KTsgLy8gU2V0IGxpc3RlbmVycyBvbiB0aGUgUGx5ciBpbnN0YW5jZVxyXG5cclxuICAgICAgdGhpcy5saXN0ZW5lcnMoKTsgLy8gU2V0dXAgdGhlIElNQSBTREtcclxuXHJcbiAgICAgIHRoaXMuc2V0dXBJTUEoKTtcclxuICAgIH0gLy8gQnVpbGQgdGhlIHRhZyBVUkxcclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInNldHVwSU1BXCIsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbiBvcmRlciBmb3IgdGhlIFNESyB0byBkaXNwbGF5IGFkcyBmb3Igb3VyIHZpZGVvLCB3ZSBuZWVkIHRvIHRlbGwgaXQgd2hlcmUgdG8gcHV0IHRoZW0sXHJcbiAgICAgKiBzbyBoZXJlIHdlIGRlZmluZSBvdXIgYWQgY29udGFpbmVyLiBUaGlzIGRpdiBpcyBzZXQgdXAgdG8gcmVuZGVyIG9uIHRvcCBvZiB0aGUgdmlkZW8gcGxheWVyLlxyXG4gICAgICogVXNpbmcgdGhlIGNvZGUgYmVsb3csIHdlIHRlbGwgdGhlIFNESyB0byByZW5kZXIgYWRzIHdpdGhpbiB0aGF0IGRpdi4gV2UgYWxzbyBwcm92aWRlIGFcclxuICAgICAqIGhhbmRsZSB0byB0aGUgY29udGVudCB2aWRlbyBwbGF5ZXIgLSB0aGUgU0RLIHdpbGwgcG9sbCB0aGUgY3VycmVudCB0aW1lIG9mIG91ciBwbGF5ZXIgdG9cclxuICAgICAqIHByb3Blcmx5IHBsYWNlIG1pZC1yb2xscy4gQWZ0ZXIgd2UgY3JlYXRlIHRoZSBhZCBkaXNwbGF5IGNvbnRhaW5lciwgd2UgaW5pdGlhbGl6ZSBpdC4gT25cclxuICAgICAqIG1vYmlsZSBkZXZpY2VzLCB0aGlzIGluaXRpYWxpemF0aW9uIGlzIGRvbmUgYXMgdGhlIHJlc3VsdCBvZiBhIHVzZXIgYWN0aW9uLlxyXG4gICAgICovXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXBJTUEoKSB7XHJcbiAgICAgIC8vIENyZWF0ZSB0aGUgY29udGFpbmVyIGZvciBvdXIgYWR2ZXJ0aXNlbWVudHNcclxuICAgICAgdGhpcy5lbGVtZW50cy5jb250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XHJcbiAgICAgICAgY2xhc3M6IHRoaXMucGxheWVyLmNvbmZpZy5jbGFzc05hbWVzLmFkc1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5wbGF5ZXIuZWxlbWVudHMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudHMuY29udGFpbmVyKTsgLy8gU28gd2UgY2FuIHJ1biBWUEFJRDJcclxuXHJcbiAgICAgIGdvb2dsZS5pbWEuc2V0dGluZ3Muc2V0VnBhaWRNb2RlKGdvb2dsZS5pbWEuSW1hU2RrU2V0dGluZ3MuVnBhaWRNb2RlLkVOQUJMRUQpOyAvLyBTZXQgbGFuZ3VhZ2VcclxuXHJcbiAgICAgIGdvb2dsZS5pbWEuc2V0dGluZ3Muc2V0TG9jYWxlKHRoaXMucGxheWVyLmNvbmZpZy5hZHMubGFuZ3VhZ2UpOyAvLyBTZXQgcGxheWJhY2sgZm9yIGlPUzEwK1xyXG5cclxuICAgICAgZ29vZ2xlLmltYS5zZXR0aW5ncy5zZXREaXNhYmxlQ3VzdG9tUGxheWJhY2tGb3JJT1MxMFBsdXModGhpcy5wbGF5ZXIuY29uZmlnLnBsYXlzaW5saW5lKTsgLy8gV2UgYXNzdW1lIHRoZSBhZENvbnRhaW5lciBpcyB0aGUgdmlkZW8gY29udGFpbmVyIG9mIHRoZSBwbHlyIGVsZW1lbnQgdGhhdCB3aWxsIGhvdXNlIHRoZSBhZHNcclxuXHJcbiAgICAgIHRoaXMuZWxlbWVudHMuZGlzcGxheUNvbnRhaW5lciA9IG5ldyBnb29nbGUuaW1hLkFkRGlzcGxheUNvbnRhaW5lcih0aGlzLmVsZW1lbnRzLmNvbnRhaW5lciwgdGhpcy5wbGF5ZXIubWVkaWEpOyAvLyBSZXF1ZXN0IHZpZGVvIGFkcyB0byBiZSBwcmUtbG9hZGVkXHJcblxyXG4gICAgICB0aGlzLnJlcXVlc3RBZHMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVxdWVzdCBhZHZlcnRpc2VtZW50c1xyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJyZXF1ZXN0QWRzXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdEFkcygpIHtcclxuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XHJcblxyXG4gICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wbGF5ZXIuZWxlbWVudHMuY29udGFpbmVyO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBDcmVhdGUgYWRzIGxvYWRlclxyXG4gICAgICAgIHRoaXMubG9hZGVyID0gbmV3IGdvb2dsZS5pbWEuQWRzTG9hZGVyKHRoaXMuZWxlbWVudHMuZGlzcGxheUNvbnRhaW5lcik7IC8vIExpc3RlbiBhbmQgcmVzcG9uZCB0byBhZHMgbG9hZGVkIGFuZCBlcnJvciBldmVudHNcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihnb29nbGUuaW1hLkFkc01hbmFnZXJMb2FkZWRFdmVudC5UeXBlLkFEU19NQU5BR0VSX0xPQURFRCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICByZXR1cm4gX3RoaXM0Lm9uQWRzTWFuYWdlckxvYWRlZChldmVudCk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMubG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoZ29vZ2xlLmltYS5BZEVycm9yRXZlbnQuVHlwZS5BRF9FUlJPUiwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICByZXR1cm4gX3RoaXM0Lm9uQWRFcnJvcihlcnJvcik7XHJcbiAgICAgICAgfSwgZmFsc2UpOyAvLyBSZXF1ZXN0IHZpZGVvIGFkc1xyXG5cclxuICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBnb29nbGUuaW1hLkFkc1JlcXVlc3QoKTtcclxuICAgICAgICByZXF1ZXN0LmFkVGFnVXJsID0gdGhpcy50YWdVcmw7IC8vIFNwZWNpZnkgdGhlIGxpbmVhciBhbmQgbm9ubGluZWFyIHNsb3Qgc2l6ZXMuIFRoaXMgaGVscHMgdGhlIFNES1xyXG4gICAgICAgIC8vIHRvIHNlbGVjdCB0aGUgY29ycmVjdCBjcmVhdGl2ZSBpZiBtdWx0aXBsZSBhcmUgcmV0dXJuZWRcclxuXHJcbiAgICAgICAgcmVxdWVzdC5saW5lYXJBZFNsb3RXaWR0aCA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aDtcclxuICAgICAgICByZXF1ZXN0LmxpbmVhckFkU2xvdEhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgcmVxdWVzdC5ub25MaW5lYXJBZFNsb3RXaWR0aCA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aDtcclxuICAgICAgICByZXF1ZXN0Lm5vbkxpbmVhckFkU2xvdEhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7IC8vIFdlIG9ubHkgb3ZlcmxheSBhZHMgYXMgd2Ugb25seSBzdXBwb3J0IHZpZGVvLlxyXG5cclxuICAgICAgICByZXF1ZXN0LmZvcmNlTm9uTGluZWFyRnVsbFNsb3QgPSBmYWxzZTsgLy8gTXV0ZSBiYXNlZCBvbiBjdXJyZW50IHN0YXRlXHJcblxyXG4gICAgICAgIHJlcXVlc3Quc2V0QWRXaWxsUGxheU11dGVkKCF0aGlzLnBsYXllci5tdXRlZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkZXIucmVxdWVzdEFkcyhyZXF1ZXN0KTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHRoaXMub25BZEVycm9yKGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgYWQgY291bnRkb3duXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHN0YXJ0XHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInBvbGxDb3VudGRvd25cIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb2xsQ291bnRkb3duKCkge1xyXG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcclxuXHJcbiAgICAgIHZhciBzdGFydCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XHJcblxyXG4gICAgICBpZiAoIXN0YXJ0KSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNvdW50ZG93blRpbWVyKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtYmFkZ2UtdGV4dCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgICB2YXIgdGltZSA9IGZvcm1hdFRpbWUoTWF0aC5tYXgoX3RoaXM1Lm1hbmFnZXIuZ2V0UmVtYWluaW5nVGltZSgpLCAwKSk7XHJcbiAgICAgICAgdmFyIGxhYmVsID0gXCJcIi5jb25jYXQoaTE4bi5nZXQoJ2FkdmVydGlzZW1lbnQnLCBfdGhpczUucGxheWVyLmNvbmZpZyksIFwiIC0gXCIpLmNvbmNhdCh0aW1lKTtcclxuXHJcbiAgICAgICAgX3RoaXM1LmVsZW1lbnRzLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtYmFkZ2UtdGV4dCcsIGxhYmVsKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuY291bnRkb3duVGltZXIgPSBzZXRJbnRlcnZhbCh1cGRhdGUsIDEwMCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuZXZlciB0aGUgYWRzIGFyZSByZWFkeSBpbnNpZGUgdGhlIEFkRGlzcGxheUNvbnRhaW5lclxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gYWRzTWFuYWdlckxvYWRlZEV2ZW50XHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcIm9uQWRzTWFuYWdlckxvYWRlZFwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQWRzTWFuYWdlckxvYWRlZChldmVudCkge1xyXG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcclxuXHJcbiAgICAgIC8vIExvYWQgY291bGQgb2NjdXIgYWZ0ZXIgYSBzb3VyY2UgY2hhbmdlIChyYWNlIGNvbmRpdGlvbilcclxuICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gLy8gR2V0IHRoZSBhZHMgbWFuYWdlclxyXG5cclxuXHJcbiAgICAgIHZhciBzZXR0aW5ncyA9IG5ldyBnb29nbGUuaW1hLkFkc1JlbmRlcmluZ1NldHRpbmdzKCk7IC8vIFRlbGwgdGhlIFNESyB0byBzYXZlIGFuZCByZXN0b3JlIGNvbnRlbnQgdmlkZW8gc3RhdGUgb24gb3VyIGJlaGFsZlxyXG5cclxuICAgICAgc2V0dGluZ3MucmVzdG9yZUN1c3RvbVBsYXliYWNrU3RhdGVPbkFkQnJlYWtDb21wbGV0ZSA9IHRydWU7XHJcbiAgICAgIHNldHRpbmdzLmVuYWJsZVByZWxvYWRpbmcgPSB0cnVlOyAvLyBUaGUgU0RLIGlzIHBvbGxpbmcgY3VycmVudFRpbWUgb24gdGhlIGNvbnRlbnRQbGF5YmFjay4gQW5kIG5lZWRzIGEgZHVyYXRpb25cclxuICAgICAgLy8gc28gaXQgY2FuIGRldGVybWluZSB3aGVuIHRvIHN0YXJ0IHRoZSBtaWQtIGFuZCBwb3N0LXJvbGxcclxuXHJcbiAgICAgIHRoaXMubWFuYWdlciA9IGV2ZW50LmdldEFkc01hbmFnZXIodGhpcy5wbGF5ZXIsIHNldHRpbmdzKTsgLy8gR2V0IHRoZSBjdWUgcG9pbnRzIGZvciBhbnkgbWlkLXJvbGxzIGJ5IGZpbHRlcmluZyBvdXQgdGhlIHByZS0gYW5kIHBvc3Qtcm9sbFxyXG5cclxuICAgICAgdGhpcy5jdWVQb2ludHMgPSB0aGlzLm1hbmFnZXIuZ2V0Q3VlUG9pbnRzKCk7IC8vIEFkZCBsaXN0ZW5lcnMgdG8gdGhlIHJlcXVpcmVkIGV2ZW50c1xyXG4gICAgICAvLyBBZHZlcnRpc2VtZW50IGVycm9yIGV2ZW50c1xyXG5cclxuICAgICAgdGhpcy5tYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZ29vZ2xlLmltYS5BZEVycm9yRXZlbnQuVHlwZS5BRF9FUlJPUiwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzNi5vbkFkRXJyb3IoZXJyb3IpO1xyXG4gICAgICB9KTsgLy8gQWR2ZXJ0aXNlbWVudCByZWd1bGFyIGV2ZW50c1xyXG5cclxuICAgICAgT2JqZWN0LmtleXMoZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUpLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICBfdGhpczYubWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlW3R5cGVdLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgcmV0dXJuIF90aGlzNi5vbkFkRXZlbnQoZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pOyAvLyBSZXNvbHZlIG91ciBhZHNNYW5hZ2VyXHJcblxyXG4gICAgICB0aGlzLnRyaWdnZXIoJ2xvYWRlZCcpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJhZGRDdWVQb2ludHNcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDdWVQb2ludHMoKSB7XHJcbiAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gQWRkIGFkdmVydGlzZW1lbnQgY3VlJ3Mgd2l0aGluIHRoZSB0aW1lIGxpbmUgaWYgYXZhaWxhYmxlXHJcbiAgICAgIGlmICghaXMkMS5lbXB0eSh0aGlzLmN1ZVBvaW50cykpIHtcclxuICAgICAgICB0aGlzLmN1ZVBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjdWVQb2ludCkge1xyXG4gICAgICAgICAgaWYgKGN1ZVBvaW50ICE9PSAwICYmIGN1ZVBvaW50ICE9PSAtMSAmJiBjdWVQb2ludCA8IF90aGlzNy5wbGF5ZXIuZHVyYXRpb24pIHtcclxuICAgICAgICAgICAgdmFyIHNlZWtFbGVtZW50ID0gX3RoaXM3LnBsYXllci5lbGVtZW50cy5wcm9ncmVzcztcclxuXHJcbiAgICAgICAgICAgIGlmIChpcyQxLmVsZW1lbnQoc2Vla0VsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGN1ZVBlcmNlbnRhZ2UgPSAxMDAgLyBfdGhpczcucGxheWVyLmR1cmF0aW9uICogY3VlUG9pbnQ7XHJcbiAgICAgICAgICAgICAgdmFyIGN1ZSA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XHJcbiAgICAgICAgICAgICAgICBjbGFzczogX3RoaXM3LnBsYXllci5jb25maWcuY2xhc3NOYW1lcy5jdWVzXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgY3VlLnN0eWxlLmxlZnQgPSBcIlwiLmNvbmNhdChjdWVQZXJjZW50YWdlLnRvU3RyaW5nKCksIFwiJVwiKTtcclxuICAgICAgICAgICAgICBzZWVrRWxlbWVudC5hcHBlbmRDaGlsZChjdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBpcyB3aGVyZSBhbGwgdGhlIGV2ZW50IGhhbmRsaW5nIHRha2VzIHBsYWNlLiBSZXRyaWV2ZSB0aGUgYWQgZnJvbSB0aGUgZXZlbnQuIFNvbWVcclxuICAgICAqIGV2ZW50cyAoZS5nLiBBTExfQURTX0NPTVBMRVRFRCkgZG9uJ3QgaGF2ZSB0aGUgYWQgb2JqZWN0IGFzc29jaWF0ZWRcclxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2ludGVyYWN0aXZlLW1lZGlhLWFkcy9kb2NzL3Nka3MvaHRtbDUvdjMvYXBpcyNpbWEuQWRFdmVudC5UeXBlXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJvbkFkRXZlbnRcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkFkRXZlbnQoZXZlbnQpIHtcclxuICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XHJcblxyXG4gICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wbGF5ZXIuZWxlbWVudHMuY29udGFpbmVyOyAvLyBSZXRyaWV2ZSB0aGUgYWQgZnJvbSB0aGUgZXZlbnQuIFNvbWUgZXZlbnRzIChlLmcuIEFMTF9BRFNfQ09NUExFVEVEKVxyXG4gICAgICAvLyBkb24ndCBoYXZlIGFkIG9iamVjdCBhc3NvY2lhdGVkXHJcblxyXG4gICAgICB2YXIgYWQgPSBldmVudC5nZXRBZCgpO1xyXG4gICAgICB2YXIgYWREYXRhID0gZXZlbnQuZ2V0QWREYXRhKCk7IC8vIFByb3h5IGV2ZW50XHJcblxyXG4gICAgICB2YXIgZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQodHlwZSkge1xyXG4gICAgICAgIHRyaWdnZXJFdmVudC5jYWxsKF90aGlzOC5wbGF5ZXIsIF90aGlzOC5wbGF5ZXIubWVkaWEsIFwiYWRzXCIuY29uY2F0KHR5cGUucmVwbGFjZSgvXy9nLCAnJykudG9Mb3dlckNhc2UoKSkpO1xyXG4gICAgICB9OyAvLyBCdWJibGUgdGhlIGV2ZW50XHJcblxyXG5cclxuICAgICAgZGlzcGF0Y2hFdmVudChldmVudC50eXBlKTtcclxuXHJcbiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xyXG4gICAgICAgIGNhc2UgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuTE9BREVEOlxyXG4gICAgICAgICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgZXZlbnQgc2VudCBmb3IgYW4gYWQgLSBpdCBpcyBwb3NzaWJsZSB0byBkZXRlcm1pbmUgd2hldGhlciB0aGVcclxuICAgICAgICAgIC8vIGFkIGlzIGEgdmlkZW8gYWQgb3IgYW4gb3ZlcmxheVxyXG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdsb2FkZWQnKTsgLy8gU3RhcnQgY291bnRkb3duXHJcblxyXG4gICAgICAgICAgdGhpcy5wb2xsQ291bnRkb3duKHRydWUpO1xyXG5cclxuICAgICAgICAgIGlmICghYWQuaXNMaW5lYXIoKSkge1xyXG4gICAgICAgICAgICAvLyBQb3NpdGlvbiBBZERpc3BsYXlDb250YWluZXIgY29ycmVjdGx5IGZvciBvdmVybGF5XHJcbiAgICAgICAgICAgIGFkLndpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICBhZC5oZWlnaHQgPSBjb250YWluZXIub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgICAgfSAvLyBjb25zb2xlLmluZm8oJ0FkIHR5cGU6ICcgKyBldmVudC5nZXRBZCgpLmdldEFkUG9kSW5mbygpLmdldFBvZEluZGV4KCkpO1xyXG4gICAgICAgICAgLy8gY29uc29sZS5pbmZvKCdBZCB0aW1lOiAnICsgZXZlbnQuZ2V0QWQoKS5nZXRBZFBvZEluZm8oKS5nZXRUaW1lT2Zmc2V0KCkpO1xyXG5cclxuXHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5TVEFSVEVEOlxyXG4gICAgICAgICAgLy8gU2V0IHZvbHVtZSB0byBtYXRjaCBwbGF5ZXJcclxuICAgICAgICAgIHRoaXMubWFuYWdlci5zZXRWb2x1bWUodGhpcy5wbGF5ZXIudm9sdW1lKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFMTF9BRFNfQ09NUExFVEVEOlxyXG4gICAgICAgICAgLy8gQWxsIGFkcyBmb3IgdGhlIGN1cnJlbnQgdmlkZW9zIGFyZSBkb25lLiBXZSBjYW4gbm93IHJlcXVlc3QgbmV3IGFkdmVydGlzZW1lbnRzXHJcbiAgICAgICAgICAvLyBpbiBjYXNlIHRoZSB2aWRlbyBpcyByZS1wbGF5ZWRcclxuICAgICAgICAgIC8vIFRPRE86IEV4YW1wbGUgZm9yIHdoYXQgaGFwcGVucyB3aGVuIGEgbmV4dCB2aWRlbyBpbiBhIHBsYXlsaXN0IHdvdWxkIGJlIGxvYWRlZC5cclxuICAgICAgICAgIC8vIFNvIGhlcmUgd2UgbG9hZCBhIG5ldyB2aWRlbyB3aGVuIGFsbCBhZHMgYXJlIGRvbmUuXHJcbiAgICAgICAgICAvLyBUaGVuIHdlIGxvYWQgbmV3IGFkcyB3aXRoaW4gYSBuZXcgYWRzTWFuYWdlci4gV2hlbiB0aGUgdmlkZW9cclxuICAgICAgICAgIC8vIElzIHN0YXJ0ZWQgLSBhZnRlciAtIHRoZSBhZHMgYXJlIGxvYWRlZCwgdGhlbiB3ZSBnZXQgYWRzLlxyXG4gICAgICAgICAgLy8gWW91IGNhbiBhbHNvIGVhc2lseSB0ZXN0IGNhbmNlbGxpbmcgYW5kIHJlbG9hZGluZyBieSBydW5uaW5nXHJcbiAgICAgICAgICAvLyBwbGF5ZXIuYWRzLmNhbmNlbCgpIGFuZCBwbGF5ZXIuYWRzLnBsYXkgZnJvbSB0aGUgY29uc29sZSBJIGd1ZXNzLlxyXG4gICAgICAgICAgLy8gdGhpcy5wbGF5ZXIuc291cmNlID0ge1xyXG4gICAgICAgICAgLy8gICAgIHR5cGU6ICd2aWRlbycsXHJcbiAgICAgICAgICAvLyAgICAgdGl0bGU6ICdWaWV3IEZyb20gQSBCbHVlIE1vb24nLFxyXG4gICAgICAgICAgLy8gICAgIHNvdXJjZXM6IFt7XHJcbiAgICAgICAgICAvLyAgICAgICAgIHNyYzpcclxuICAgICAgICAgIC8vICdodHRwczovL2Nkbi5wbHlyLmlvL3N0YXRpYy9kZW1vL1ZpZXdfRnJvbV9BX0JsdWVfTW9vbl9UcmFpbGVyLUhELm1wNCcsIHR5cGU6XHJcbiAgICAgICAgICAvLyAndmlkZW8vbXA0JywgfV0sIHBvc3RlcjpcclxuICAgICAgICAgIC8vICdodHRwczovL2Nkbi5wbHlyLmlvL3N0YXRpYy9kZW1vL1ZpZXdfRnJvbV9BX0JsdWVfTW9vbl9UcmFpbGVyLUhELmpwZycsIHRyYWNrczpcclxuICAgICAgICAgIC8vIFsgeyBraW5kOiAnY2FwdGlvbnMnLCBsYWJlbDogJ0VuZ2xpc2gnLCBzcmNsYW5nOiAnZW4nLCBzcmM6XHJcbiAgICAgICAgICAvLyAnaHR0cHM6Ly9jZG4ucGx5ci5pby9zdGF0aWMvZGVtby9WaWV3X0Zyb21fQV9CbHVlX01vb25fVHJhaWxlci1IRC5lbi52dHQnLFxyXG4gICAgICAgICAgLy8gZGVmYXVsdDogdHJ1ZSwgfSwgeyBraW5kOiAnY2FwdGlvbnMnLCBsYWJlbDogJ0ZyZW5jaCcsIHNyY2xhbmc6ICdmcicsIHNyYzpcclxuICAgICAgICAgIC8vICdodHRwczovL2Nkbi5wbHlyLmlvL3N0YXRpYy9kZW1vL1ZpZXdfRnJvbV9BX0JsdWVfTW9vbl9UcmFpbGVyLUhELmZyLnZ0dCcsIH0sIF0sXHJcbiAgICAgICAgICAvLyB9O1xyXG4gICAgICAgICAgLy8gVE9ETzogU28gdGhlcmUgaXMgc3RpbGwgdGhpcyB0aGluZyB3aGVyZSBhIHZpZGVvIHNob3VsZCBvbmx5IGJlIGFsbG93ZWQgdG8gc3RhcnRcclxuICAgICAgICAgIC8vIHBsYXlpbmcgd2hlbiB0aGUgSU1BIFNESyBpcyByZWFkeSBvciBoYXMgZmFpbGVkXHJcbiAgICAgICAgICB0aGlzLmxvYWRBZHMoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTlRFTlRfUEFVU0VfUkVRVUVTVEVEOlxyXG4gICAgICAgICAgLy8gVGhpcyBldmVudCBpbmRpY2F0ZXMgdGhlIGFkIGhhcyBzdGFydGVkIC0gdGhlIHZpZGVvIHBsYXllciBjYW4gYWRqdXN0IHRoZSBVSSxcclxuICAgICAgICAgIC8vIGZvciBleGFtcGxlIGRpc3BsYXkgYSBwYXVzZSBidXR0b24gYW5kIHJlbWFpbmluZyB0aW1lLiBGaXJlZCB3aGVuIGNvbnRlbnQgc2hvdWxkXHJcbiAgICAgICAgICAvLyBiZSBwYXVzZWQuIFRoaXMgdXN1YWxseSBoYXBwZW5zIHJpZ2h0IGJlZm9yZSBhbiBhZCBpcyBhYm91dCB0byBjb3ZlciB0aGUgY29udGVudFxyXG4gICAgICAgICAgdGhpcy5wYXVzZUNvbnRlbnQoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTlRFTlRfUkVTVU1FX1JFUVVFU1RFRDpcclxuICAgICAgICAgIC8vIFRoaXMgZXZlbnQgaW5kaWNhdGVzIHRoZSBhZCBoYXMgZmluaXNoZWQgLSB0aGUgdmlkZW8gcGxheWVyIGNhbiBwZXJmb3JtXHJcbiAgICAgICAgICAvLyBhcHByb3ByaWF0ZSBVSSBhY3Rpb25zLCBzdWNoIGFzIHJlbW92aW5nIHRoZSB0aW1lciBmb3IgcmVtYWluaW5nIHRpbWUgZGV0ZWN0aW9uLlxyXG4gICAgICAgICAgLy8gRmlyZWQgd2hlbiBjb250ZW50IHNob3VsZCBiZSByZXN1bWVkLiBUaGlzIHVzdWFsbHkgaGFwcGVucyB3aGVuIGFuIGFkIGZpbmlzaGVzXHJcbiAgICAgICAgICAvLyBvciBjb2xsYXBzZXNcclxuICAgICAgICAgIHRoaXMucG9sbENvdW50ZG93bigpO1xyXG4gICAgICAgICAgdGhpcy5yZXN1bWVDb250ZW50KCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5MT0c6XHJcbiAgICAgICAgICBpZiAoYWREYXRhLmFkRXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuZGVidWcud2FybihcIk5vbi1mYXRhbCBhZCBlcnJvcjogXCIuY29uY2F0KGFkRGF0YS5hZEVycm9yLmdldE1lc3NhZ2UoKSkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQW55IGFkIGVycm9yIGhhbmRsaW5nIGNvbWVzIHRocm91Z2ggaGVyZVxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwib25BZEVycm9yXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25BZEVycm9yKGV2ZW50KSB7XHJcbiAgICAgIHRoaXMuY2FuY2VsKCk7XHJcbiAgICAgIHRoaXMucGxheWVyLmRlYnVnLndhcm4oJ0FkcyBlcnJvcicsIGV2ZW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0dXAgaG9va3MgZm9yIFBseXIgYW5kIHdpbmRvdyBldmVudHMuIFRoaXMgZW5zdXJlc1xyXG4gICAgICogdGhlIG1pZC0gYW5kIHBvc3Qtcm9sbCBsYXVuY2ggYXQgdGhlIGNvcnJlY3QgdGltZS4gQW5kXHJcbiAgICAgKiByZXNpemUgdGhlIGFkdmVydGlzZW1lbnQgd2hlbiB0aGUgcGxheWVyIHJlc2l6ZXNcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwibGlzdGVuZXJzXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuZXJzKCkge1xyXG4gICAgICB2YXIgX3RoaXM5ID0gdGhpcztcclxuXHJcbiAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBsYXllci5lbGVtZW50cy5jb250YWluZXI7XHJcbiAgICAgIHZhciB0aW1lO1xyXG4gICAgICB0aGlzLnBsYXllci5vbignY2FucGxheScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfdGhpczkuYWRkQ3VlUG9pbnRzKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnBsYXllci5vbignZW5kZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3RoaXM5LmxvYWRlci5jb250ZW50Q29tcGxldGUoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMucGxheWVyLm9uKCd0aW1ldXBkYXRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRpbWUgPSBfdGhpczkucGxheWVyLmN1cnJlbnRUaW1lO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5wbGF5ZXIub24oJ3NlZWtlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2Vla2VkVGltZSA9IF90aGlzOS5wbGF5ZXIuY3VycmVudFRpbWU7XHJcblxyXG4gICAgICAgIGlmIChpcyQxLmVtcHR5KF90aGlzOS5jdWVQb2ludHMpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfdGhpczkuY3VlUG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKGN1ZVBvaW50LCBpbmRleCkge1xyXG4gICAgICAgICAgaWYgKHRpbWUgPCBjdWVQb2ludCAmJiBjdWVQb2ludCA8IHNlZWtlZFRpbWUpIHtcclxuICAgICAgICAgICAgX3RoaXM5Lm1hbmFnZXIuZGlzY2FyZEFkQnJlYWsoKTtcclxuXHJcbiAgICAgICAgICAgIF90aGlzOS5jdWVQb2ludHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7IC8vIExpc3RlbiB0byB0aGUgcmVzaXppbmcgb2YgdGhlIHdpbmRvdy4gQW5kIHJlc2l6ZSBhZCBhY2NvcmRpbmdseVxyXG4gICAgICAvLyBUT0RPOiBldmVudHVhbGx5IGltcGxlbWVudCBSZXNpemVPYnNlcnZlclxyXG5cclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoX3RoaXM5Lm1hbmFnZXIpIHtcclxuICAgICAgICAgIF90aGlzOS5tYW5hZ2VyLnJlc2l6ZShjb250YWluZXIub2Zmc2V0V2lkdGgsIGNvbnRhaW5lci5vZmZzZXRIZWlnaHQsIGdvb2dsZS5pbWEuVmlld01vZGUuTk9STUFMKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIHRoZSBhZHNNYW5hZ2VyIGFuZCBzdGFydCBwbGF5aW5nIGFkdmVydGlzZW1lbnRzXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInBsYXlcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5KCkge1xyXG4gICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XHJcblxyXG4gICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wbGF5ZXIuZWxlbWVudHMuY29udGFpbmVyO1xyXG5cclxuICAgICAgaWYgKCF0aGlzLm1hbmFnZXJQcm9taXNlKSB7XHJcbiAgICAgICAgdGhpcy5yZXN1bWVDb250ZW50KCk7XHJcbiAgICAgIH0gLy8gUGxheSB0aGUgcmVxdWVzdGVkIGFkdmVydGlzZW1lbnQgd2hlbmV2ZXIgdGhlIGFkc01hbmFnZXIgaXMgcmVhZHlcclxuXHJcblxyXG4gICAgICB0aGlzLm1hbmFnZXJQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFNldCB2b2x1bWUgdG8gbWF0Y2ggcGxheWVyXHJcbiAgICAgICAgX3RoaXMxMC5tYW5hZ2VyLnNldFZvbHVtZShfdGhpczEwLnBsYXllci52b2x1bWUpOyAvLyBJbml0aWFsaXplIHRoZSBjb250YWluZXIuIE11c3QgYmUgZG9uZSB2aWEgYSB1c2VyIGFjdGlvbiBvbiBtb2JpbGUgZGV2aWNlc1xyXG5cclxuXHJcbiAgICAgICAgX3RoaXMxMC5lbGVtZW50cy5kaXNwbGF5Q29udGFpbmVyLmluaXRpYWxpemUoKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGlmICghX3RoaXMxMC5pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBhZHMgbWFuYWdlci4gQWQgcnVsZXMgcGxheWxpc3Qgd2lsbCBzdGFydCBhdCB0aGlzIHRpbWVcclxuICAgICAgICAgICAgX3RoaXMxMC5tYW5hZ2VyLmluaXQoY29udGFpbmVyLm9mZnNldFdpZHRoLCBjb250YWluZXIub2Zmc2V0SGVpZ2h0LCBnb29nbGUuaW1hLlZpZXdNb2RlLk5PUk1BTCk7IC8vIENhbGwgcGxheSB0byBzdGFydCBzaG93aW5nIHRoZSBhZC4gU2luZ2xlIHZpZGVvIGFuZCBvdmVybGF5IGFkcyB3aWxsXHJcbiAgICAgICAgICAgIC8vIHN0YXJ0IGF0IHRoaXMgdGltZTsgdGhlIGNhbGwgd2lsbCBiZSBpZ25vcmVkIGZvciBhZCBydWxlc1xyXG5cclxuXHJcbiAgICAgICAgICAgIF90aGlzMTAubWFuYWdlci5zdGFydCgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIF90aGlzMTAuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGFkRXJyb3IpIHtcclxuICAgICAgICAgIC8vIEFuIGVycm9yIG1heSBiZSB0aHJvd24gaWYgdGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZVxyXG4gICAgICAgICAgLy8gVkFTVCByZXNwb25zZVxyXG4gICAgICAgICAgX3RoaXMxMC5vbkFkRXJyb3IoYWRFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc3VtZSBvdXIgdmlkZW9cclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwicmVzdW1lQ29udGVudFwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc3VtZUNvbnRlbnQoKSB7XHJcbiAgICAgIC8vIEhpZGUgdGhlIGFkdmVydGlzZW1lbnQgY29udGFpbmVyXHJcbiAgICAgIHRoaXMuZWxlbWVudHMuY29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICcnOyAvLyBBZCBpcyBzdG9wcGVkXHJcblxyXG4gICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTsgLy8gUGxheSB2aWRlb1xyXG5cclxuICAgICAgdGhpcy5wbGF5ZXIubWVkaWEucGxheSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXVzZSBvdXIgdmlkZW9cclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwicGF1c2VDb250ZW50XCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGF1c2VDb250ZW50KCkge1xyXG4gICAgICAvLyBTaG93IHRoZSBhZHZlcnRpc2VtZW50IGNvbnRhaW5lclxyXG4gICAgICB0aGlzLmVsZW1lbnRzLmNvbnRhaW5lci5zdHlsZS56SW5kZXggPSAzOyAvLyBBZCBpcyBwbGF5aW5nXHJcblxyXG4gICAgICB0aGlzLnBsYXlpbmcgPSB0cnVlOyAvLyBQYXVzZSBvdXIgdmlkZW8uXHJcblxyXG4gICAgICB0aGlzLnBsYXllci5tZWRpYS5wYXVzZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IHRoZSBhZHNNYW5hZ2VyIHNvIHdlIGNhbiBncmFiIG5ldyBhZHMgYWZ0ZXIgdGhpcy4gSWYgd2UgZG9uJ3QgdGhlbiB3ZSdyZSBub3RcclxuICAgICAqIGFsbG93ZWQgdG8gY2FsbCBuZXcgYWRzIGJhc2VkIG9uIGdvb2dsZSBwb2xpY2llcywgYXMgdGhleSBpbnRlcnByZXQgdGhpcyBhcyBhbiBhY2NpZGVudGFsXHJcbiAgICAgKiB2aWRlbyByZXF1ZXN0cy4gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vaW50ZXJhY3RpdmUtXHJcbiAgICAgKiBtZWRpYS1hZHMvZG9jcy9zZGtzL2FuZHJvaWQvZmFxIzhcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiY2FuY2VsXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuY2VsKCkge1xyXG4gICAgICAvLyBQYXVzZSBvdXIgdmlkZW9cclxuICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICB0aGlzLnJlc3VtZUNvbnRlbnQoKTtcclxuICAgICAgfSAvLyBUZWxsIG91ciBpbnN0YW5jZSB0aGF0IHdlJ3JlIGRvbmUgZm9yIG5vd1xyXG5cclxuXHJcbiAgICAgIHRoaXMudHJpZ2dlcignZXJyb3InKTsgLy8gUmUtY3JlYXRlIG91ciBhZHNNYW5hZ2VyXHJcblxyXG4gICAgICB0aGlzLmxvYWRBZHMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmUtY3JlYXRlIG91ciBhZHNNYW5hZ2VyXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImxvYWRBZHNcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkQWRzKCkge1xyXG4gICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBUZWxsIG91ciBhZHNNYW5hZ2VyIHRvIGdvIGJ5ZSBieWVcclxuICAgICAgdGhpcy5tYW5hZ2VyUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBEZXN0cm95IG91ciBhZHNNYW5hZ2VyXHJcbiAgICAgICAgaWYgKF90aGlzMTEubWFuYWdlcikge1xyXG4gICAgICAgICAgX3RoaXMxMS5tYW5hZ2VyLmRlc3Ryb3koKTtcclxuICAgICAgICB9IC8vIFJlLXNldCBvdXIgYWRzTWFuYWdlciBwcm9taXNlc1xyXG5cclxuXHJcbiAgICAgICAgX3RoaXMxMS5tYW5hZ2VyUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICBfdGhpczExLm9uKCdsb2FkZWQnLCByZXNvbHZlKTtcclxuXHJcbiAgICAgICAgICBfdGhpczExLnBsYXllci5kZWJ1Zy5sb2coX3RoaXMxMS5tYW5hZ2VyKTtcclxuICAgICAgICB9KTsgLy8gTm93IHJlcXVlc3Qgc29tZSBuZXcgYWR2ZXJ0aXNlbWVudHNcclxuXHJcbiAgICAgICAgX3RoaXMxMS5yZXF1ZXN0QWRzKCk7XHJcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyBjYWxsYmFja3MgYWZ0ZXIgYW4gYWQgZXZlbnQgd2FzIGludm9rZWRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCAtIEV2ZW50IHR5cGVcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwidHJpZ2dlclwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXIoZXZlbnQpIHtcclxuICAgICAgdmFyIF90aGlzMTIgPSB0aGlzO1xyXG5cclxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xyXG4gICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmV2ZW50c1tldmVudF07XHJcblxyXG4gICAgICBpZiAoaXMkMS5hcnJheShoYW5kbGVycykpIHtcclxuICAgICAgICBoYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7XHJcbiAgICAgICAgICBpZiAoaXMkMS5mdW5jdGlvbihoYW5kbGVyKSkge1xyXG4gICAgICAgICAgICBoYW5kbGVyLmFwcGx5KF90aGlzMTIsIGFyZ3MpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZCBldmVudCBsaXN0ZW5lcnNcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCAtIEV2ZW50IHR5cGVcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlbnQgb2NjdXJzXHJcbiAgICAgKiBAcmV0dXJuIHtBZHN9XHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcIm9uXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gb24oZXZlbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgIGlmICghaXMkMS5hcnJheSh0aGlzLmV2ZW50c1tldmVudF0pKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gW107XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHVwIGEgc2FmZXR5IHRpbWVyIGZvciB3aGVuIHRoZSBhZCBuZXR3b3JrIGRvZXNuJ3QgcmVzcG9uZCBmb3Igd2hhdGV2ZXIgcmVhc29uLlxyXG4gICAgICogVGhlIGFkdmVydGlzZW1lbnQgaGFzIDEyIHNlY29uZHMgdG8gZ2V0IGl0cyB0aGluZ3MgdG9nZXRoZXIuIFdlIHN0b3AgdGhpcyB0aW1lciB3aGVuIHRoZVxyXG4gICAgICogYWR2ZXJ0aXNlbWVudCBpcyBwbGF5aW5nLCBvciB3aGVuIGEgdXNlciBhY3Rpb24gaXMgcmVxdWlyZWQgdG8gc3RhcnQsIHRoZW4gd2UgY2xlYXIgdGhlXHJcbiAgICAgKiB0aW1lciBvbiBhZCByZWFkeVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmcm9tXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInN0YXJ0U2FmZXR5VGltZXJcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydFNhZmV0eVRpbWVyKHRpbWUsIGZyb20pIHtcclxuICAgICAgdmFyIF90aGlzMTMgPSB0aGlzO1xyXG5cclxuICAgICAgdGhpcy5wbGF5ZXIuZGVidWcubG9nKFwiU2FmZXR5IHRpbWVyIGludm9rZWQgZnJvbTogXCIuY29uY2F0KGZyb20pKTtcclxuICAgICAgdGhpcy5zYWZldHlUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF90aGlzMTMuY2FuY2VsKCk7XHJcblxyXG4gICAgICAgIF90aGlzMTMuY2xlYXJTYWZldHlUaW1lcignc3RhcnRTYWZldHlUaW1lcigpJyk7XHJcbiAgICAgIH0sIHRpbWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhciBvdXIgc2FmZXR5IHRpbWVyKHMpXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZnJvbVxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJjbGVhclNhZmV0eVRpbWVyXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJTYWZldHlUaW1lcihmcm9tKSB7XHJcbiAgICAgIGlmICghaXMkMS5udWxsT3JVbmRlZmluZWQodGhpcy5zYWZldHlUaW1lcikpIHtcclxuICAgICAgICB0aGlzLnBsYXllci5kZWJ1Zy5sb2coXCJTYWZldHkgdGltZXIgY2xlYXJlZCBmcm9tOiBcIi5jb25jYXQoZnJvbSkpO1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNhZmV0eVRpbWVyKTtcclxuICAgICAgICB0aGlzLnNhZmV0eVRpbWVyID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJlbmFibGVkXCIsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xyXG4gICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuaXNIVE1MNSAmJiB0aGlzLnBsYXllci5pc1ZpZGVvICYmIGNvbmZpZy5lbmFibGVkICYmICghaXMkMS5lbXB0eShjb25maWcucHVibGlzaGVySWQpIHx8IGlzJDEudXJsKGNvbmZpZy50YWdVcmwpKTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwidGFnVXJsXCIsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xyXG5cclxuICAgICAgaWYgKGlzJDEudXJsKGNvbmZpZy50YWdVcmwpKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbmZpZy50YWdVcmw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBwYXJhbXMgPSB7XHJcbiAgICAgICAgQVZfUFVCTElTSEVSSUQ6ICc1OGMyNWJiMDA3M2VmNDQ4YjEwODdhZDYnLFxyXG4gICAgICAgIEFWX0NIQU5ORUxJRDogJzVhMDQ1OGRjMjhhMDYxNDVlNDUxOWQyMScsXHJcbiAgICAgICAgQVZfVVJMOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsXHJcbiAgICAgICAgY2I6IERhdGUubm93KCksXHJcbiAgICAgICAgQVZfV0lEVEg6IDY0MCxcclxuICAgICAgICBBVl9IRUlHSFQ6IDQ4MCxcclxuICAgICAgICBBVl9DRElNMjogdGhpcy5wdWJsaXNoZXJJZFxyXG4gICAgICB9O1xyXG4gICAgICB2YXIgYmFzZSA9ICdodHRwczovL2dvLmFuaXZpZXcuY29tL2FwaS9hZHNlcnZlcjYvdmFzdC8nO1xyXG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoYmFzZSwgXCI/XCIpLmNvbmNhdChidWlsZFVybFBhcmFtcyhwYXJhbXMpKTtcclxuICAgIH1cclxuICB9XSk7XHJcblxyXG4gIHJldHVybiBBZHM7XHJcbn0oKTtcclxuXHJcbnZhciBwYXJzZVZ0dCA9IGZ1bmN0aW9uIHBhcnNlVnR0KHZ0dERhdGFTdHJpbmcpIHtcclxuICB2YXIgcHJvY2Vzc2VkTGlzdCA9IFtdO1xyXG4gIHZhciBmcmFtZXMgPSB2dHREYXRhU3RyaW5nLnNwbGl0KC9cXHJcXG5cXHJcXG58XFxuXFxufFxcclxcci8pO1xyXG4gIGZyYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChmcmFtZSkge1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgdmFyIGxpbmVzID0gZnJhbWUuc3BsaXQoL1xcclxcbnxcXG58XFxyLyk7XHJcbiAgICBsaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7XHJcbiAgICAgIGlmICghaXMkMS5udW1iZXIocmVzdWx0LnN0YXJ0VGltZSkpIHtcclxuICAgICAgICAvLyBUaGUgbGluZSB3aXRoIHN0YXJ0IGFuZCBlbmQgdGltZXMgb24gaXQgaXMgdGhlIGZpcnN0IGxpbmUgb2YgaW50ZXJlc3RcclxuICAgICAgICB2YXIgbWF0Y2hUaW1lcyA9IGxpbmUubWF0Y2goLyhbMC05XXsyfSk/Oj8oWzAtOV17Mn0pOihbMC05XXsyfSkuKFswLTldezIsM30pKCA/LS0+ID8pKFswLTldezJ9KT86PyhbMC05XXsyfSk6KFswLTldezJ9KS4oWzAtOV17MiwzfSkvKTsgLy8gTm90ZSB0aGF0IHRoaXMgY3VycmVudGx5IGlnbm9yZXMgY2FwdGlvbiBmb3JtYXR0aW5nIGRpcmVjdGl2ZXMgdGhhdCBhcmUgb3B0aW9uYWxseSBvbiB0aGUgZW5kIG9mIHRoaXMgbGluZSAtIGZpbmUgZm9yIG5vbi1jYXB0aW9ucyBWVFRcclxuXHJcbiAgICAgICAgaWYgKG1hdGNoVGltZXMpIHtcclxuICAgICAgICAgIHJlc3VsdC5zdGFydFRpbWUgPSBOdW1iZXIobWF0Y2hUaW1lc1sxXSB8fCAwKSAqIDYwICogNjAgKyBOdW1iZXIobWF0Y2hUaW1lc1syXSkgKiA2MCArIE51bWJlcihtYXRjaFRpbWVzWzNdKSArIE51bWJlcihcIjAuXCIuY29uY2F0KG1hdGNoVGltZXNbNF0pKTtcclxuICAgICAgICAgIHJlc3VsdC5lbmRUaW1lID0gTnVtYmVyKG1hdGNoVGltZXNbNl0gfHwgMCkgKiA2MCAqIDYwICsgTnVtYmVyKG1hdGNoVGltZXNbN10pICogNjAgKyBOdW1iZXIobWF0Y2hUaW1lc1s4XSkgKyBOdW1iZXIoXCIwLlwiLmNvbmNhdChtYXRjaFRpbWVzWzldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKCFpcyQxLmVtcHR5KGxpbmUudHJpbSgpKSAmJiBpcyQxLmVtcHR5KHJlc3VsdC50ZXh0KSkge1xyXG4gICAgICAgIC8vIElmIHdlIGFscmVhZHkgaGF2ZSB0aGUgc3RhcnRUaW1lLCB0aGVuIHdlJ3JlIGRlZmluaXRlbHkgdXAgdG8gdGhlIHRleHQgbGluZShzKVxyXG4gICAgICAgIHZhciBsaW5lU3BsaXQgPSBsaW5lLnRyaW0oKS5zcGxpdCgnI3h5d2g9Jyk7XHJcblxyXG4gICAgICAgIHZhciBfbGluZVNwbGl0ID0gX3NsaWNlZFRvQXJyYXkobGluZVNwbGl0LCAxKTtcclxuXHJcbiAgICAgICAgcmVzdWx0LnRleHQgPSBfbGluZVNwbGl0WzBdO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGVyZSdzIGNvbnRlbnQgaW4gbGluZVNwbGl0WzFdLCB0aGVuIHdlIGhhdmUgc3ByaXRlcy4gSWYgbm90LCB0aGVuIGl0J3MganVzdCBvbmUgZnJhbWUgcGVyIGltYWdlXHJcbiAgICAgICAgaWYgKGxpbmVTcGxpdFsxXSkge1xyXG4gICAgICAgICAgdmFyIF9saW5lU3BsaXQkMSRzcGxpdCA9IGxpbmVTcGxpdFsxXS5zcGxpdCgnLCcpO1xyXG5cclxuICAgICAgICAgIHZhciBfbGluZVNwbGl0JDEkc3BsaXQyID0gX3NsaWNlZFRvQXJyYXkoX2xpbmVTcGxpdCQxJHNwbGl0LCA0KTtcclxuXHJcbiAgICAgICAgICByZXN1bHQueCA9IF9saW5lU3BsaXQkMSRzcGxpdDJbMF07XHJcbiAgICAgICAgICByZXN1bHQueSA9IF9saW5lU3BsaXQkMSRzcGxpdDJbMV07XHJcbiAgICAgICAgICByZXN1bHQudyA9IF9saW5lU3BsaXQkMSRzcGxpdDJbMl07XHJcbiAgICAgICAgICByZXN1bHQuaCA9IF9saW5lU3BsaXQkMSRzcGxpdDJbM107XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAocmVzdWx0LnRleHQpIHtcclxuICAgICAgcHJvY2Vzc2VkTGlzdC5wdXNoKHJlc3VsdCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHByb2Nlc3NlZExpc3Q7XHJcbn07XHJcbi8qKlxyXG4gKiBQcmV2aWV3IHRodW1ibmFpbHMgZm9yIHNlZWsgaG92ZXIgYW5kIHNjcnViYmluZ1xyXG4gKiBTZWVraW5nOiBIb3ZlciBvdmVyIHRoZSBzZWVrIGJhciAoZGVza3RvcCBvbmx5KTogc2hvd3MgYSBzbWFsbCBwcmV2aWV3IGNvbnRhaW5lciBhYm92ZSB0aGUgc2VlayBiYXJcclxuICogU2NydWJiaW5nOiBDbGljayBhbmQgZHJhZyB0aGUgc2VlayBiYXIgKGRlc2t0b3AgYW5kIG1vYmlsZSk6IHNob3dzIHRoZSBwcmV2aWV3IGltYWdlIG92ZXIgdGhlIGVudGlyZSB2aWRlbywgYXMgaWYgdGhlIHZpZGVvIGlzIHNjcnViYmluZyBhdCB2ZXJ5IGhpZ2ggc3BlZWRcclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gVGh1bWJzIGFyZSBzZXQgdmlhIEpTIHNldHRpbmdzIG9uIFBseXIgaW5pdCwgbm90IEhUTUw1ICd0cmFjaycgcHJvcGVydHkuIFVzaW5nIHRoZSB0cmFjayBwcm9wZXJ0eSB3b3VsZCBiZSBhIGJpdCBncm9zcywgYmVjYXVzZSBpdCBkb2Vzbid0IHN1cHBvcnQgY3VzdG9tICdraW5kcycuIGtpbmQ9bWV0YWRhdGEgbWlnaHQgYmUgdXNlZCBmb3Igc29tZXRoaW5nIGVsc2UsIGFuZCB3ZSB3YW50IHRvIGFsbG93IG11bHRpcGxlIHRodW1ibmFpbHMgdHJhY2tzLiBUcmFja3MgbXVzdCBoYXZlIGEgdW5pcXVlIGNvbWJpbmF0aW9uIG9mICdraW5kJyBhbmQgJ2xhYmVsJy4gV2Ugd291bGQgaGF2ZSB0byBkbyBzb21ldGhpbmcgbGlrZSBraW5kPW1ldGFkYXRhLGxhYmVsPXRodW1ibmFpbHMxIC8ga2luZD1tZXRhZGF0YSxsYWJlbD10aHVtYm5haWxzMi4gU3F1YXJlIHBlZywgcm91bmQgaG9sZVxyXG4gKiAtIFZUVCBpbmZvOiB0aGUgaW1hZ2UgVVJMIGlzIHJlbGF0aXZlIHRvIHRoZSBWVFQsIG5vdCB0aGUgY3VycmVudCBkb2N1bWVudC4gQnV0IGlmIHRoZSB1cmwgc3RhcnRzIHdpdGggYSBzbGFzaCwgaXQgd2lsbCBuYXR1cmFsbHkgYmUgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgZG9tYWluLiBodHRwczovL3N1cHBvcnQuandwbGF5ZXIuY29tL2FydGljbGVzL2hvdy10by1hZGQtcHJldmlldy10aHVtYm5haWxzXHJcbiAqIC0gVGhpcyBpbXBsZW1lbnRhdGlvbiB1c2VzIG11bHRpcGxlIHNlcGFyYXRlIGltZyBlbGVtZW50cy4gT3RoZXIgaW1wbGVtZW50YXRpb25zIHVzZSBiYWNrZ3JvdW5kLWltYWdlIG9uIG9uZSBlbGVtZW50LiBUaGlzIHdvdWxkIGJlIG5pY2UgYW5kIHNpbXBsZSwgYnV0IEZpcmVmb3ggYW5kIFNhZmFyaSBoYXZlIGZsaWNrZXJpbmcgaXNzdWVzIHdpdGggcmVwbGFjaW5nIGJhY2tncm91bmRzIG9mIGxhcmdlciBpbWFnZXMuIEl0IHNlZW1zIHRoYXQgWW91VHViZSBwZXJoYXBzIG9ubHkgYXZvaWRzIHRoaXMgYmVjYXVzZSB0aGV5IGRvbid0IGhhdmUgdGhlIG9wdGlvbiBmb3IgaGlnaC1yZXMgcHJldmlld3MgKGV2ZW4gdGhlIGZ1bGxzY3JlZW4gb25lcywgd2hlbiBtb3VzZWRvd24vc2Vla2luZykuIEltYWdlcyBhcHBlYXIgb3ZlciB0aGUgdG9wIG9mIGVhY2ggb3RoZXIsIGFuZCBwcmV2aW91cyBvbmVzIGFyZSBkaXNjYXJkZWQgb25jZSB0aGUgbmV3IG9uZXMgaGF2ZSBiZWVuIHJlbmRlcmVkXHJcbiAqL1xyXG5cclxuXHJcbnZhciBQcmV2aWV3VGh1bWJuYWlscyA9XHJcbi8qI19fUFVSRV9fKi9cclxuZnVuY3Rpb24gKCkge1xyXG4gIC8qKlxyXG4gICAqIFByZXZpZXdUaHVtYm5haWxzIGNvbnN0cnVjdG9yLlxyXG4gICAqIEBwYXJhbSB7UGx5cn0gcGxheWVyXHJcbiAgICogQHJldHVybiB7UHJldmlld1RodW1ibmFpbHN9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gUHJldmlld1RodW1ibmFpbHMocGxheWVyKSB7XHJcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJldmlld1RodW1ibmFpbHMpO1xyXG5cclxuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgdGhpcy50aHVtYm5haWxzID0gW107XHJcbiAgICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5sYXN0TW91c2VNb3ZlVGltZSA9IERhdGUubm93KCk7XHJcbiAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgdGhpcy5sb2FkZWRJbWFnZXMgPSBbXTtcclxuICAgIHRoaXMuZWxlbWVudHMgPSB7XHJcbiAgICAgIHRodW1iOiB7fSxcclxuICAgICAgc2NydWJiaW5nOiB7fVxyXG4gICAgfTtcclxuICAgIHRoaXMubG9hZCgpO1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUNsYXNzKFByZXZpZXdUaHVtYm5haWxzLCBbe1xyXG4gICAga2V5OiBcImxvYWRcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkKCkge1xyXG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gVG9nZ2xldGhlIHJlZ3VsYXIgc2VlayB0b29sdGlwXHJcbiAgICAgIGlmICh0aGlzLnBsYXllci5lbGVtZW50cy5kaXNwbGF5LnNlZWtUb29sdGlwKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuZWxlbWVudHMuZGlzcGxheS5zZWVrVG9vbHRpcC5oaWRkZW4gPSB0aGlzLmVuYWJsZWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmdldFRodW1ibmFpbHMoKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIV90aGlzLmVuYWJsZWQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IC8vIFJlbmRlciBET00gZWxlbWVudHNcclxuXHJcblxyXG4gICAgICAgIF90aGlzLnJlbmRlcigpOyAvLyBDaGVjayB0byBzZWUgaWYgdGh1bWIgY29udGFpbmVyIHNpemUgd2FzIHNwZWNpZmllZCBtYW51YWxseSBpbiBDU1NcclxuXHJcblxyXG4gICAgICAgIF90aGlzLmRldGVybWluZUNvbnRhaW5lckF1dG9TaXppbmcoKTtcclxuXHJcbiAgICAgICAgX3RoaXMubG9hZGVkID0gdHJ1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9IC8vIERvd25sb2FkIFZUVCBmaWxlcyBhbmQgcGFyc2UgdGhlbVxyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiZ2V0VGh1bWJuYWlsc1wiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRodW1ibmFpbHMoKSB7XHJcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgdmFyIHNyYyA9IF90aGlzMi5wbGF5ZXIuY29uZmlnLnByZXZpZXdUaHVtYm5haWxzLnNyYztcclxuXHJcbiAgICAgICAgaWYgKGlzJDEuZW1wdHkoc3JjKSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHByZXZpZXdUaHVtYm5haWxzLnNyYyBjb25maWcgYXR0cmlidXRlJyk7XHJcbiAgICAgICAgfSAvLyBJZiBzdHJpbmcsIGNvbnZlcnQgaW50byBzaW5nbGUtZWxlbWVudCBsaXN0XHJcblxyXG5cclxuICAgICAgICB2YXIgdXJscyA9IGlzJDEuc3RyaW5nKHNyYykgPyBbc3JjXSA6IHNyYzsgLy8gTG9vcCB0aHJvdWdoIGVhY2ggc3JjIFVSTC4gRG93bmxvYWQgYW5kIHByb2Nlc3MgdGhlIFZUVCBmaWxlLCBzdG9yaW5nIHRoZSByZXN1bHRpbmcgZGF0YSBpbiB0aGlzLnRodW1ibmFpbHNcclxuXHJcbiAgICAgICAgdmFyIHByb21pc2VzID0gdXJscy5tYXAoZnVuY3Rpb24gKHUpIHtcclxuICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0VGh1bWJuYWlsKHUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIC8vIFNvcnQgc21hbGxlc3QgdG8gYmlnZ2VzdCAoZS5nLiwgWzEyMHAsIDQ4MHAsIDEwODBwXSlcclxuICAgICAgICAgIF90aGlzMi50aHVtYm5haWxzLnNvcnQoZnVuY3Rpb24gKHgsIHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHguaGVpZ2h0IC0geS5oZWlnaHQ7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBfdGhpczIucGxheWVyLmRlYnVnLmxvZygnUHJldmlldyB0aHVtYm5haWxzJywgX3RoaXMyLnRodW1ibmFpbHMpO1xyXG5cclxuICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9IC8vIFByb2Nlc3MgaW5kaXZpZHVhbCBWVFQgZmlsZVxyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiZ2V0VGh1bWJuYWlsXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGh1bWJuYWlsKHVybCkge1xyXG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcclxuXHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgIHZhciB0aHVtYm5haWwgPSB7XHJcbiAgICAgICAgICAgIGZyYW1lczogcGFyc2VWdHQocmVzcG9uc2UpLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHVybFByZWZpeDogJydcclxuICAgICAgICAgIH07IC8vIElmIHRoZSBVUkxzIGRvbid0IHN0YXJ0IHdpdGggJy8nLCB0aGVuIHdlIG5lZWQgdG8gc2V0IHRoZWlyIHJlbGF0aXZlIHBhdGggdG8gYmUgdGhlIGxvY2F0aW9uIG9mIHRoZSBWVFQgZmlsZVxyXG4gICAgICAgICAgLy8gSWYgdGhlIFVSTHMgZG8gc3RhcnQgd2l0aCAnLycsIHRoZW4gdGhleSBvYnZpb3VzbHkgZG9uJ3QgbmVlZCBhIHByZWZpeCwgc28gaXQgd2lsbCByZW1haW4gYmxhbmtcclxuICAgICAgICAgIC8vIElmIHRoZSB0aHVtYm5haWwgVVJMcyBzdGFydCB3aXRoIHdpdGggbm9uZSBvZiAnLycsICdodHRwOi8vJyBvciAnaHR0cHM6Ly8nLCB0aGVuIHdlIG5lZWQgdG8gc2V0IHRoZWlyIHJlbGF0aXZlIHBhdGggdG8gYmUgdGhlIGxvY2F0aW9uIG9mIHRoZSBWVFQgZmlsZVxyXG5cclxuICAgICAgICAgIGlmICghdGh1bWJuYWlsLmZyYW1lc1swXS50ZXh0LnN0YXJ0c1dpdGgoJy8nKSAmJiAhdGh1bWJuYWlsLmZyYW1lc1swXS50ZXh0LnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSAmJiAhdGh1bWJuYWlsLmZyYW1lc1swXS50ZXh0LnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykpIHtcclxuICAgICAgICAgICAgdGh1bWJuYWlsLnVybFByZWZpeCA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcclxuICAgICAgICAgIH0gLy8gRG93bmxvYWQgdGhlIGZpcnN0IGZyYW1lLCBzbyB0aGF0IHdlIGNhbiBkZXRlcm1pbmUvc2V0IHRoZSBoZWlnaHQgb2YgdGhpcyB0aHVtYm5haWxzRGVmXHJcblxyXG5cclxuICAgICAgICAgIHZhciB0ZW1wSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgICB0ZW1wSW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aHVtYm5haWwuaGVpZ2h0ID0gdGVtcEltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgIHRodW1ibmFpbC53aWR0aCA9IHRlbXBJbWFnZS5uYXR1cmFsV2lkdGg7XHJcblxyXG4gICAgICAgICAgICBfdGhpczMudGh1bWJuYWlscy5wdXNoKHRodW1ibmFpbCk7XHJcblxyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHRlbXBJbWFnZS5zcmMgPSB0aHVtYm5haWwudXJsUHJlZml4ICsgdGh1bWJuYWlsLmZyYW1lc1swXS50ZXh0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwic3RhcnRNb3ZlXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnRNb3ZlKGV2ZW50KSB7XHJcbiAgICAgIGlmICghdGhpcy5sb2FkZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghaXMkMS5ldmVudChldmVudCkgfHwgIVsndG91Y2htb3ZlJywgJ21vdXNlbW92ZSddLmluY2x1ZGVzKGV2ZW50LnR5cGUpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IC8vIFdhaXQgdW50aWwgbWVkaWEgaGFzIGEgZHVyYXRpb25cclxuXHJcblxyXG4gICAgICBpZiAoIXRoaXMucGxheWVyLm1lZGlhLmR1cmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcclxuICAgICAgICAvLyBDYWxjdWxhdGUgc2VlayBob3ZlciBwb3NpdGlvbiBhcyBhcHByb3ggdmlkZW8gc2Vjb25kc1xyXG4gICAgICAgIHRoaXMuc2Vla1RpbWUgPSB0aGlzLnBsYXllci5tZWRpYS5kdXJhdGlvbiAqICh0aGlzLnBsYXllci5lbGVtZW50cy5pbnB1dHMuc2Vlay52YWx1ZSAvIDEwMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHNlZWsgaG92ZXIgcG9zaXRpb24gYXMgYXBwcm94IHZpZGVvIHNlY29uZHNcclxuICAgICAgICB2YXIgY2xpZW50UmVjdCA9IHRoaXMucGxheWVyLmVsZW1lbnRzLnByb2dyZXNzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHZhciBwZXJjZW50YWdlID0gMTAwIC8gY2xpZW50UmVjdC53aWR0aCAqIChldmVudC5wYWdlWCAtIGNsaWVudFJlY3QubGVmdCk7XHJcbiAgICAgICAgdGhpcy5zZWVrVGltZSA9IHRoaXMucGxheWVyLm1lZGlhLmR1cmF0aW9uICogKHBlcmNlbnRhZ2UgLyAxMDApO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWVrVGltZSA8IDApIHtcclxuICAgICAgICAgIC8vIFRoZSBtb3VzZW1vdmUgZmlyZXMgZm9yIDEwK3B4IG91dCB0byB0aGUgbGVmdFxyXG4gICAgICAgICAgdGhpcy5zZWVrVGltZSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWVrVGltZSA+IHRoaXMucGxheWVyLm1lZGlhLmR1cmF0aW9uIC0gMSkge1xyXG4gICAgICAgICAgLy8gVG9vayAxIHNlY29uZCBvZmYgdGhlIGR1cmF0aW9uIGZvciBzYWZldHksIGJlY2F1c2UgZGlmZmVyZW50IHBsYXllcnMgY2FuIGRpc2FncmVlIG9uIHRoZSByZWFsIGR1cmF0aW9uIG9mIGEgdmlkZW9cclxuICAgICAgICAgIHRoaXMuc2Vla1RpbWUgPSB0aGlzLnBsYXllci5tZWRpYS5kdXJhdGlvbiAtIDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm1vdXNlUG9zWCA9IGV2ZW50LnBhZ2VYOyAvLyBTZXQgdGltZSB0ZXh0IGluc2lkZSBpbWFnZSBjb250YWluZXJcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy50aHVtYi50aW1lLmlubmVyVGV4dCA9IGZvcm1hdFRpbWUodGhpcy5zZWVrVGltZSk7XHJcbiAgICAgIH0gLy8gRG93bmxvYWQgYW5kIHNob3cgaW1hZ2VcclxuXHJcblxyXG4gICAgICB0aGlzLnNob3dJbWFnZUF0Q3VycmVudFRpbWUoKTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiZW5kTW92ZVwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuZE1vdmUoKSB7XHJcbiAgICAgIHRoaXMudG9nZ2xlVGh1bWJDb250YWluZXIoZmFsc2UsIHRydWUpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJzdGFydFNjcnViYmluZ1wiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0U2NydWJiaW5nKGV2ZW50KSB7XHJcbiAgICAgIC8vIE9ubHkgYWN0IG9uIGxlZnQgbW91c2UgYnV0dG9uICgwKSwgb3IgdG91Y2ggZGV2aWNlIChldmVudC5idXR0b24gaXMgZmFsc2UpXHJcbiAgICAgIGlmIChldmVudC5idXR0b24gPT09IGZhbHNlIHx8IGV2ZW50LmJ1dHRvbiA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTsgLy8gV2FpdCB1bnRpbCBtZWRpYSBoYXMgYSBkdXJhdGlvblxyXG5cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXIubWVkaWEuZHVyYXRpb24pIHtcclxuICAgICAgICAgIHRoaXMudG9nZ2xlU2NydWJiaW5nQ29udGFpbmVyKHRydWUpO1xyXG4gICAgICAgICAgdGhpcy50b2dnbGVUaHVtYkNvbnRhaW5lcihmYWxzZSwgdHJ1ZSk7IC8vIERvd25sb2FkIGFuZCBzaG93IGltYWdlXHJcblxyXG4gICAgICAgICAgdGhpcy5zaG93SW1hZ2VBdEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcImVuZFNjcnViYmluZ1wiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuZFNjcnViYmluZygpIHtcclxuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XHJcblxyXG4gICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlOyAvLyBIaWRlIHNjcnViYmluZyBwcmV2aWV3LiBCdXQgd2FpdCB1bnRpbCB0aGUgdmlkZW8gaGFzIHN1Y2Nlc3NmdWxseSBzZWVrZWQgYmVmb3JlIGhpZGluZyB0aGUgc2NydWJiaW5nIHByZXZpZXdcclxuXHJcbiAgICAgIGlmIChNYXRoLmNlaWwodGhpcy5sYXN0VGltZSkgPT09IE1hdGguY2VpbCh0aGlzLnBsYXllci5tZWRpYS5jdXJyZW50VGltZSkpIHtcclxuICAgICAgICAvLyBUaGUgdmlkZW8gd2FzIGFscmVhZHkgc2Vla2VkL2xvYWRlZCBhdCB0aGUgY2hvc2VuIHRpbWUgLSBoaWRlIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgdGhpcy50b2dnbGVTY3J1YmJpbmdDb250YWluZXIoZmFsc2UpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFRoZSB2aWRlbyBoYXNuJ3Qgc2Vla2VkIHlldC4gV2FpdCBmb3IgdGhhdFxyXG4gICAgICAgIG9uY2UuY2FsbCh0aGlzLnBsYXllciwgdGhpcy5wbGF5ZXIubWVkaWEsICd0aW1ldXBkYXRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgLy8gUmUtY2hlY2sgbW91c2Vkb3duIC0gd2UgbWlnaHQgaGF2ZSBhbHJlYWR5IHN0YXJ0ZWQgc2NydWJiaW5nIGFnYWluXHJcbiAgICAgICAgICBpZiAoIV90aGlzNC5tb3VzZURvd24pIHtcclxuICAgICAgICAgICAgX3RoaXM0LnRvZ2dsZVNjcnViYmluZ0NvbnRhaW5lcihmYWxzZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0dXAgaG9va3MgZm9yIFBseXIgYW5kIHdpbmRvdyBldmVudHNcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwibGlzdGVuZXJzXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuZXJzKCkge1xyXG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcclxuXHJcbiAgICAgIC8vIEhpZGUgdGh1bWJuYWlsIHByZXZpZXcgLSBvbiBtb3VzZSBjbGljaywgbW91c2UgbGVhdmUgKGluIGxpc3RlbmVycy5qcyBmb3Igbm93KSwgYW5kIHZpZGVvIHBsYXkvc2Vlay4gQWxsIGZvdXIgYXJlIHJlcXVpcmVkLCBlLmcuLCBmb3IgYnVmZmVyaW5nXHJcbiAgICAgIHRoaXMucGxheWVyLm9uKCdwbGF5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF90aGlzNS50b2dnbGVUaHVtYkNvbnRhaW5lcihmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnBsYXllci5vbignc2Vla2VkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF90aGlzNS50b2dnbGVUaHVtYkNvbnRhaW5lcihmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnBsYXllci5vbigndGltZXVwZGF0ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfdGhpczUubGFzdFRpbWUgPSBfdGhpczUucGxheWVyLm1lZGlhLmN1cnJlbnRUaW1lO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIEhUTUwgZWxlbWVudHMgZm9yIGltYWdlIGNvbnRhaW5lcnNcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwicmVuZGVyXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgICAvLyBDcmVhdGUgSFRNTCBlbGVtZW50OiBwbHlyX19wcmV2aWV3LXRodW1ibmFpbC1jb250YWluZXJcclxuICAgICAgdGhpcy5lbGVtZW50cy50aHVtYi5jb250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XHJcbiAgICAgICAgY2xhc3M6IHRoaXMucGxheWVyLmNvbmZpZy5jbGFzc05hbWVzLnByZXZpZXdUaHVtYm5haWxzLnRodW1iQ29udGFpbmVyXHJcbiAgICAgIH0pOyAvLyBXcmFwcGVyIGZvciB0aGUgaW1hZ2UgZm9yIHN0eWxpbmdcclxuXHJcbiAgICAgIHRoaXMuZWxlbWVudHMudGh1bWIuaW1hZ2VDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XHJcbiAgICAgICAgY2xhc3M6IHRoaXMucGxheWVyLmNvbmZpZy5jbGFzc05hbWVzLnByZXZpZXdUaHVtYm5haWxzLmltYWdlQ29udGFpbmVyXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmVsZW1lbnRzLnRodW1iLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRzLnRodW1iLmltYWdlQ29udGFpbmVyKTsgLy8gQ3JlYXRlIEhUTUwgZWxlbWVudCwgcGFyZW50K3NwYW46IHRpbWUgdGV4dCAoZS5nLiwgMDE6MzI6MDApXHJcblxyXG4gICAgICB2YXIgdGltZUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcclxuICAgICAgICBjbGFzczogdGhpcy5wbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMucHJldmlld1RodW1ibmFpbHMudGltZUNvbnRhaW5lclxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5lbGVtZW50cy50aHVtYi50aW1lID0gY3JlYXRlRWxlbWVudCgnc3BhbicsIHt9LCAnMDA6MDAnKTtcclxuICAgICAgdGltZUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRzLnRodW1iLnRpbWUpO1xyXG4gICAgICB0aGlzLmVsZW1lbnRzLnRodW1iLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aW1lQ29udGFpbmVyKTsgLy8gSW5qZWN0IHRoZSB3aG9sZSB0aHVtYlxyXG5cclxuICAgICAgaWYgKGlzJDEuZWxlbWVudCh0aGlzLnBsYXllci5lbGVtZW50cy5wcm9ncmVzcykpIHtcclxuICAgICAgICB0aGlzLnBsYXllci5lbGVtZW50cy5wcm9ncmVzcy5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRzLnRodW1iLmNvbnRhaW5lcik7XHJcbiAgICAgIH0gLy8gQ3JlYXRlIEhUTUwgZWxlbWVudDogcGx5cl9fcHJldmlldy1zY3J1YmJpbmctY29udGFpbmVyXHJcblxyXG5cclxuICAgICAgdGhpcy5lbGVtZW50cy5zY3J1YmJpbmcuY29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xyXG4gICAgICAgIGNsYXNzOiB0aGlzLnBsYXllci5jb25maWcuY2xhc3NOYW1lcy5wcmV2aWV3VGh1bWJuYWlscy5zY3J1YmJpbmdDb250YWluZXJcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMucGxheWVyLmVsZW1lbnRzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50cy5zY3J1YmJpbmcuY29udGFpbmVyKTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwic2hvd0ltYWdlQXRDdXJyZW50VGltZVwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dJbWFnZUF0Q3VycmVudFRpbWUoKSB7XHJcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTY3J1YmJpbmdDb250YWluZXJTaXplKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zZXRUaHVtYkNvbnRhaW5lclNpemVBbmRQb3MoKTtcclxuICAgICAgfSAvLyBGaW5kIHRoZSBkZXNpcmVkIHRodW1ibmFpbCBpbmRleFxyXG4gICAgICAvLyBUT0RPOiBIYW5kbGUgYSB2aWRlbyBsb25nZXIgdGhhbiB0aGUgdGh1bWJzIHdoZXJlIHRodW1iTnVtIGlzIG51bGxcclxuXHJcblxyXG4gICAgICB2YXIgdGh1bWJOdW0gPSB0aGlzLnRodW1ibmFpbHNbMF0uZnJhbWVzLmZpbmRJbmRleChmdW5jdGlvbiAoZnJhbWUpIHtcclxuICAgICAgICByZXR1cm4gX3RoaXM2LnNlZWtUaW1lID49IGZyYW1lLnN0YXJ0VGltZSAmJiBfdGhpczYuc2Vla1RpbWUgPD0gZnJhbWUuZW5kVGltZTtcclxuICAgICAgfSk7XHJcbiAgICAgIHZhciBoYXNUaHVtYiA9IHRodW1iTnVtID49IDA7XHJcbiAgICAgIHZhciBxdWFsaXR5SW5kZXggPSAwOyAvLyBTaG93IHRoZSB0aHVtYiBjb250YWluZXIgaWYgd2UncmUgbm90IHNjcnViYmluZ1xyXG5cclxuICAgICAgaWYgKCF0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgIHRoaXMudG9nZ2xlVGh1bWJDb250YWluZXIoaGFzVGh1bWIpO1xyXG4gICAgICB9IC8vIE5vIG1hdGNoaW5nIHRodW1iIGZvdW5kXHJcblxyXG5cclxuICAgICAgaWYgKCFoYXNUaHVtYikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSAvLyBDaGVjayB0byBzZWUgaWYgd2UndmUgYWxyZWFkeSBkb3dubG9hZGVkIGhpZ2hlciBxdWFsaXR5IHZlcnNpb25zIG9mIHRoaXMgaW1hZ2VcclxuXHJcblxyXG4gICAgICB0aGlzLnRodW1ibmFpbHMuZm9yRWFjaChmdW5jdGlvbiAodGh1bWJuYWlsLCBpbmRleCkge1xyXG4gICAgICAgIGlmIChfdGhpczYubG9hZGVkSW1hZ2VzLmluY2x1ZGVzKHRodW1ibmFpbC5mcmFtZXNbdGh1bWJOdW1dLnRleHQpKSB7XHJcbiAgICAgICAgICBxdWFsaXR5SW5kZXggPSBpbmRleDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pOyAvLyBPbmx5IHByb2NlZWQgaWYgZWl0aGVyIHRodW1ibnVtIG9yIHRodW1iZmlsZW5hbWUgaGFzIGNoYW5nZWRcclxuXHJcbiAgICAgIGlmICh0aHVtYk51bSAhPT0gdGhpcy5zaG93aW5nVGh1bWIpIHtcclxuICAgICAgICB0aGlzLnNob3dpbmdUaHVtYiA9IHRodW1iTnVtO1xyXG4gICAgICAgIHRoaXMubG9hZEltYWdlKHF1YWxpdHlJbmRleCk7XHJcbiAgICAgIH1cclxuICAgIH0gLy8gU2hvdyB0aGUgaW1hZ2UgdGhhdCdzIGN1cnJlbnRseSBzcGVjaWZpZWQgaW4gdGhpcy5zaG93aW5nVGh1bWJcclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImxvYWRJbWFnZVwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRJbWFnZSgpIHtcclxuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XHJcblxyXG4gICAgICB2YXIgcXVhbGl0eUluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xyXG4gICAgICB2YXIgdGh1bWJOdW0gPSB0aGlzLnNob3dpbmdUaHVtYjtcclxuICAgICAgdmFyIHRodW1ibmFpbCA9IHRoaXMudGh1bWJuYWlsc1txdWFsaXR5SW5kZXhdO1xyXG4gICAgICB2YXIgdXJsUHJlZml4ID0gdGh1bWJuYWlsLnVybFByZWZpeDtcclxuICAgICAgdmFyIGZyYW1lID0gdGh1bWJuYWlsLmZyYW1lc1t0aHVtYk51bV07XHJcbiAgICAgIHZhciB0aHVtYkZpbGVuYW1lID0gdGh1bWJuYWlsLmZyYW1lc1t0aHVtYk51bV0udGV4dDtcclxuICAgICAgdmFyIHRodW1iVXJsID0gdXJsUHJlZml4ICsgdGh1bWJGaWxlbmFtZTtcclxuXHJcbiAgICAgIGlmICghdGhpcy5jdXJyZW50SW1hZ2VFbGVtZW50IHx8IHRoaXMuY3VycmVudEltYWdlRWxlbWVudC5kYXRhc2V0LmZpbGVuYW1lICE9PSB0aHVtYkZpbGVuYW1lKSB7XHJcbiAgICAgICAgLy8gSWYgd2UncmUgYWxyZWFkeSBsb2FkaW5nIGEgcHJldmlvdXMgaW1hZ2UsIHJlbW92ZSBpdHMgb25sb2FkIGhhbmRsZXIgLSB3ZSBkb24ndCB3YW50IGl0IHRvIGxvYWQgYWZ0ZXIgdGhpcyBvbmVcclxuICAgICAgICAvLyBPbmx5IGRvIHRoaXMgaWYgbm90IHVzaW5nIHNwcml0ZXMuIFdpdGhvdXQgc3ByaXRlcyB3ZSByZWFsbHkgd2FudCB0byBzaG93IGFzIG1hbnkgaW1hZ2VzIGFzIHBvc3NpYmxlLCBhcyBhIGJlc3QtZWZmb3J0XHJcbiAgICAgICAgaWYgKHRoaXMubG9hZGluZ0ltYWdlICYmIHRoaXMudXNpbmdTcHJpdGVzKSB7XHJcbiAgICAgICAgICB0aGlzLmxvYWRpbmdJbWFnZS5vbmxvYWQgPSBudWxsO1xyXG4gICAgICAgIH0gLy8gV2UncmUgYnVpbGRpbmcgYW5kIGFkZGluZyBhIG5ldyBpbWFnZS4gSW4gb3RoZXIgaW1wbGVtZW50YXRpb25zIG9mIHNpbWlsYXIgZnVuY3Rpb25hbGl0eSAoWW91VHViZSksIGJhY2tncm91bmQgaW1hZ2VcclxuICAgICAgICAvLyBpcyBpbnN0ZWFkIHVzZWQuIEJ1dCB0aGlzIGNhdXNlcyBpc3N1ZXMgd2l0aCBsYXJnZXIgaW1hZ2VzIGluIEZpcmVmb3ggYW5kIFNhZmFyaSAtIHN3aXRjaGluZyBiZXR3ZWVuIGJhY2tncm91bmRcclxuICAgICAgICAvLyBpbWFnZXMgY2F1c2VzIGEgZmxpY2tlci4gUHV0dGluZyBhIG5ldyBpbWFnZSBvdmVyIHRoZSB0b3AgZG9lcyBub3RcclxuXHJcblxyXG4gICAgICAgIHZhciBwcmV2aWV3SW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBwcmV2aWV3SW1hZ2Uuc3JjID0gdGh1bWJVcmw7XHJcbiAgICAgICAgcHJldmlld0ltYWdlLmRhdGFzZXQuaW5kZXggPSB0aHVtYk51bTtcclxuICAgICAgICBwcmV2aWV3SW1hZ2UuZGF0YXNldC5maWxlbmFtZSA9IHRodW1iRmlsZW5hbWU7XHJcbiAgICAgICAgdGhpcy5zaG93aW5nVGh1bWJGaWxlbmFtZSA9IHRodW1iRmlsZW5hbWU7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuZGVidWcubG9nKFwiTG9hZGluZyBpbWFnZTogXCIuY29uY2F0KHRodW1iVXJsKSk7IC8vIEZvciBzb21lIHJlYXNvbiwgcGFzc2luZyB0aGUgbmFtZWQgZnVuY3Rpb24gZGlyZWN0bHkgY2F1c2VzIGl0IHRvIGV4ZWN1dGUgaW1tZWRpYXRlbHkuIFNvIEkndmUgd3JhcHBlZCBpdCBpbiBhbiBhbm9ueW1vdXMgZnVuY3Rpb24uLi5cclxuXHJcbiAgICAgICAgcHJldmlld0ltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiBfdGhpczcuc2hvd0ltYWdlKHByZXZpZXdJbWFnZSwgZnJhbWUsIHF1YWxpdHlJbmRleCwgdGh1bWJOdW0sIHRodW1iRmlsZW5hbWUsIHRydWUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMubG9hZGluZ0ltYWdlID0gcHJldmlld0ltYWdlO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlT2xkSW1hZ2VzKHByZXZpZXdJbWFnZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBleGlzdGluZyBpbWFnZVxyXG4gICAgICAgIHRoaXMuc2hvd0ltYWdlKHRoaXMuY3VycmVudEltYWdlRWxlbWVudCwgZnJhbWUsIHF1YWxpdHlJbmRleCwgdGh1bWJOdW0sIHRodW1iRmlsZW5hbWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZUVsZW1lbnQuZGF0YXNldC5pbmRleCA9IHRodW1iTnVtO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlT2xkSW1hZ2VzKHRoaXMuY3VycmVudEltYWdlRWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwic2hvd0ltYWdlXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0ltYWdlKHByZXZpZXdJbWFnZSwgZnJhbWUsIHF1YWxpdHlJbmRleCwgdGh1bWJOdW0sIHRodW1iRmlsZW5hbWUpIHtcclxuICAgICAgdmFyIG5ld0ltYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiB0cnVlO1xyXG4gICAgICB0aGlzLnBsYXllci5kZWJ1Zy5sb2coXCJTaG93aW5nIHRodW1iOiBcIi5jb25jYXQodGh1bWJGaWxlbmFtZSwgXCIuIG51bTogXCIpLmNvbmNhdCh0aHVtYk51bSwgXCIuIHF1YWw6IFwiKS5jb25jYXQocXVhbGl0eUluZGV4LCBcIi4gbmV3aW1nOiBcIikuY29uY2F0KG5ld0ltYWdlKSk7XHJcbiAgICAgIHRoaXMuc2V0SW1hZ2VTaXplQW5kT2Zmc2V0KHByZXZpZXdJbWFnZSwgZnJhbWUpO1xyXG5cclxuICAgICAgaWYgKG5ld0ltYWdlKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQocHJldmlld0ltYWdlKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZUVsZW1lbnQgPSBwcmV2aWV3SW1hZ2U7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5sb2FkZWRJbWFnZXMuaW5jbHVkZXModGh1bWJGaWxlbmFtZSkpIHtcclxuICAgICAgICAgIHRoaXMubG9hZGVkSW1hZ2VzLnB1c2godGh1bWJGaWxlbmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IC8vIFByZWxvYWQgaW1hZ2VzIGJlZm9yZSBhbmQgYWZ0ZXIgdGhlIGN1cnJlbnQgb25lXHJcbiAgICAgIC8vIFNob3cgaGlnaGVyIHF1YWxpdHkgb2YgdGhlIHNhbWUgZnJhbWVcclxuICAgICAgLy8gRWFjaCBzdGVwIGhlcmUgaGFzIGEgc2hvcnQgdGltZSBkZWxheSwgYW5kIG9ubHkgY29udGludWVzIGlmIHN0aWxsIGhvdmVyaW5nL3NlZWtpbmcgdGhlIHNhbWUgc3BvdC4gVGhpcyBpcyB0byBwcm90ZWN0IHNsb3cgY29ubmVjdGlvbnMgZnJvbSBvdmVybG9hZGluZ1xyXG5cclxuXHJcbiAgICAgIHRoaXMucHJlbG9hZE5lYXJieSh0aHVtYk51bSwgdHJ1ZSkudGhlbih0aGlzLnByZWxvYWROZWFyYnkodGh1bWJOdW0sIGZhbHNlKSkudGhlbih0aGlzLmdldEhpZ2hlclF1YWxpdHkocXVhbGl0eUluZGV4LCBwcmV2aWV3SW1hZ2UsIGZyYW1lLCB0aHVtYkZpbGVuYW1lKSk7XHJcbiAgICB9IC8vIFJlbW92ZSBhbGwgcHJldmlldyBpbWFnZXMgdGhhdCBhcmVuJ3QgdGhlIGRlc2lnbmF0ZWQgY3VycmVudCBpbWFnZVxyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwicmVtb3ZlT2xkSW1hZ2VzXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlT2xkSW1hZ2VzKGN1cnJlbnRJbWFnZSkge1xyXG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcclxuXHJcbiAgICAgIC8vIEdldCBhIGxpc3Qgb2YgYWxsIGltYWdlcywgY29udmVydCBpdCBmcm9tIGEgRE9NIGxpc3QgdG8gYW4gYXJyYXlcclxuICAgICAgQXJyYXkuZnJvbSh0aGlzLmN1cnJlbnRJbWFnZUNvbnRhaW5lci5jaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbiAoaW1hZ2UpIHtcclxuICAgICAgICBpZiAoaW1hZ2UudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnaW1nJykge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHJlbW92ZURlbGF5ID0gX3RoaXM4LnVzaW5nU3ByaXRlcyA/IDUwMCA6IDEwMDA7XHJcblxyXG4gICAgICAgIGlmIChpbWFnZS5kYXRhc2V0LmluZGV4ICE9PSBjdXJyZW50SW1hZ2UuZGF0YXNldC5pbmRleCAmJiAhaW1hZ2UuZGF0YXNldC5kZWxldGluZykge1xyXG4gICAgICAgICAgLy8gV2FpdCAyMDBtcywgYXMgdGhlIG5ldyBpbWFnZSBjYW4gdGFrZSBzb21lIHRpbWUgdG8gc2hvdyBvbiBjZXJ0YWluIGJyb3dzZXJzIChldmVuIHRob3VnaCBpdCB3YXMgZG93bmxvYWRlZCBiZWZvcmUgc2hvd2luZykuIFRoaXMgd2lsbCBwcmV2ZW50IGZsaWNrZXIsIGFuZCBzaG93IHNvbWUgZ2VuZXJvc2l0eSB0b3dhcmRzIHNsb3dlciBjbGllbnRzXHJcbiAgICAgICAgICAvLyBGaXJzdCBzZXQgYXR0cmlidXRlICdkZWxldGluZycgdG8gcHJldmVudCBtdWx0aS1oYW5kbGluZyBvZiB0aGlzIG9uIHJlcGVhdCBmaXJpbmcgb2YgdGhpcyBmdW5jdGlvblxyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXHJcbiAgICAgICAgICBpbWFnZS5kYXRhc2V0LmRlbGV0aW5nID0gdHJ1ZTsgLy8gVGhpcyBoYXMgdG8gYmUgc2V0IGJlZm9yZSB0aGUgdGltZW91dCAtIHRvIHByZXZlbnQgaXNzdWVzIHN3aXRjaGluZyBiZXR3ZWVuIGhvdmVyIGFuZCBzY3J1YlxyXG5cclxuICAgICAgICAgIHZhciBjdXJyZW50SW1hZ2VDb250YWluZXIgPSBfdGhpczguY3VycmVudEltYWdlQ29udGFpbmVyO1xyXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbWFnZUNvbnRhaW5lci5yZW1vdmVDaGlsZChpbWFnZSk7XHJcblxyXG4gICAgICAgICAgICBfdGhpczgucGxheWVyLmRlYnVnLmxvZyhcIlJlbW92aW5nIHRodW1iOiBcIi5jb25jYXQoaW1hZ2UuZGF0YXNldC5maWxlbmFtZSkpO1xyXG4gICAgICAgICAgfSwgcmVtb3ZlRGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IC8vIFByZWxvYWQgaW1hZ2VzIGJlZm9yZSBhbmQgYWZ0ZXIgdGhlIGN1cnJlbnQgb25lLiBPbmx5IGlmIHRoZSB1c2VyIGlzIHN0aWxsIGhvdmVyaW5nL3NlZWtpbmcgdGhlIHNhbWUgZnJhbWVcclxuICAgIC8vIFRoaXMgd2lsbCBvbmx5IHByZWxvYWQgdGhlIGxvd2VzdCBxdWFsaXR5XHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJwcmVsb2FkTmVhcmJ5XCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJlbG9hZE5lYXJieSh0aHVtYk51bSkge1xyXG4gICAgICB2YXIgX3RoaXM5ID0gdGhpcztcclxuXHJcbiAgICAgIHZhciBmb3J3YXJkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBvbGRUaHVtYkZpbGVuYW1lID0gX3RoaXM5LnRodW1ibmFpbHNbMF0uZnJhbWVzW3RodW1iTnVtXS50ZXh0O1xyXG5cclxuICAgICAgICAgIGlmIChfdGhpczkuc2hvd2luZ1RodW1iRmlsZW5hbWUgPT09IG9sZFRodW1iRmlsZW5hbWUpIHtcclxuICAgICAgICAgICAgLy8gRmluZCB0aGUgbmVhcmVzdCB0aHVtYnMgd2l0aCBkaWZmZXJlbnQgZmlsZW5hbWVzLiBTb21ldGltZXMgaXQnbGwgYmUgdGhlIG5leHQgaW5kZXgsIGJ1dCBpbiB0aGUgY2FzZSBvZiBzcHJpdGVzLCBpdCBtaWdodCBiZSAxMDArIGF3YXlcclxuICAgICAgICAgICAgdmFyIHRodW1ibmFpbHNDbG9uZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmb3J3YXJkKSB7XHJcbiAgICAgICAgICAgICAgdGh1bWJuYWlsc0Nsb25lID0gX3RoaXM5LnRodW1ibmFpbHNbMF0uZnJhbWVzLnNsaWNlKHRodW1iTnVtKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aHVtYm5haWxzQ2xvbmUgPSBfdGhpczkudGh1bWJuYWlsc1swXS5mcmFtZXMuc2xpY2UoMCwgdGh1bWJOdW0pLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGZvdW5kT25lID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRodW1ibmFpbHNDbG9uZS5mb3JFYWNoKGZ1bmN0aW9uIChmcmFtZSkge1xyXG4gICAgICAgICAgICAgIHZhciBuZXdUaHVtYkZpbGVuYW1lID0gZnJhbWUudGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKG5ld1RodW1iRmlsZW5hbWUgIT09IG9sZFRodW1iRmlsZW5hbWUpIHtcclxuICAgICAgICAgICAgICAgIC8vIEZvdW5kIG9uZSB3aXRoIGEgZGlmZmVyZW50IGZpbGVuYW1lLiBNYWtlIHN1cmUgaXQgaGFzbid0IGFscmVhZHkgYmVlbiBsb2FkZWQgb24gdGhpcyBwYWdlIHZpc2l0XHJcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzOS5sb2FkZWRJbWFnZXMuaW5jbHVkZXMobmV3VGh1bWJGaWxlbmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgZm91bmRPbmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgX3RoaXM5LnBsYXllci5kZWJ1Zy5sb2coXCJQcmVsb2FkaW5nIHRodW1iIGZpbGVuYW1lOiBcIi5jb25jYXQobmV3VGh1bWJGaWxlbmFtZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgdmFyIHVybFByZWZpeCA9IF90aGlzOS50aHVtYm5haWxzWzBdLnVybFByZWZpeDtcclxuICAgICAgICAgICAgICAgICAgdmFyIHRodW1iVVJMID0gdXJsUHJlZml4ICsgbmV3VGh1bWJGaWxlbmFtZTtcclxuICAgICAgICAgICAgICAgICAgdmFyIHByZXZpZXdJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICBwcmV2aWV3SW1hZ2Uuc3JjID0gdGh1bWJVUkw7XHJcblxyXG4gICAgICAgICAgICAgICAgICBwcmV2aWV3SW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzOS5wbGF5ZXIuZGVidWcubG9nKFwiUHJlbG9hZGVkIHRodW1iIGZpbGVuYW1lOiBcIi5jb25jYXQobmV3VGh1bWJGaWxlbmFtZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzOS5sb2FkZWRJbWFnZXMuaW5jbHVkZXMobmV3VGh1bWJGaWxlbmFtZSkpIF90aGlzOS5sb2FkZWRJbWFnZXMucHVzaChuZXdUaHVtYkZpbGVuYW1lKTsgLy8gV2UgZG9uJ3QgcmVzb2x2ZSB1bnRpbCB0aGUgdGh1bWIgaXMgbG9hZGVkXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pOyAvLyBJZiB0aGVyZSBhcmUgbm9uZSB0byBwcmVsb2FkIHRoZW4gd2Ugd2FudCB0byByZXNvbHZlIGltbWVkaWF0ZWx5XHJcblxyXG4gICAgICAgICAgICBpZiAoIWZvdW5kT25lKSB7XHJcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMzAwKTtcclxuICAgICAgfSk7XHJcbiAgICB9IC8vIElmIHVzZXIgaGFzIGJlZW4gaG92ZXJpbmcgY3VycmVudCBpbWFnZSBmb3IgaGFsZiBhIHNlY29uZCwgbG9vayBmb3IgYSBoaWdoZXIgcXVhbGl0eSBvbmVcclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImdldEhpZ2hlclF1YWxpdHlcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIaWdoZXJRdWFsaXR5KGN1cnJlbnRRdWFsaXR5SW5kZXgsIHByZXZpZXdJbWFnZSwgZnJhbWUsIHRodW1iRmlsZW5hbWUpIHtcclxuICAgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKGN1cnJlbnRRdWFsaXR5SW5kZXggPCB0aGlzLnRodW1ibmFpbHMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgIC8vIE9ubHkgdXNlIHRoZSBoaWdoZXIgcXVhbGl0eSB2ZXJzaW9uIGlmIGl0J3MgZ29pbmcgdG8gbG9vayBhbnkgYmV0dGVyIC0gaWYgdGhlIGN1cnJlbnQgdGh1bWIgaXMgb2YgYSBsb3dlciBwaXhlbCBkZW5zaXR5IHRoYW4gdGhlIHRodW1ibmFpbCBjb250YWluZXJcclxuICAgICAgICB2YXIgcHJldmlld0ltYWdlSGVpZ2h0ID0gcHJldmlld0ltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVzaW5nU3ByaXRlcykge1xyXG4gICAgICAgICAgcHJldmlld0ltYWdlSGVpZ2h0ID0gZnJhbWUuaDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwcmV2aWV3SW1hZ2VIZWlnaHQgPCB0aGlzLnRodW1iQ29udGFpbmVySGVpZ2h0KSB7XHJcbiAgICAgICAgICAvLyBSZWN1cnNlIGJhY2sgdG8gdGhlIGxvYWRJbWFnZSBmdW5jdGlvbiAtIHNob3cgYSBoaWdoZXIgcXVhbGl0eSBvbmUsIGJ1dCBvbmx5IGlmIHRoZSB2aWV3ZXIgaXMgb24gdGhpcyBmcmFtZSBmb3IgYSB3aGlsZVxyXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgbW91c2UgaGFzbid0IGFscmVhZHkgbW92ZWQgb24gYW5kIHN0YXJ0ZWQgaG92ZXJpbmcgYXQgYW5vdGhlciBpbWFnZVxyXG4gICAgICAgICAgICBpZiAoX3RoaXMxMC5zaG93aW5nVGh1bWJGaWxlbmFtZSA9PT0gdGh1bWJGaWxlbmFtZSkge1xyXG4gICAgICAgICAgICAgIF90aGlzMTAucGxheWVyLmRlYnVnLmxvZyhcIlNob3dpbmcgaGlnaGVyIHF1YWxpdHkgdGh1bWIgZm9yOiBcIi5jb25jYXQodGh1bWJGaWxlbmFtZSkpO1xyXG5cclxuICAgICAgICAgICAgICBfdGhpczEwLmxvYWRJbWFnZShjdXJyZW50UXVhbGl0eUluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcInRvZ2dsZVRodW1iQ29udGFpbmVyXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlVGh1bWJDb250YWluZXIoKSB7XHJcbiAgICAgIHZhciB0b2dnbGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xyXG4gICAgICB2YXIgY2xlYXJTaG93aW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcclxuICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucGxheWVyLmNvbmZpZy5jbGFzc05hbWVzLnByZXZpZXdUaHVtYm5haWxzLnRodW1iQ29udGFpbmVyU2hvd247XHJcbiAgICAgIHRoaXMuZWxlbWVudHMudGh1bWIuY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoY2xhc3NOYW1lLCB0b2dnbGUpO1xyXG5cclxuICAgICAgaWYgKCF0b2dnbGUgJiYgY2xlYXJTaG93aW5nKSB7XHJcbiAgICAgICAgdGhpcy5zaG93aW5nVGh1bWIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2hvd2luZ1RodW1iRmlsZW5hbWUgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcInRvZ2dsZVNjcnViYmluZ0NvbnRhaW5lclwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZVNjcnViYmluZ0NvbnRhaW5lcigpIHtcclxuICAgICAgdmFyIHRvZ2dsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XHJcbiAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnBsYXllci5jb25maWcuY2xhc3NOYW1lcy5wcmV2aWV3VGh1bWJuYWlscy5zY3J1YmJpbmdDb250YWluZXJTaG93bjtcclxuICAgICAgdGhpcy5lbGVtZW50cy5zY3J1YmJpbmcuY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoY2xhc3NOYW1lLCB0b2dnbGUpO1xyXG5cclxuICAgICAgaWYgKCF0b2dnbGUpIHtcclxuICAgICAgICB0aGlzLnNob3dpbmdUaHVtYiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zaG93aW5nVGh1bWJGaWxlbmFtZSA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiZGV0ZXJtaW5lQ29udGFpbmVyQXV0b1NpemluZ1wiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGVybWluZUNvbnRhaW5lckF1dG9TaXppbmcoKSB7XHJcbiAgICAgIGlmICh0aGlzLmVsZW1lbnRzLnRodW1iLmltYWdlQ29udGFpbmVyLmNsaWVudEhlaWdodCA+IDIwKSB7XHJcbiAgICAgICAgLy8gVGhpcyB3aWxsIHByZXZlbnQgYXV0byBzaXppbmcgaW4gdGhpcy5zZXRUaHVtYkNvbnRhaW5lclNpemVBbmRQb3MoKVxyXG4gICAgICAgIHRoaXMuc2l6ZVNwZWNpZmllZEluQ1NTID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSAvLyBTZXQgdGhlIHNpemUgdG8gYmUgYWJvdXQgYSBxdWFydGVyIG9mIHRoZSBzaXplIG9mIHZpZGVvLiBVbmxlc3Mgb3B0aW9uIGR5bmFtaWNTaXplID09PSBmYWxzZSwgaW4gd2hpY2ggY2FzZSBpdCBuZWVkcyB0byBiZSBzZXQgaW4gQ1NTXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJzZXRUaHVtYkNvbnRhaW5lclNpemVBbmRQb3NcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUaHVtYkNvbnRhaW5lclNpemVBbmRQb3MoKSB7XHJcbiAgICAgIGlmICghdGhpcy5zaXplU3BlY2lmaWVkSW5DU1MpIHtcclxuICAgICAgICB2YXIgdGh1bWJXaWR0aCA9IE1hdGguZmxvb3IodGhpcy50aHVtYkNvbnRhaW5lckhlaWdodCAqIHRoaXMudGh1bWJBc3BlY3RSYXRpbyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy50aHVtYi5pbWFnZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIlwiLmNvbmNhdCh0aGlzLnRodW1iQ29udGFpbmVySGVpZ2h0LCBcInB4XCIpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHMudGh1bWIuaW1hZ2VDb250YWluZXIuc3R5bGUud2lkdGggPSBcIlwiLmNvbmNhdCh0aHVtYldpZHRoLCBcInB4XCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnNldFRodW1iQ29udGFpbmVyUG9zKCk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcInNldFRodW1iQ29udGFpbmVyUG9zXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VGh1bWJDb250YWluZXJQb3MoKSB7XHJcbiAgICAgIHZhciBzZWVrYmFyUmVjdCA9IHRoaXMucGxheWVyLmVsZW1lbnRzLnByb2dyZXNzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICB2YXIgcGx5clJlY3QgPSB0aGlzLnBsYXllci5lbGVtZW50cy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmVsZW1lbnRzLnRodW1iLmNvbnRhaW5lcjsgLy8gRmluZCB0aGUgbG93ZXN0IGFuZCBoaWdoZXN0IGRlc2lyZWQgbGVmdC1wb3NpdGlvbiwgc28gd2UgZG9uJ3Qgc2xpZGUgb3V0IHRoZSBzaWRlIG9mIHRoZSB2aWRlbyBjb250YWluZXJcclxuXHJcbiAgICAgIHZhciBtaW5WYWwgPSBwbHlyUmVjdC5sZWZ0IC0gc2Vla2JhclJlY3QubGVmdCArIDEwO1xyXG4gICAgICB2YXIgbWF4VmFsID0gcGx5clJlY3QucmlnaHQgLSBzZWVrYmFyUmVjdC5sZWZ0IC0gY29udGFpbmVyLmNsaWVudFdpZHRoIC0gMTA7IC8vIFNldCBwcmV2aWV3IGNvbnRhaW5lciBwb3NpdGlvbiB0bzogbW91c2Vwb3MsIG1pbnVzIHNlZWtiYXIubGVmdCwgbWludXMgaGFsZiBvZiBwcmV2aWV3Q29udGFpbmVyLmNsaWVudFdpZHRoXHJcblxyXG4gICAgICB2YXIgcHJldmlld1BvcyA9IHRoaXMubW91c2VQb3NYIC0gc2Vla2JhclJlY3QubGVmdCAtIGNvbnRhaW5lci5jbGllbnRXaWR0aCAvIDI7XHJcblxyXG4gICAgICBpZiAocHJldmlld1BvcyA8IG1pblZhbCkge1xyXG4gICAgICAgIHByZXZpZXdQb3MgPSBtaW5WYWw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwcmV2aWV3UG9zID4gbWF4VmFsKSB7XHJcbiAgICAgICAgcHJldmlld1BvcyA9IG1heFZhbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSBcIlwiLmNvbmNhdChwcmV2aWV3UG9zLCBcInB4XCIpO1xyXG4gICAgfSAvLyBDYW4ndCB1c2UgMTAwJSB3aWR0aCwgaW4gY2FzZSB0aGUgdmlkZW8gaXMgYSBkaWZmZXJlbnQgYXNwZWN0IHJhdGlvIHRvIHRoZSB2aWRlbyBjb250YWluZXJcclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInNldFNjcnViYmluZ0NvbnRhaW5lclNpemVcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTY3J1YmJpbmdDb250YWluZXJTaXplKCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnRzLnNjcnViYmluZy5jb250YWluZXIuc3R5bGUud2lkdGggPSBcIlwiLmNvbmNhdCh0aGlzLnBsYXllci5tZWRpYS5jbGllbnRXaWR0aCwgXCJweFwiKTsgLy8gQ2FuJ3QgdXNlIG1lZGlhLmNsaWVudEhlaWdodCAtIGh0bWw1IHZpZGVvIGdvZXMgYmlnIGFuZCBkb2VzIGJsYWNrIGJhcnMgYWJvdmUgYW5kIGJlbG93XHJcblxyXG4gICAgICB0aGlzLmVsZW1lbnRzLnNjcnViYmluZy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQodGhpcy5wbGF5ZXIubWVkaWEuY2xpZW50V2lkdGggLyB0aGlzLnRodW1iQXNwZWN0UmF0aW8sIFwicHhcIik7XHJcbiAgICB9IC8vIFNwcml0ZXMgbmVlZCB0byBiZSBvZmZzZXQgdG8gdGhlIGNvcnJlY3QgbG9jYXRpb25cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInNldEltYWdlU2l6ZUFuZE9mZnNldFwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEltYWdlU2l6ZUFuZE9mZnNldChwcmV2aWV3SW1hZ2UsIGZyYW1lKSB7XHJcbiAgICAgIGlmICghdGhpcy51c2luZ1Nwcml0ZXMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gLy8gRmluZCBkaWZmZXJlbmNlIGJldHdlZW4gaGVpZ2h0IGFuZCBwcmV2aWV3IGNvbnRhaW5lciBoZWlnaHRcclxuXHJcblxyXG4gICAgICB2YXIgbXVsdGlwbGllciA9IHRoaXMudGh1bWJDb250YWluZXJIZWlnaHQgLyBmcmFtZS5oOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cclxuXHJcbiAgICAgIHByZXZpZXdJbWFnZS5zdHlsZS5oZWlnaHQgPSBcIlwiLmNvbmNhdChNYXRoLmZsb29yKHByZXZpZXdJbWFnZS5uYXR1cmFsSGVpZ2h0ICogbXVsdGlwbGllciksIFwicHhcIik7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG5cclxuICAgICAgcHJldmlld0ltYWdlLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQoTWF0aC5mbG9vcihwcmV2aWV3SW1hZ2UubmF0dXJhbFdpZHRoICogbXVsdGlwbGllciksIFwicHhcIik7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG5cclxuICAgICAgcHJldmlld0ltYWdlLnN0eWxlLmxlZnQgPSBcIi1cIi5jb25jYXQoZnJhbWUueCAqIG11bHRpcGxpZXIsIFwicHhcIik7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG5cclxuICAgICAgcHJldmlld0ltYWdlLnN0eWxlLnRvcCA9IFwiLVwiLmNvbmNhdChmcmFtZS55ICogbXVsdGlwbGllciwgXCJweFwiKTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiZW5hYmxlZFwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBsYXllci5pc0hUTUw1ICYmIHRoaXMucGxheWVyLmlzVmlkZW8gJiYgdGhpcy5wbGF5ZXIuY29uZmlnLnByZXZpZXdUaHVtYm5haWxzLmVuYWJsZWQ7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcImN1cnJlbnRJbWFnZUNvbnRhaW5lclwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzLnNjcnViYmluZy5jb250YWluZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzLnRodW1iLmltYWdlQ29udGFpbmVyO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJ1c2luZ1Nwcml0ZXNcIixcclxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy50aHVtYm5haWxzWzBdLmZyYW1lc1swXSkuaW5jbHVkZXMoJ3cnKTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwidGh1bWJBc3BlY3RSYXRpb1wiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIGlmICh0aGlzLnVzaW5nU3ByaXRlcykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRodW1ibmFpbHNbMF0uZnJhbWVzWzBdLncgLyB0aGlzLnRodW1ibmFpbHNbMF0uZnJhbWVzWzBdLmg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzLnRodW1ibmFpbHNbMF0ud2lkdGggLyB0aGlzLnRodW1ibmFpbHNbMF0uaGVpZ2h0O1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJ0aHVtYkNvbnRhaW5lckhlaWdodFwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgIC8vIENhbid0IHVzZSBtZWRpYS5jbGllbnRIZWlnaHQgLSBIVE1MNSB2aWRlbyBnb2VzIGJpZyBhbmQgZG9lcyBibGFjayBiYXJzIGFib3ZlIGFuZCBiZWxvd1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMucGxheWVyLm1lZGlhLmNsaWVudFdpZHRoIC8gdGhpcy50aHVtYkFzcGVjdFJhdGlvKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5wbGF5ZXIubWVkaWEuY2xpZW50V2lkdGggLyB0aGlzLnRodW1iQXNwZWN0UmF0aW8gLyA0KTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiY3VycmVudEltYWdlRWxlbWVudFwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTY3J1YmJpbmdJbWFnZUVsZW1lbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRUaHVtYm5haWxJbWFnZUVsZW1lbnQ7XHJcbiAgICB9LFxyXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoZWxlbWVudCkge1xyXG4gICAgICBpZiAodGhpcy5tb3VzZURvd24pIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTY3J1YmJpbmdJbWFnZUVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRodW1ibmFpbEltYWdlRWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XSk7XHJcblxyXG4gIHJldHVybiBQcmV2aWV3VGh1bWJuYWlscztcclxufSgpO1xyXG5cclxudmFyIHNvdXJjZSA9IHtcclxuICAvLyBBZGQgZWxlbWVudHMgdG8gSFRNTDUgbWVkaWEgKHNvdXJjZSwgdHJhY2tzLCBldGMpXHJcbiAgaW5zZXJ0RWxlbWVudHM6IGZ1bmN0aW9uIGluc2VydEVsZW1lbnRzKHR5cGUsIGF0dHJpYnV0ZXMpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKGlzJDEuc3RyaW5nKGF0dHJpYnV0ZXMpKSB7XHJcbiAgICAgIGluc2VydEVsZW1lbnQodHlwZSwgdGhpcy5tZWRpYSwge1xyXG4gICAgICAgIHNyYzogYXR0cmlidXRlc1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoaXMkMS5hcnJheShhdHRyaWJ1dGVzKSkge1xyXG4gICAgICBhdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xyXG4gICAgICAgIGluc2VydEVsZW1lbnQodHlwZSwgX3RoaXMubWVkaWEsIGF0dHJpYnV0ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8gVXBkYXRlIHNvdXJjZVxyXG4gIC8vIFNvdXJjZXMgYXJlIG5vdCBjaGVja2VkIGZvciBzdXBwb3J0IHNvIGJlIGNhcmVmdWxcclxuICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShpbnB1dCkge1xyXG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XHJcblxyXG4gICAgaWYgKCFnZXREZWVwKGlucHV0LCAnc291cmNlcy5sZW5ndGgnKSkge1xyXG4gICAgICB0aGlzLmRlYnVnLndhcm4oJ0ludmFsaWQgc291cmNlIGZvcm1hdCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9IC8vIENhbmNlbCBjdXJyZW50IG5ldHdvcmsgcmVxdWVzdHNcclxuXHJcblxyXG4gICAgaHRtbDUuY2FuY2VsUmVxdWVzdHMuY2FsbCh0aGlzKTsgLy8gRGVzdHJveSBpbnN0YW5jZSBhbmQgcmUtc2V0dXBcclxuXHJcbiAgICB0aGlzLmRlc3Ryb3kuY2FsbCh0aGlzLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIFJlc2V0IHF1YWxpdHkgb3B0aW9uc1xyXG4gICAgICBfdGhpczIub3B0aW9ucy5xdWFsaXR5ID0gW107IC8vIFJlbW92ZSBlbGVtZW50c1xyXG5cclxuICAgICAgcmVtb3ZlRWxlbWVudChfdGhpczIubWVkaWEpO1xyXG4gICAgICBfdGhpczIubWVkaWEgPSBudWxsOyAvLyBSZXNldCBjbGFzcyBuYW1lXHJcblxyXG4gICAgICBpZiAoaXMkMS5lbGVtZW50KF90aGlzMi5lbGVtZW50cy5jb250YWluZXIpKSB7XHJcbiAgICAgICAgX3RoaXMyLmVsZW1lbnRzLmNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XHJcbiAgICAgIH0gLy8gU2V0IHRoZSB0eXBlIGFuZCBwcm92aWRlclxyXG5cclxuXHJcbiAgICAgIHZhciBzb3VyY2VzID0gaW5wdXQuc291cmNlcyxcclxuICAgICAgICAgIHR5cGUgPSBpbnB1dC50eXBlO1xyXG5cclxuICAgICAgdmFyIF9zb3VyY2VzID0gX3NsaWNlZFRvQXJyYXkoc291cmNlcywgMSksXHJcbiAgICAgICAgICBfc291cmNlcyQgPSBfc291cmNlc1swXSxcclxuICAgICAgICAgIF9zb3VyY2VzJCRwcm92aWRlciA9IF9zb3VyY2VzJC5wcm92aWRlcixcclxuICAgICAgICAgIHByb3ZpZGVyID0gX3NvdXJjZXMkJHByb3ZpZGVyID09PSB2b2lkIDAgPyBwcm92aWRlcnMuaHRtbDUgOiBfc291cmNlcyQkcHJvdmlkZXIsXHJcbiAgICAgICAgICBzcmMgPSBfc291cmNlcyQuc3JjO1xyXG5cclxuICAgICAgdmFyIHRhZ05hbWUgPSBwcm92aWRlciA9PT0gJ2h0bWw1JyA/IHR5cGUgOiAnZGl2JztcclxuICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBwcm92aWRlciA9PT0gJ2h0bWw1JyA/IHt9IDoge1xyXG4gICAgICAgIHNyYzogc3JjXHJcbiAgICAgIH07XHJcbiAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMyLCB7XHJcbiAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLFxyXG4gICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHN1cHBvcnRcclxuICAgICAgICBzdXBwb3J0ZWQ6IHN1cHBvcnQuY2hlY2sodHlwZSwgcHJvdmlkZXIsIF90aGlzMi5jb25maWcucGxheXNpbmxpbmUpLFxyXG4gICAgICAgIC8vIENyZWF0ZSBuZXcgZWxlbWVudFxyXG4gICAgICAgIG1lZGlhOiBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIGF0dHJpYnV0ZXMpXHJcbiAgICAgIH0pOyAvLyBJbmplY3QgdGhlIG5ldyBlbGVtZW50XHJcblxyXG4gICAgICBfdGhpczIuZWxlbWVudHMuY29udGFpbmVyLmFwcGVuZENoaWxkKF90aGlzMi5tZWRpYSk7IC8vIEF1dG9wbGF5IHRoZSBuZXcgc291cmNlP1xyXG5cclxuXHJcbiAgICAgIGlmIChpcyQxLmJvb2xlYW4oaW5wdXQuYXV0b3BsYXkpKSB7XHJcbiAgICAgICAgX3RoaXMyLmNvbmZpZy5hdXRvcGxheSA9IGlucHV0LmF1dG9wbGF5O1xyXG4gICAgICB9IC8vIFNldCBhdHRyaWJ1dGVzIGZvciBhdWRpbyBhbmQgdmlkZW9cclxuXHJcblxyXG4gICAgICBpZiAoX3RoaXMyLmlzSFRNTDUpIHtcclxuICAgICAgICBpZiAoX3RoaXMyLmNvbmZpZy5jcm9zc29yaWdpbikge1xyXG4gICAgICAgICAgX3RoaXMyLm1lZGlhLnNldEF0dHJpYnV0ZSgnY3Jvc3NvcmlnaW4nLCAnJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoX3RoaXMyLmNvbmZpZy5hdXRvcGxheSkge1xyXG4gICAgICAgICAgX3RoaXMyLm1lZGlhLnNldEF0dHJpYnV0ZSgnYXV0b3BsYXknLCAnJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWlzJDEuZW1wdHkoaW5wdXQucG9zdGVyKSkge1xyXG4gICAgICAgICAgX3RoaXMyLnBvc3RlciA9IGlucHV0LnBvc3RlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChfdGhpczIuY29uZmlnLmxvb3AuYWN0aXZlKSB7XHJcbiAgICAgICAgICBfdGhpczIubWVkaWEuc2V0QXR0cmlidXRlKCdsb29wJywgJycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKF90aGlzMi5jb25maWcubXV0ZWQpIHtcclxuICAgICAgICAgIF90aGlzMi5tZWRpYS5zZXRBdHRyaWJ1dGUoJ211dGVkJywgJycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKF90aGlzMi5jb25maWcucGxheXNpbmxpbmUpIHtcclxuICAgICAgICAgIF90aGlzMi5tZWRpYS5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSAvLyBSZXN0b3JlIGNsYXNzIGhvb2tcclxuXHJcblxyXG4gICAgICB1aS5hZGRTdHlsZUhvb2suY2FsbChfdGhpczIpOyAvLyBTZXQgbmV3IHNvdXJjZXMgZm9yIGh0bWw1XHJcblxyXG4gICAgICBpZiAoX3RoaXMyLmlzSFRNTDUpIHtcclxuICAgICAgICBzb3VyY2UuaW5zZXJ0RWxlbWVudHMuY2FsbChfdGhpczIsICdzb3VyY2UnLCBzb3VyY2VzKTtcclxuICAgICAgfSAvLyBTZXQgdmlkZW8gdGl0bGVcclxuXHJcblxyXG4gICAgICBfdGhpczIuY29uZmlnLnRpdGxlID0gaW5wdXQudGl0bGU7IC8vIFNldCB1cCBmcm9tIHNjcmF0Y2hcclxuXHJcbiAgICAgIG1lZGlhLnNldHVwLmNhbGwoX3RoaXMyKTsgLy8gSFRNTDUgc3R1ZmZcclxuXHJcbiAgICAgIGlmIChfdGhpczIuaXNIVE1MNSkge1xyXG4gICAgICAgIC8vIFNldHVwIGNhcHRpb25zXHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGlucHV0KS5pbmNsdWRlcygndHJhY2tzJykpIHtcclxuICAgICAgICAgIHNvdXJjZS5pbnNlcnRFbGVtZW50cy5jYWxsKF90aGlzMiwgJ3RyYWNrJywgaW5wdXQudHJhY2tzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gLy8gSWYgSFRNTDUgb3IgZW1iZWQgYnV0IG5vdCBmdWxseSBzdXBwb3J0ZWQsIHNldHVwSW50ZXJmYWNlIGFuZCBjYWxsIHJlYWR5IG5vd1xyXG5cclxuXHJcbiAgICAgIGlmIChfdGhpczIuaXNIVE1MNSB8fCBfdGhpczIuaXNFbWJlZCAmJiAhX3RoaXMyLnN1cHBvcnRlZC51aSkge1xyXG4gICAgICAgIC8vIFNldHVwIGludGVyZmFjZVxyXG4gICAgICAgIHVpLmJ1aWxkLmNhbGwoX3RoaXMyKTtcclxuICAgICAgfSAvLyBMb2FkIEhUTUw1IHNvdXJjZXNcclxuXHJcblxyXG4gICAgICBpZiAoX3RoaXMyLmlzSFRNTDUpIHtcclxuICAgICAgICBfdGhpczIubWVkaWEubG9hZCgpO1xyXG4gICAgICB9IC8vIFJlbG9hZCB0aHVtYm5haWxzXHJcblxyXG5cclxuICAgICAgaWYgKF90aGlzMi5wcmV2aWV3VGh1bWJuYWlscykge1xyXG4gICAgICAgIF90aGlzMi5wcmV2aWV3VGh1bWJuYWlscy5sb2FkKCk7XHJcbiAgICAgIH0gLy8gVXBkYXRlIHRoZSBmdWxsc2NyZWVuIHN1cHBvcnRcclxuXHJcblxyXG4gICAgICBfdGhpczIuZnVsbHNjcmVlbi51cGRhdGUoKTtcclxuICAgIH0sIHRydWUpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgbnVtYmVyIHdob3NlIHZhbHVlIGlzIGxpbWl0ZWQgdG8gdGhlIGdpdmVuIHJhbmdlLlxyXG4gKlxyXG4gKiBFeGFtcGxlOiBsaW1pdCB0aGUgb3V0cHV0IG9mIHRoaXMgY29tcHV0YXRpb24gdG8gYmV0d2VlbiAwIGFuZCAyNTVcclxuICogKHggKiAyNTUpLmNsYW1wKDAsIDI1NSlcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IGlucHV0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtaW4gVGhlIGxvd2VyIGJvdW5kYXJ5IG9mIHRoZSBvdXRwdXQgcmFuZ2VcclxuICogQHBhcmFtIHtOdW1iZXJ9IG1heCBUaGUgdXBwZXIgYm91bmRhcnkgb2YgdGhlIG91dHB1dCByYW5nZVxyXG4gKiBAcmV0dXJucyBBIG51bWJlciBpbiB0aGUgcmFuZ2UgW21pbiwgbWF4XVxyXG4gKiBAdHlwZSBOdW1iZXJcclxuICovXHJcbmZ1bmN0aW9uIGNsYW1wKCkge1xyXG4gIHZhciBpbnB1dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcclxuICB2YXIgbWluID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xyXG4gIHZhciBtYXggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDI1NTtcclxuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoaW5wdXQsIG1pbiksIG1heCk7XHJcbn1cclxuXHJcbi8vIFRPRE86IFVzZSBhIFdlYWtNYXAgZm9yIHByaXZhdGUgZ2xvYmFsc1xyXG4vLyBjb25zdCBnbG9iYWxzID0gbmV3IFdlYWtNYXAoKTtcclxuLy8gUGx5ciBpbnN0YW5jZVxyXG5cclxudmFyIFBseXIgPVxyXG4vKiNfX1BVUkVfXyovXHJcbmZ1bmN0aW9uICgpIHtcclxuICBmdW5jdGlvbiBQbHlyKHRhcmdldCwgb3B0aW9ucykge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGx5cik7XHJcblxyXG4gICAgdGhpcy50aW1lcnMgPSB7fTsgLy8gU3RhdGVcclxuXHJcbiAgICB0aGlzLnJlYWR5ID0gZmFsc2U7XHJcbiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuZmFpbGVkID0gZmFsc2U7IC8vIFRvdWNoIGRldmljZVxyXG5cclxuICAgIHRoaXMudG91Y2ggPSBzdXBwb3J0LnRvdWNoOyAvLyBTZXQgdGhlIG1lZGlhIGVsZW1lbnRcclxuXHJcbiAgICB0aGlzLm1lZGlhID0gdGFyZ2V0OyAvLyBTdHJpbmcgc2VsZWN0b3IgcGFzc2VkXHJcblxyXG4gICAgaWYgKGlzJDEuc3RyaW5nKHRoaXMubWVkaWEpKSB7XHJcbiAgICAgIHRoaXMubWVkaWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMubWVkaWEpO1xyXG4gICAgfSAvLyBqUXVlcnksIE5vZGVMaXN0IG9yIEFycmF5IHBhc3NlZCwgdXNlIGZpcnN0IGVsZW1lbnRcclxuXHJcblxyXG4gICAgaWYgKHdpbmRvdy5qUXVlcnkgJiYgdGhpcy5tZWRpYSBpbnN0YW5jZW9mIGpRdWVyeSB8fCBpcyQxLm5vZGVMaXN0KHRoaXMubWVkaWEpIHx8IGlzJDEuYXJyYXkodGhpcy5tZWRpYSkpIHtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgIHRoaXMubWVkaWEgPSB0aGlzLm1lZGlhWzBdO1xyXG4gICAgfSAvLyBTZXQgY29uZmlnXHJcblxyXG5cclxuICAgIHRoaXMuY29uZmlnID0gZXh0ZW5kKHt9LCBkZWZhdWx0cyQxLCBQbHlyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoX3RoaXMubWVkaWEuZ2V0QXR0cmlidXRlKCdkYXRhLXBseXItY29uZmlnJykpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICB9XHJcbiAgICB9KCkpOyAvLyBFbGVtZW50cyBjYWNoZVxyXG5cclxuICAgIHRoaXMuZWxlbWVudHMgPSB7XHJcbiAgICAgIGNvbnRhaW5lcjogbnVsbCxcclxuICAgICAgY2FwdGlvbnM6IG51bGwsXHJcbiAgICAgIGJ1dHRvbnM6IHt9LFxyXG4gICAgICBkaXNwbGF5OiB7fSxcclxuICAgICAgcHJvZ3Jlc3M6IHt9LFxyXG4gICAgICBpbnB1dHM6IHt9LFxyXG4gICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgIHBvcHVwOiBudWxsLFxyXG4gICAgICAgIG1lbnU6IG51bGwsXHJcbiAgICAgICAgcGFuZWxzOiB7fSxcclxuICAgICAgICBidXR0b25zOiB7fVxyXG4gICAgICB9XHJcbiAgICB9OyAvLyBDYXB0aW9uc1xyXG5cclxuICAgIHRoaXMuY2FwdGlvbnMgPSB7XHJcbiAgICAgIGFjdGl2ZTogbnVsbCxcclxuICAgICAgY3VycmVudFRyYWNrOiAtMSxcclxuICAgICAgbWV0YTogbmV3IFdlYWtNYXAoKVxyXG4gICAgfTsgLy8gRnVsbHNjcmVlblxyXG5cclxuICAgIHRoaXMuZnVsbHNjcmVlbiA9IHtcclxuICAgICAgYWN0aXZlOiBmYWxzZVxyXG4gICAgfTsgLy8gT3B0aW9uc1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgc3BlZWQ6IFtdLFxyXG4gICAgICBxdWFsaXR5OiBbXVxyXG4gICAgfTsgLy8gRGVidWdnaW5nXHJcbiAgICAvLyBUT0RPOiBtb3ZlIHRvIGdsb2JhbHNcclxuXHJcbiAgICB0aGlzLmRlYnVnID0gbmV3IENvbnNvbGUodGhpcy5jb25maWcuZGVidWcpOyAvLyBMb2cgY29uZmlnIG9wdGlvbnMgYW5kIHN1cHBvcnRcclxuXHJcbiAgICB0aGlzLmRlYnVnLmxvZygnQ29uZmlnJywgdGhpcy5jb25maWcpO1xyXG4gICAgdGhpcy5kZWJ1Zy5sb2coJ1N1cHBvcnQnLCBzdXBwb3J0KTsgLy8gV2UgbmVlZCBhbiBlbGVtZW50IHRvIHNldHVwXHJcblxyXG4gICAgaWYgKGlzJDEubnVsbE9yVW5kZWZpbmVkKHRoaXMubWVkaWEpIHx8ICFpcyQxLmVsZW1lbnQodGhpcy5tZWRpYSkpIHtcclxuICAgICAgdGhpcy5kZWJ1Zy5lcnJvcignU2V0dXAgZmFpbGVkOiBubyBzdWl0YWJsZSBlbGVtZW50IHBhc3NlZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9IC8vIEJhaWwgaWYgdGhlIGVsZW1lbnQgaXMgaW5pdGlhbGl6ZWRcclxuXHJcblxyXG4gICAgaWYgKHRoaXMubWVkaWEucGx5cikge1xyXG4gICAgICB0aGlzLmRlYnVnLndhcm4oJ1RhcmdldCBhbHJlYWR5IHNldHVwJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gQmFpbCBpZiBub3QgZW5hYmxlZFxyXG5cclxuXHJcbiAgICBpZiAoIXRoaXMuY29uZmlnLmVuYWJsZWQpIHtcclxuICAgICAgdGhpcy5kZWJ1Zy5lcnJvcignU2V0dXAgZmFpbGVkOiBkaXNhYmxlZCBieSBjb25maWcnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSAvLyBCYWlsIGlmIGRpc2FibGVkIG9yIG5vIGJhc2ljIHN1cHBvcnRcclxuICAgIC8vIFlvdSBtYXkgd2FudCB0byBkaXNhYmxlIGNlcnRhaW4gVUFzIGV0Y1xyXG5cclxuXHJcbiAgICBpZiAoIXN1cHBvcnQuY2hlY2soKS5hcGkpIHtcclxuICAgICAgdGhpcy5kZWJ1Zy5lcnJvcignU2V0dXAgZmFpbGVkOiBubyBzdXBwb3J0Jyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gLy8gQ2FjaGUgb3JpZ2luYWwgZWxlbWVudCBzdGF0ZSBmb3IgLmRlc3Ryb3koKVxyXG5cclxuXHJcbiAgICB2YXIgY2xvbmUgPSB0aGlzLm1lZGlhLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIGNsb25lLmF1dG9wbGF5ID0gZmFsc2U7XHJcbiAgICB0aGlzLmVsZW1lbnRzLm9yaWdpbmFsID0gY2xvbmU7IC8vIFNldCBtZWRpYSB0eXBlIGJhc2VkIG9uIHRhZyBvciBkYXRhIGF0dHJpYnV0ZVxyXG4gICAgLy8gU3VwcG9ydGVkOiB2aWRlbywgYXVkaW8sIHZpbWVvLCB5b3V0dWJlXHJcblxyXG4gICAgdmFyIHR5cGUgPSB0aGlzLm1lZGlhLnRhZ05hbWUudG9Mb3dlckNhc2UoKTsgLy8gRW1iZWQgcHJvcGVydGllc1xyXG5cclxuICAgIHZhciBpZnJhbWUgPSBudWxsO1xyXG4gICAgdmFyIHVybCA9IG51bGw7IC8vIERpZmZlcmVudCBzZXR1cCBiYXNlZCBvbiB0eXBlXHJcblxyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgJ2Rpdic6XHJcbiAgICAgICAgLy8gRmluZCB0aGUgZnJhbWVcclxuICAgICAgICBpZnJhbWUgPSB0aGlzLm1lZGlhLnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpOyAvLyA8aWZyYW1lPiB0eXBlXHJcblxyXG4gICAgICAgIGlmIChpcyQxLmVsZW1lbnQoaWZyYW1lKSkge1xyXG4gICAgICAgICAgLy8gRGV0ZWN0IHByb3ZpZGVyXHJcbiAgICAgICAgICB1cmwgPSBwYXJzZVVybChpZnJhbWUuZ2V0QXR0cmlidXRlKCdzcmMnKSk7XHJcbiAgICAgICAgICB0aGlzLnByb3ZpZGVyID0gZ2V0UHJvdmlkZXJCeVVybCh1cmwudG9TdHJpbmcoKSk7IC8vIFJld29yayBlbGVtZW50c1xyXG5cclxuICAgICAgICAgIHRoaXMuZWxlbWVudHMuY29udGFpbmVyID0gdGhpcy5tZWRpYTtcclxuICAgICAgICAgIHRoaXMubWVkaWEgPSBpZnJhbWU7IC8vIFJlc2V0IGNsYXNzbmFtZVxyXG5cclxuICAgICAgICAgIHRoaXMuZWxlbWVudHMuY29udGFpbmVyLmNsYXNzTmFtZSA9ICcnOyAvLyBHZXQgYXR0cmlidXRlcyBmcm9tIFVSTCBhbmQgc2V0IGNvbmZpZ1xyXG5cclxuICAgICAgICAgIGlmICh1cmwuc2VhcmNoLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgdHJ1dGh5ID0gWycxJywgJ3RydWUnXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0cnV0aHkuaW5jbHVkZXModXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2F1dG9wbGF5JykpKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jb25maWcuYXV0b3BsYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHJ1dGh5LmluY2x1ZGVzKHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdsb29wJykpKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jb25maWcubG9vcC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IC8vIFRPRE86IHJlcGxhY2UgZnVsbHNjcmVlbi5pb3NOYXRpdmUgd2l0aCB0aGlzIHBsYXlzaW5saW5lIGNvbmZpZyBvcHRpb25cclxuICAgICAgICAgICAgLy8gWW91VHViZSByZXF1aXJlcyB0aGUgcGxheXNpbmxpbmUgaW4gdGhlIFVSTFxyXG5cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzWW91VHViZSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuY29uZmlnLnBsYXlzaW5saW5lID0gdHJ1dGh5LmluY2x1ZGVzKHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdwbGF5c2lubGluZScpKTtcclxuICAgICAgICAgICAgICB0aGlzLmNvbmZpZy55b3V0dWJlLmhsID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2hsJyk7IC8vIFRPRE86IFNob3VsZCB0aGlzIGJlIHNldHRpbmcgbGFuZ3VhZ2U/XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jb25maWcucGxheXNpbmxpbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIDxkaXY+IHdpdGggYXR0cmlidXRlc1xyXG4gICAgICAgICAgdGhpcy5wcm92aWRlciA9IHRoaXMubWVkaWEuZ2V0QXR0cmlidXRlKHRoaXMuY29uZmlnLmF0dHJpYnV0ZXMuZW1iZWQucHJvdmlkZXIpOyAvLyBSZW1vdmUgYXR0cmlidXRlXHJcblxyXG4gICAgICAgICAgdGhpcy5tZWRpYS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5jb25maWcuYXR0cmlidXRlcy5lbWJlZC5wcm92aWRlcik7XHJcbiAgICAgICAgfSAvLyBVbnN1cHBvcnRlZCBvciBtaXNzaW5nIHByb3ZpZGVyXHJcblxyXG5cclxuICAgICAgICBpZiAoaXMkMS5lbXB0eSh0aGlzLnByb3ZpZGVyKSB8fCAhT2JqZWN0LmtleXMocHJvdmlkZXJzKS5pbmNsdWRlcyh0aGlzLnByb3ZpZGVyKSkge1xyXG4gICAgICAgICAgdGhpcy5kZWJ1Zy5lcnJvcignU2V0dXAgZmFpbGVkOiBJbnZhbGlkIHByb3ZpZGVyJyk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSAvLyBBdWRpbyB3aWxsIGNvbWUgbGF0ZXIgZm9yIGV4dGVybmFsIHByb3ZpZGVyc1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZXMudmlkZW87XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICd2aWRlbyc6XHJcbiAgICAgIGNhc2UgJ2F1ZGlvJzpcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMucHJvdmlkZXIgPSBwcm92aWRlcnMuaHRtbDU7IC8vIEdldCBjb25maWcgZnJvbSBhdHRyaWJ1dGVzXHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1lZGlhLmhhc0F0dHJpYnV0ZSgnY3Jvc3NvcmlnaW4nKSkge1xyXG4gICAgICAgICAgdGhpcy5jb25maWcuY3Jvc3NvcmlnaW4gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWVkaWEuaGFzQXR0cmlidXRlKCdhdXRvcGxheScpKSB7XHJcbiAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRvcGxheSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5tZWRpYS5oYXNBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJykgfHwgdGhpcy5tZWRpYS5oYXNBdHRyaWJ1dGUoJ3dlYmtpdC1wbGF5c2lubGluZScpKSB7XHJcbiAgICAgICAgICB0aGlzLmNvbmZpZy5wbGF5c2lubGluZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5tZWRpYS5oYXNBdHRyaWJ1dGUoJ211dGVkJykpIHtcclxuICAgICAgICAgIHRoaXMuY29uZmlnLm11dGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1lZGlhLmhhc0F0dHJpYnV0ZSgnbG9vcCcpKSB7XHJcbiAgICAgICAgICB0aGlzLmNvbmZpZy5sb29wLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgdGhpcy5kZWJ1Zy5lcnJvcignU2V0dXAgZmFpbGVkOiB1bnN1cHBvcnRlZCB0eXBlJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSAvLyBDaGVjayBmb3Igc3VwcG9ydCBhZ2FpbiBidXQgd2l0aCB0eXBlXHJcblxyXG5cclxuICAgIHRoaXMuc3VwcG9ydGVkID0gc3VwcG9ydC5jaGVjayh0aGlzLnR5cGUsIHRoaXMucHJvdmlkZXIsIHRoaXMuY29uZmlnLnBsYXlzaW5saW5lKTsgLy8gSWYgbm8gc3VwcG9ydCBmb3IgZXZlbiBBUEksIGJhaWxcclxuXHJcbiAgICBpZiAoIXRoaXMuc3VwcG9ydGVkLmFwaSkge1xyXG4gICAgICB0aGlzLmRlYnVnLmVycm9yKCdTZXR1cCBmYWlsZWQ6IG5vIHN1cHBvcnQnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSBbXTsgLy8gQ3JlYXRlIGxpc3RlbmVyc1xyXG5cclxuICAgIHRoaXMubGlzdGVuZXJzID0gbmV3IExpc3RlbmVycyh0aGlzKTsgLy8gU2V0dXAgbG9jYWwgc3RvcmFnZSBmb3IgdXNlciBzZXR0aW5nc1xyXG5cclxuICAgIHRoaXMuc3RvcmFnZSA9IG5ldyBTdG9yYWdlKHRoaXMpOyAvLyBTdG9yZSByZWZlcmVuY2VcclxuXHJcbiAgICB0aGlzLm1lZGlhLnBseXIgPSB0aGlzOyAvLyBXcmFwIG1lZGlhXHJcblxyXG4gICAgaWYgKCFpcyQxLmVsZW1lbnQodGhpcy5lbGVtZW50cy5jb250YWluZXIpKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudHMuY29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xyXG4gICAgICAgIHRhYmluZGV4OiAwXHJcbiAgICAgIH0pO1xyXG4gICAgICB3cmFwKHRoaXMubWVkaWEsIHRoaXMuZWxlbWVudHMuY29udGFpbmVyKTtcclxuICAgIH0gLy8gQWRkIHN0eWxlIGhvb2tcclxuXHJcblxyXG4gICAgdWkuYWRkU3R5bGVIb29rLmNhbGwodGhpcyk7IC8vIFNldHVwIG1lZGlhXHJcblxyXG4gICAgbWVkaWEuc2V0dXAuY2FsbCh0aGlzKTsgLy8gTGlzdGVuIGZvciBldmVudHMgaWYgZGVidWdnaW5nXHJcblxyXG4gICAgaWYgKHRoaXMuY29uZmlnLmRlYnVnKSB7XHJcbiAgICAgIG9uLmNhbGwodGhpcywgdGhpcy5lbGVtZW50cy5jb250YWluZXIsIHRoaXMuY29uZmlnLmV2ZW50cy5qb2luKCcgJyksIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIF90aGlzLmRlYnVnLmxvZyhcImV2ZW50OiBcIi5jb25jYXQoZXZlbnQudHlwZSkpO1xyXG4gICAgICB9KTtcclxuICAgIH0gLy8gU2V0dXAgaW50ZXJmYWNlXHJcbiAgICAvLyBJZiBlbWJlZCBidXQgbm90IGZ1bGx5IHN1cHBvcnRlZCwgYnVpbGQgaW50ZXJmYWNlIG5vdyB0byBhdm9pZCBmbGFzaCBvZiBjb250cm9sc1xyXG5cclxuXHJcbiAgICBpZiAodGhpcy5pc0hUTUw1IHx8IHRoaXMuaXNFbWJlZCAmJiAhdGhpcy5zdXBwb3J0ZWQudWkpIHtcclxuICAgICAgdWkuYnVpbGQuY2FsbCh0aGlzKTtcclxuICAgIH0gLy8gQ29udGFpbmVyIGxpc3RlbmVyc1xyXG5cclxuXHJcbiAgICB0aGlzLmxpc3RlbmVycy5jb250YWluZXIoKTsgLy8gR2xvYmFsIGxpc3RlbmVyc1xyXG5cclxuICAgIHRoaXMubGlzdGVuZXJzLmdsb2JhbCgpOyAvLyBTZXR1cCBmdWxsc2NyZWVuXHJcblxyXG4gICAgdGhpcy5mdWxsc2NyZWVuID0gbmV3IEZ1bGxzY3JlZW4odGhpcyk7IC8vIFNldHVwIGFkcyBpZiBwcm92aWRlZFxyXG5cclxuICAgIGlmICh0aGlzLmNvbmZpZy5hZHMuZW5hYmxlZCkge1xyXG4gICAgICB0aGlzLmFkcyA9IG5ldyBBZHModGhpcyk7XHJcbiAgICB9IC8vIEF1dG9wbGF5IGlmIHJlcXVpcmVkXHJcblxyXG5cclxuICAgIGlmICh0aGlzLmlzSFRNTDUgJiYgdGhpcy5jb25maWcuYXV0b3BsYXkpIHtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzLnBsYXkoKTtcclxuICAgICAgfSwgMTApO1xyXG4gICAgfSAvLyBTZWVrIHRpbWUgd2lsbCBiZSByZWNvcmRlZCAoaW4gbGlzdGVuZXJzLmpzKSBzbyB3ZSBjYW4gcHJldmVudCBoaWRpbmcgY29udHJvbHMgZm9yIGEgZmV3IHNlY29uZHMgYWZ0ZXIgc2Vla1xyXG5cclxuXHJcbiAgICB0aGlzLmxhc3RTZWVrVGltZSA9IDA7IC8vIFNldHVwIHByZXZpZXcgdGh1bWJuYWlscyBpZiBlbmFibGVkXHJcblxyXG4gICAgaWYgKHRoaXMuY29uZmlnLnByZXZpZXdUaHVtYm5haWxzLmVuYWJsZWQpIHtcclxuICAgICAgdGhpcy5wcmV2aWV3VGh1bWJuYWlscyA9IG5ldyBQcmV2aWV3VGh1bWJuYWlscyh0aGlzKTtcclxuICAgIH1cclxuICB9IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIEFQSVxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAvKipcclxuICAgKiBUeXBlcyBhbmQgcHJvdmlkZXIgaGVscGVyc1xyXG4gICAqL1xyXG5cclxuXHJcbiAgX2NyZWF0ZUNsYXNzKFBseXIsIFt7XHJcbiAgICBrZXk6IFwicGxheVwiLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGxheSB0aGUgbWVkaWEsIG9yIHBsYXkgdGhlIGFkdmVydGlzZW1lbnQgKGlmIHRoZXkgYXJlIG5vdCBibG9ja2VkKVxyXG4gICAgICovXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGxheSgpIHtcclxuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAoIWlzJDEuZnVuY3Rpb24odGhpcy5tZWRpYS5wbGF5KSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9IC8vIEludGVjZXB0IHBsYXkgd2l0aCBhZHNcclxuXHJcblxyXG4gICAgICBpZiAodGhpcy5hZHMgJiYgdGhpcy5hZHMuZW5hYmxlZCkge1xyXG4gICAgICAgIHRoaXMuYWRzLm1hbmFnZXJQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5hZHMucGxheSgpO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiBfdGhpczIubWVkaWEucGxheSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IC8vIFJldHVybiB0aGUgcHJvbWlzZSAoZm9yIEhUTUw1KVxyXG5cclxuXHJcbiAgICAgIHJldHVybiB0aGlzLm1lZGlhLnBsYXkoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGF1c2UgdGhlIG1lZGlhXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInBhdXNlXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGF1c2UoKSB7XHJcbiAgICAgIGlmICghdGhpcy5wbGF5aW5nIHx8ICFpcyQxLmZ1bmN0aW9uKHRoaXMubWVkaWEucGF1c2UpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm1lZGlhLnBhdXNlKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBwbGF5aW5nIHN0YXRlXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInRvZ2dsZVBsYXlcIixcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZSBwbGF5YmFjayBiYXNlZCBvbiBjdXJyZW50IHN0YXR1c1xyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBpbnB1dFxyXG4gICAgICovXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlUGxheShpbnB1dCkge1xyXG4gICAgICAvLyBUb2dnbGUgYmFzZWQgb24gY3VycmVudCBzdGF0ZSBpZiBub3RoaW5nIHBhc3NlZFxyXG4gICAgICB2YXIgdG9nZ2xlID0gaXMkMS5ib29sZWFuKGlucHV0KSA/IGlucHV0IDogIXRoaXMucGxheWluZztcclxuXHJcbiAgICAgIGlmICh0b2dnbGUpIHtcclxuICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnBhdXNlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU3RvcCBwbGF5YmFja1xyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJzdG9wXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcCgpIHtcclxuICAgICAgaWYgKHRoaXMuaXNIVE1MNSkge1xyXG4gICAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgICAgICB0aGlzLnJlc3RhcnQoKTtcclxuICAgICAgfSBlbHNlIGlmIChpcyQxLmZ1bmN0aW9uKHRoaXMubWVkaWEuc3RvcCkpIHtcclxuICAgICAgICB0aGlzLm1lZGlhLnN0b3AoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXN0YXJ0IHBsYXliYWNrXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInJlc3RhcnRcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXN0YXJ0KCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRUaW1lID0gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV3aW5kXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2Vla1RpbWUgLSBob3cgZmFyIHRvIHJld2luZCBpbiBzZWNvbmRzLiBEZWZhdWx0cyB0byB0aGUgY29uZmlnLnNlZWtUaW1lXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInJld2luZFwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJld2luZChzZWVrVGltZSkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGhpcy5jdXJyZW50VGltZSAtIChpcyQxLm51bWJlcihzZWVrVGltZSkgPyBzZWVrVGltZSA6IHRoaXMuY29uZmlnLnNlZWtUaW1lKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRmFzdCBmb3J3YXJkXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2Vla1RpbWUgLSBob3cgZmFyIHRvIGZhc3QgZm9yd2FyZCBpbiBzZWNvbmRzLiBEZWZhdWx0cyB0byB0aGUgY29uZmlnLnNlZWtUaW1lXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImZvcndhcmRcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3J3YXJkKHNlZWtUaW1lKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFRpbWUgPSB0aGlzLmN1cnJlbnRUaW1lICsgKGlzJDEubnVtYmVyKHNlZWtUaW1lKSA/IHNlZWtUaW1lIDogdGhpcy5jb25maWcuc2Vla1RpbWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZWVrIHRvIGEgdGltZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGlucHV0IC0gd2hlcmUgdG8gc2VlayB0byBpbiBzZWNvbmRzLiBEZWZhdWx0cyB0byAwICh0aGUgc3RhcnQpXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImluY3JlYXNlVm9sdW1lXCIsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbmNyZWFzZSB2b2x1bWVcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RlcCAtIEhvdyBtdWNoIHRvIGRlY3JlYXNlIGJ5IChiZXR3ZWVuIDAgYW5kIDEpXHJcbiAgICAgKi9cclxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbmNyZWFzZVZvbHVtZShzdGVwKSB7XHJcbiAgICAgIHZhciB2b2x1bWUgPSB0aGlzLm1lZGlhLm11dGVkID8gMCA6IHRoaXMudm9sdW1lO1xyXG4gICAgICB0aGlzLnZvbHVtZSA9IHZvbHVtZSArIChpcyQxLm51bWJlcihzdGVwKSA/IHN0ZXAgOiAwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRGVjcmVhc2Ugdm9sdW1lXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHN0ZXAgLSBIb3cgbXVjaCB0byBkZWNyZWFzZSBieSAoYmV0d2VlbiAwIGFuZCAxKVxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJkZWNyZWFzZVZvbHVtZVwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlY3JlYXNlVm9sdW1lKHN0ZXApIHtcclxuICAgICAgdGhpcy5pbmNyZWFzZVZvbHVtZSgtc3RlcCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBtdXRlZCBzdGF0ZVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBtdXRlXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInRvZ2dsZUNhcHRpb25zXCIsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGUgY2FwdGlvbnNcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW5wdXQgLSBXaGV0aGVyIHRvIGVuYWJsZSBjYXB0aW9uc1xyXG4gICAgICovXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlQ2FwdGlvbnMoaW5wdXQpIHtcclxuICAgICAgY2FwdGlvbnMudG9nZ2xlLmNhbGwodGhpcywgaW5wdXQsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBjYXB0aW9uIHRyYWNrIGJ5IGluZGV4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gLSBDYXB0aW9uIGluZGV4XHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImFpcnBsYXlcIixcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXIgdGhlIGFpcnBsYXkgZGlhbG9nXHJcbiAgICAgKiBUT0RPOiB1cGRhdGUgcGxheWVyIHdpdGggc3RhdGUsIHN1cHBvcnQsIGVuYWJsZWRcclxuICAgICAqL1xyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFpcnBsYXkoKSB7XHJcbiAgICAgIC8vIFNob3cgZGlhbG9nIGlmIHN1cHBvcnRlZFxyXG4gICAgICBpZiAoc3VwcG9ydC5haXJwbGF5KSB7XHJcbiAgICAgICAgdGhpcy5tZWRpYS53ZWJraXRTaG93UGxheWJhY2tUYXJnZXRQaWNrZXIoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGUgdGhlIHBsYXllciBjb250cm9sc1xyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbdG9nZ2xlXSAtIFdoZXRoZXIgdG8gc2hvdyB0aGUgY29udHJvbHNcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwidG9nZ2xlQ29udHJvbHNcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVDb250cm9scyh0b2dnbGUpIHtcclxuICAgICAgLy8gRG9uJ3QgdG9nZ2xlIGlmIG1pc3NpbmcgVUkgc3VwcG9ydCBvciBpZiBpdCdzIGF1ZGlvXHJcbiAgICAgIGlmICh0aGlzLnN1cHBvcnRlZC51aSAmJiAhdGhpcy5pc0F1ZGlvKSB7XHJcbiAgICAgICAgLy8gR2V0IHN0YXRlIGJlZm9yZSBjaGFuZ2VcclxuICAgICAgICB2YXIgaXNIaWRkZW4gPSBoYXNDbGFzcyh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lciwgdGhpcy5jb25maWcuY2xhc3NOYW1lcy5oaWRlQ29udHJvbHMpOyAvLyBOZWdhdGUgdGhlIGFyZ3VtZW50IGlmIG5vdCB1bmRlZmluZWQgc2luY2UgYWRkaW5nIHRoZSBjbGFzcyB0byBoaWRlcyB0aGUgY29udHJvbHNcclxuXHJcbiAgICAgICAgdmFyIGZvcmNlID0gdHlwZW9mIHRvZ2dsZSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiAhdG9nZ2xlOyAvLyBBcHBseSBhbmQgZ2V0IHVwZGF0ZWQgc3RhdGVcclxuXHJcbiAgICAgICAgdmFyIGhpZGluZyA9IHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLCB0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmhpZGVDb250cm9scywgZm9yY2UpOyAvLyBDbG9zZSBtZW51XHJcblxyXG4gICAgICAgIGlmIChoaWRpbmcgJiYgdGhpcy5jb25maWcuY29udHJvbHMuaW5jbHVkZXMoJ3NldHRpbmdzJykgJiYgIWlzJDEuZW1wdHkodGhpcy5jb25maWcuc2V0dGluZ3MpKSB7XHJcbiAgICAgICAgICBjb250cm9scy50b2dnbGVNZW51LmNhbGwodGhpcywgZmFsc2UpO1xyXG4gICAgICAgIH0gLy8gVHJpZ2dlciBldmVudCBvbiBjaGFuZ2VcclxuXHJcblxyXG4gICAgICAgIGlmIChoaWRpbmcgIT09IGlzSGlkZGVuKSB7XHJcbiAgICAgICAgICB2YXIgZXZlbnROYW1lID0gaGlkaW5nID8gJ2NvbnRyb2xzaGlkZGVuJyA6ICdjb250cm9sc3Nob3duJztcclxuICAgICAgICAgIHRyaWdnZXJFdmVudC5jYWxsKHRoaXMsIHRoaXMubWVkaWEsIGV2ZW50TmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gIWhpZGluZztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgLSBFdmVudCB0eXBlXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIGZvciB3aGVuIGV2ZW50IG9jY3Vyc1xyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJvblwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uJDEoZXZlbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgIG9uLmNhbGwodGhpcywgdGhpcy5lbGVtZW50cy5jb250YWluZXIsIGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZCBldmVudCBsaXN0ZW5lcnMgb25jZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IC0gRXZlbnQgdHlwZVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmb3Igd2hlbiBldmVudCBvY2N1cnNcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwib25jZVwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uY2UkMShldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgb25jZS5jYWxsKHRoaXMsIHRoaXMuZWxlbWVudHMuY29udGFpbmVyLCBldmVudCwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgLSBFdmVudCB0eXBlXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIGZvciB3aGVuIGV2ZW50IG9jY3Vyc1xyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJvZmZcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYkMShldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgb2ZmKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLCBldmVudCwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IGFuIGluc3RhbmNlXHJcbiAgICAgKiBFdmVudCBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQgd2hlbiBlbGVtZW50cyBhcmUgcmVtb3ZlZFxyXG4gICAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMjUyODA0OS9pZi1hLWRvbS1lbGVtZW50LWlzLXJlbW92ZWQtYXJlLWl0cy1saXN0ZW5lcnMtYWxzby1yZW1vdmVkLWZyb20tbWVtb3J5XHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIGZvciB3aGVuIGRlc3Ryb3kgaXMgY29tcGxldGVcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc29mdCAtIFdoZXRoZXIgaXQncyBhIHNvZnQgZGVzdHJveSAoZm9yIHNvdXJjZSBjaGFuZ2VzIGV0YylcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiZGVzdHJveVwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koY2FsbGJhY2spIHtcclxuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XHJcblxyXG4gICAgICB2YXIgc29mdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XHJcblxyXG4gICAgICBpZiAoIXRoaXMucmVhZHkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBkb25lID0gZnVuY3Rpb24gZG9uZSgpIHtcclxuICAgICAgICAvLyBSZXNldCBvdmVyZmxvdyAoaW5jYXNlIGRlc3Ryb3llZCB3aGlsZSBpbiBmdWxsc2NyZWVuKVxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJzsgLy8gR0MgZm9yIGVtYmVkXHJcblxyXG4gICAgICAgIF90aGlzMy5lbWJlZCA9IG51bGw7IC8vIElmIGl0J3MgYSBzb2Z0IGRlc3Ryb3ksIG1ha2UgbWluaW1hbCBjaGFuZ2VzXHJcblxyXG4gICAgICAgIGlmIChzb2Z0KSB7XHJcbiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoX3RoaXMzLmVsZW1lbnRzKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGVsZW1lbnRzXHJcbiAgICAgICAgICAgIHJlbW92ZUVsZW1lbnQoX3RoaXMzLmVsZW1lbnRzLmJ1dHRvbnMucGxheSk7XHJcbiAgICAgICAgICAgIHJlbW92ZUVsZW1lbnQoX3RoaXMzLmVsZW1lbnRzLmNhcHRpb25zKTtcclxuICAgICAgICAgICAgcmVtb3ZlRWxlbWVudChfdGhpczMuZWxlbWVudHMuY29udHJvbHMpO1xyXG4gICAgICAgICAgICByZW1vdmVFbGVtZW50KF90aGlzMy5lbGVtZW50cy53cmFwcGVyKTsgLy8gQ2xlYXIgZm9yIEdDXHJcblxyXG4gICAgICAgICAgICBfdGhpczMuZWxlbWVudHMuYnV0dG9ucy5wbGF5ID0gbnVsbDtcclxuICAgICAgICAgICAgX3RoaXMzLmVsZW1lbnRzLmNhcHRpb25zID0gbnVsbDtcclxuICAgICAgICAgICAgX3RoaXMzLmVsZW1lbnRzLmNvbnRyb2xzID0gbnVsbDtcclxuICAgICAgICAgICAgX3RoaXMzLmVsZW1lbnRzLndyYXBwZXIgPSBudWxsO1xyXG4gICAgICAgICAgfSAvLyBDYWxsYmFja1xyXG5cclxuXHJcbiAgICAgICAgICBpZiAoaXMkMS5mdW5jdGlvbihjYWxsYmFjaykpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gVW5iaW5kIGxpc3RlbmVyc1xyXG4gICAgICAgICAgdW5iaW5kTGlzdGVuZXJzLmNhbGwoX3RoaXMzKTsgLy8gUmVwbGFjZSB0aGUgY29udGFpbmVyIHdpdGggdGhlIG9yaWdpbmFsIGVsZW1lbnQgcHJvdmlkZWRcclxuXHJcbiAgICAgICAgICByZXBsYWNlRWxlbWVudChfdGhpczMuZWxlbWVudHMub3JpZ2luYWwsIF90aGlzMy5lbGVtZW50cy5jb250YWluZXIpOyAvLyBFdmVudFxyXG5cclxuICAgICAgICAgIHRyaWdnZXJFdmVudC5jYWxsKF90aGlzMywgX3RoaXMzLmVsZW1lbnRzLm9yaWdpbmFsLCAnZGVzdHJveWVkJywgdHJ1ZSk7IC8vIENhbGxiYWNrXHJcblxyXG4gICAgICAgICAgaWYgKGlzJDEuZnVuY3Rpb24oY2FsbGJhY2spKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoX3RoaXMzLmVsZW1lbnRzLm9yaWdpbmFsKTtcclxuICAgICAgICAgIH0gLy8gUmVzZXQgc3RhdGVcclxuXHJcblxyXG4gICAgICAgICAgX3RoaXMzLnJlYWR5ID0gZmFsc2U7IC8vIENsZWFyIGZvciBnYXJiYWdlIGNvbGxlY3Rpb25cclxuXHJcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMzLmVsZW1lbnRzID0gbnVsbDtcclxuICAgICAgICAgICAgX3RoaXMzLm1lZGlhID0gbnVsbDtcclxuICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9OyAvLyBTdG9wIHBsYXliYWNrXHJcblxyXG5cclxuICAgICAgdGhpcy5zdG9wKCk7IC8vIENsZWFyIHRpbWVvdXRzXHJcblxyXG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcnMubG9hZGluZyk7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5jb250cm9scyk7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5yZXNpemVkKTsgLy8gUHJvdmlkZXIgc3BlY2lmaWMgc3R1ZmZcclxuXHJcbiAgICAgIGlmICh0aGlzLmlzSFRNTDUpIHtcclxuICAgICAgICAvLyBSZXN0b3JlIG5hdGl2ZSB2aWRlbyBjb250cm9sc1xyXG4gICAgICAgIHVpLnRvZ2dsZU5hdGl2ZUNvbnRyb2xzLmNhbGwodGhpcywgdHJ1ZSk7IC8vIENsZWFuIHVwXHJcblxyXG4gICAgICAgIGRvbmUoKTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzWW91VHViZSkge1xyXG4gICAgICAgIC8vIENsZWFyIHRpbWVyc1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcnMuYnVmZmVyaW5nKTtcclxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJzLnBsYXlpbmcpOyAvLyBEZXN0cm95IFlvdVR1YmUgQVBJXHJcblxyXG4gICAgICAgIGlmICh0aGlzLmVtYmVkICE9PSBudWxsICYmIGlzJDEuZnVuY3Rpb24odGhpcy5lbWJlZC5kZXN0cm95KSkge1xyXG4gICAgICAgICAgdGhpcy5lbWJlZC5kZXN0cm95KCk7XHJcbiAgICAgICAgfSAvLyBDbGVhbiB1cFxyXG5cclxuXHJcbiAgICAgICAgZG9uZSgpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNWaW1lbykge1xyXG4gICAgICAgIC8vIERlc3Ryb3kgVmltZW8gQVBJXHJcbiAgICAgICAgLy8gdGhlbiBjbGVhbiB1cCAod2FpdCwgdG8gcHJldmVudCBwb3N0bWVzc2FnZSBlcnJvcnMpXHJcbiAgICAgICAgaWYgKHRoaXMuZW1iZWQgIT09IG51bGwpIHtcclxuICAgICAgICAgIHRoaXMuZW1iZWQudW5sb2FkKCkudGhlbihkb25lKTtcclxuICAgICAgICB9IC8vIFZpbWVvIGRvZXMgbm90IGFsd2F5cyByZXR1cm5cclxuXHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZG9uZSwgMjAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBmb3Igc3VwcG9ydCBmb3IgYSBtaW1lIHR5cGUgKEhUTUw1IG9ubHkpXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIE1pbWUgdHlwZVxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJzdXBwb3J0c1wiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1cHBvcnRzKHR5cGUpIHtcclxuICAgICAgcmV0dXJuIHN1cHBvcnQubWltZS5jYWxsKHRoaXMsIHR5cGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBmb3Igc3VwcG9ydFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBQbGF5ZXIgdHlwZSAoYXVkaW8vdmlkZW8pXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvdmlkZXIgLSBQcm92aWRlciAoaHRtbDUveW91dHViZS92aW1lbylcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW5saW5lIC0gV2hlcmUgcGxheWVyIGhhcyBgcGxheXNpbmxpbmVgIHN0dHJpYnV0ZVxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJpc0hUTUw1XCIsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXIgPT09IHByb3ZpZGVycy5odG1sNTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiaXNFbWJlZFwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmlzWW91VHViZSB8fCB0aGlzLmlzVmltZW87XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcImlzWW91VHViZVwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyID09PSBwcm92aWRlcnMueW91dHViZTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiaXNWaW1lb1wiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyID09PSBwcm92aWRlcnMudmltZW87XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcImlzVmlkZW9cIixcclxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICByZXR1cm4gdGhpcy50eXBlID09PSB0eXBlcy52aWRlbztcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiaXNBdWRpb1wiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IHR5cGVzLmF1ZGlvO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJwbGF5aW5nXCIsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5yZWFkeSAmJiAhdGhpcy5wYXVzZWQgJiYgIXRoaXMuZW5kZWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgcGF1c2VkIHN0YXRlXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInBhdXNlZFwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMubWVkaWEucGF1c2VkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHN0b3BwZWQgc3RhdGVcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwic3RvcHBlZFwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMucGF1c2VkICYmIHRoaXMuY3VycmVudFRpbWUgPT09IDApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgZW5kZWQgc3RhdGVcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiZW5kZWRcIixcclxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLm1lZGlhLmVuZGVkKTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiY3VycmVudFRpbWVcIixcclxuICAgIHNldDogZnVuY3Rpb24gc2V0KGlucHV0KSB7XHJcbiAgICAgIC8vIEJhaWwgaWYgbWVkaWEgZHVyYXRpb24gaXNuJ3QgYXZhaWxhYmxlIHlldFxyXG4gICAgICBpZiAoIXRoaXMuZHVyYXRpb24pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gLy8gVmFsaWRhdGUgaW5wdXRcclxuXHJcblxyXG4gICAgICB2YXIgaW5wdXRJc1ZhbGlkID0gaXMkMS5udW1iZXIoaW5wdXQpICYmIGlucHV0ID4gMDsgLy8gU2V0XHJcblxyXG4gICAgICB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lID0gaW5wdXRJc1ZhbGlkID8gTWF0aC5taW4oaW5wdXQsIHRoaXMuZHVyYXRpb24pIDogMDsgLy8gTG9nZ2luZ1xyXG5cclxuICAgICAgdGhpcy5kZWJ1Zy5sb2coXCJTZWVraW5nIHRvIFwiLmNvbmNhdCh0aGlzLmN1cnJlbnRUaW1lLCBcIiBzZWNvbmRzXCIpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGN1cnJlbnQgdGltZVxyXG4gICAgICovXHJcbiAgICAsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgcmV0dXJuIE51bWJlcih0aGlzLm1lZGlhLmN1cnJlbnRUaW1lKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGJ1ZmZlcmVkXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImJ1ZmZlcmVkXCIsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgdmFyIGJ1ZmZlcmVkID0gdGhpcy5tZWRpYS5idWZmZXJlZDsgLy8gWW91VHViZSAvIFZpbWVvIHJldHVybiBhIGZsb2F0IGJldHdlZW4gMC0xXHJcblxyXG4gICAgICBpZiAoaXMkMS5udW1iZXIoYnVmZmVyZWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcmVkO1xyXG4gICAgICB9IC8vIEhUTUw1XHJcbiAgICAgIC8vIFRPRE86IEhhbmRsZSBidWZmZXJlZCBjaHVua3Mgb2YgdGhlIG1lZGlhXHJcbiAgICAgIC8vIChpLmUuIHNlZWsgdG8gYW5vdGhlciBzZWN0aW9uIGJ1ZmZlcnMgb25seSB0aGF0IHNlY3Rpb24pXHJcblxyXG5cclxuICAgICAgaWYgKGJ1ZmZlcmVkICYmIGJ1ZmZlcmVkLmxlbmd0aCAmJiB0aGlzLmR1cmF0aW9uID4gMCkge1xyXG4gICAgICAgIHJldHVybiBidWZmZXJlZC5lbmQoMCkgLyB0aGlzLmR1cmF0aW9uO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHNlZWtpbmcgc3RhdHVzXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInNlZWtpbmdcIixcclxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLm1lZGlhLnNlZWtpbmcpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGR1cmF0aW9uIG9mIHRoZSBjdXJyZW50IG1lZGlhXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImR1cmF0aW9uXCIsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgLy8gRmF1eCBkdXJhdGlvbiBzZXQgdmlhIGNvbmZpZ1xyXG4gICAgICB2YXIgZmF1eER1cmF0aW9uID0gcGFyc2VGbG9hdCh0aGlzLmNvbmZpZy5kdXJhdGlvbik7IC8vIE1lZGlhIGR1cmF0aW9uIGNhbiBiZSBOYU4gb3IgSW5maW5pdHkgYmVmb3JlIHRoZSBtZWRpYSBoYXMgbG9hZGVkXHJcblxyXG4gICAgICB2YXIgcmVhbER1cmF0aW9uID0gKHRoaXMubWVkaWEgfHwge30pLmR1cmF0aW9uO1xyXG4gICAgICB2YXIgZHVyYXRpb24gPSAhaXMkMS5udW1iZXIocmVhbER1cmF0aW9uKSB8fCByZWFsRHVyYXRpb24gPT09IEluZmluaXR5ID8gMCA6IHJlYWxEdXJhdGlvbjsgLy8gSWYgY29uZmlnIGR1cmF0aW9uIGlzIGZ1bmt5LCB1c2UgcmVndWxhciBkdXJhdGlvblxyXG5cclxuICAgICAgcmV0dXJuIGZhdXhEdXJhdGlvbiB8fCBkdXJhdGlvbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBwbGF5ZXIgdm9sdW1lXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgLSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMS4gRGVmYXVsdHMgdG8gdGhlIHZhbHVlIGZyb20gbG9jYWwgc3RvcmFnZSBhbmQgY29uZmlnLnZvbHVtZSBpZiBub3Qgc2V0IGluIHN0b3JhZ2VcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwidm9sdW1lXCIsXHJcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xyXG4gICAgICB2YXIgdm9sdW1lID0gdmFsdWU7XHJcbiAgICAgIHZhciBtYXggPSAxO1xyXG4gICAgICB2YXIgbWluID0gMDtcclxuXHJcbiAgICAgIGlmIChpcyQxLnN0cmluZyh2b2x1bWUpKSB7XHJcbiAgICAgICAgdm9sdW1lID0gTnVtYmVyKHZvbHVtZSk7XHJcbiAgICAgIH0gLy8gTG9hZCB2b2x1bWUgZnJvbSBzdG9yYWdlIGlmIG5vIHZhbHVlIHNwZWNpZmllZFxyXG5cclxuXHJcbiAgICAgIGlmICghaXMkMS5udW1iZXIodm9sdW1lKSkge1xyXG4gICAgICAgIHZvbHVtZSA9IHRoaXMuc3RvcmFnZS5nZXQoJ3ZvbHVtZScpO1xyXG4gICAgICB9IC8vIFVzZSBjb25maWcgaWYgYWxsIGVsc2UgZmFpbHNcclxuXHJcblxyXG4gICAgICBpZiAoIWlzJDEubnVtYmVyKHZvbHVtZSkpIHtcclxuICAgICAgICB2b2x1bWUgPSB0aGlzLmNvbmZpZy52b2x1bWU7XHJcbiAgICAgIH0gLy8gTWF4aW11bSBpcyB2b2x1bWVNYXhcclxuXHJcblxyXG4gICAgICBpZiAodm9sdW1lID4gbWF4KSB7XHJcbiAgICAgICAgdm9sdW1lID0gbWF4O1xyXG4gICAgICB9IC8vIE1pbmltdW0gaXMgdm9sdW1lTWluXHJcblxyXG5cclxuICAgICAgaWYgKHZvbHVtZSA8IG1pbikge1xyXG4gICAgICAgIHZvbHVtZSA9IG1pbjtcclxuICAgICAgfSAvLyBVcGRhdGUgY29uZmlnXHJcblxyXG5cclxuICAgICAgdGhpcy5jb25maWcudm9sdW1lID0gdm9sdW1lOyAvLyBTZXQgdGhlIHBsYXllciB2b2x1bWVcclxuXHJcbiAgICAgIHRoaXMubWVkaWEudm9sdW1lID0gdm9sdW1lOyAvLyBJZiBtdXRlZCwgYW5kIHdlJ3JlIGluY3JlYXNpbmcgdm9sdW1lIG1hbnVhbGx5LCByZXNldCBtdXRlZCBzdGF0ZVxyXG5cclxuICAgICAgaWYgKCFpcyQxLmVtcHR5KHZhbHVlKSAmJiB0aGlzLm11dGVkICYmIHZvbHVtZSA+IDApIHtcclxuICAgICAgICB0aGlzLm11dGVkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHBsYXllciB2b2x1bWVcclxuICAgICAqL1xyXG4gICAgLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiBOdW1iZXIodGhpcy5tZWRpYS52b2x1bWUpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJtdXRlZFwiLFxyXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobXV0ZSkge1xyXG4gICAgICB2YXIgdG9nZ2xlID0gbXV0ZTsgLy8gTG9hZCBtdXRlZCBzdGF0ZSBmcm9tIHN0b3JhZ2VcclxuXHJcbiAgICAgIGlmICghaXMkMS5ib29sZWFuKHRvZ2dsZSkpIHtcclxuICAgICAgICB0b2dnbGUgPSB0aGlzLnN0b3JhZ2UuZ2V0KCdtdXRlZCcpO1xyXG4gICAgICB9IC8vIFVzZSBjb25maWcgaWYgYWxsIGVsc2UgZmFpbHNcclxuXHJcblxyXG4gICAgICBpZiAoIWlzJDEuYm9vbGVhbih0b2dnbGUpKSB7XHJcbiAgICAgICAgdG9nZ2xlID0gdGhpcy5jb25maWcubXV0ZWQ7XHJcbiAgICAgIH0gLy8gVXBkYXRlIGNvbmZpZ1xyXG5cclxuXHJcbiAgICAgIHRoaXMuY29uZmlnLm11dGVkID0gdG9nZ2xlOyAvLyBTZXQgbXV0ZSBvbiB0aGUgcGxheWVyXHJcblxyXG4gICAgICB0aGlzLm1lZGlhLm11dGVkID0gdG9nZ2xlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY3VycmVudCBtdXRlZCBzdGF0ZVxyXG4gICAgICovXHJcbiAgICAsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5tZWRpYS5tdXRlZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHRoZSBtZWRpYSBoYXMgYXVkaW9cclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiaGFzQXVkaW9cIixcclxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAvLyBBc3N1bWUgeWVzIGZvciBhbGwgbm9uIEhUTUw1IChhcyB3ZSBjYW4ndCB0ZWxsLi4uKVxyXG4gICAgICBpZiAoIXRoaXMuaXNIVE1MNSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5pc0F1ZGlvKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gLy8gR2V0IGF1ZGlvIHRyYWNrc1xyXG5cclxuXHJcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMubWVkaWEubW96SGFzQXVkaW8pIHx8IEJvb2xlYW4odGhpcy5tZWRpYS53ZWJraXRBdWRpb0RlY29kZWRCeXRlQ291bnQpIHx8IEJvb2xlYW4odGhpcy5tZWRpYS5hdWRpb1RyYWNrcyAmJiB0aGlzLm1lZGlhLmF1ZGlvVHJhY2tzLmxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBwbGF5YmFjayBzcGVlZFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNwZWVkIC0gdGhlIHNwZWVkIG9mIHBsYXliYWNrICgwLjUtMi4wKVxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJzcGVlZFwiLFxyXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoaW5wdXQpIHtcclxuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XHJcblxyXG4gICAgICB2YXIgc3BlZWQgPSBudWxsO1xyXG5cclxuICAgICAgaWYgKGlzJDEubnVtYmVyKGlucHV0KSkge1xyXG4gICAgICAgIHNwZWVkID0gaW5wdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghaXMkMS5udW1iZXIoc3BlZWQpKSB7XHJcbiAgICAgICAgc3BlZWQgPSB0aGlzLnN0b3JhZ2UuZ2V0KCdzcGVlZCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWlzJDEubnVtYmVyKHNwZWVkKSkge1xyXG4gICAgICAgIHNwZWVkID0gdGhpcy5jb25maWcuc3BlZWQuc2VsZWN0ZWQ7XHJcbiAgICAgIH0gLy8gQ2xhbXAgdG8gbWluL21heFxyXG5cclxuXHJcbiAgICAgIHZhciBtaW4gPSB0aGlzLm1pbmltdW1TcGVlZCxcclxuICAgICAgICAgIG1heCA9IHRoaXMubWF4aW11bVNwZWVkO1xyXG4gICAgICBzcGVlZCA9IGNsYW1wKHNwZWVkLCBtaW4sIG1heCk7IC8vIFVwZGF0ZSBjb25maWdcclxuXHJcbiAgICAgIHRoaXMuY29uZmlnLnNwZWVkLnNlbGVjdGVkID0gc3BlZWQ7IC8vIFNldCBtZWRpYSBzcGVlZFxyXG5cclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3RoaXM0Lm1lZGlhLnBsYXliYWNrUmF0ZSA9IHNwZWVkO1xyXG4gICAgICB9LCAwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGN1cnJlbnQgcGxheWJhY2sgc3BlZWRcclxuICAgICAqL1xyXG4gICAgLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiBOdW1iZXIodGhpcy5tZWRpYS5wbGF5YmFja1JhdGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIG1pbmltdW0gYWxsb3dlZCBzcGVlZFxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJtaW5pbXVtU3BlZWRcIixcclxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICBpZiAodGhpcy5pc1lvdVR1YmUpIHtcclxuICAgICAgICAvLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS95b3V0dWJlL2lmcmFtZV9hcGlfcmVmZXJlbmNlI3NldFBsYXliYWNrUmF0ZVxyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5vcHRpb25zLnNwZWVkKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLmlzVmltZW8pIHtcclxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdmltZW8vcGxheWVyLmpzLyNzZXRwbGF5YmFja3JhdGVwbGF5YmFja3JhdGUtbnVtYmVyLXByb21pc2VudW1iZXItcmFuZ2VlcnJvcmVycm9yXHJcbiAgICAgICAgcmV0dXJuIDAuNTtcclxuICAgICAgfSAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzIzMjAwMjAvMTE5MTMxOVxyXG5cclxuXHJcbiAgICAgIHJldHVybiAwLjA2MjU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbWF4aW11bSBhbGxvd2VkIHNwZWVkXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcIm1heGltdW1TcGVlZFwiLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIGlmICh0aGlzLmlzWW91VHViZSkge1xyXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3lvdXR1YmUvaWZyYW1lX2FwaV9yZWZlcmVuY2Ujc2V0UGxheWJhY2tSYXRlXHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLm9wdGlvbnMuc3BlZWQpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuaXNWaW1lbykge1xyXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92aW1lby9wbGF5ZXIuanMvI3NldHBsYXliYWNrcmF0ZXBsYXliYWNrcmF0ZS1udW1iZXItcHJvbWlzZW51bWJlci1yYW5nZWVycm9yZXJyb3JcclxuICAgICAgICByZXR1cm4gMjtcclxuICAgICAgfSAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzIzMjAwMjAvMTE5MTMxOVxyXG5cclxuXHJcbiAgICAgIHJldHVybiAxNjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHBsYXliYWNrIHF1YWxpdHlcclxuICAgICAqIEN1cnJlbnRseSBIVE1MNSAmIFlvdVR1YmUgb25seVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGlucHV0IC0gUXVhbGl0eSBsZXZlbFxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJxdWFsaXR5XCIsXHJcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbnB1dCkge1xyXG4gICAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWcucXVhbGl0eTtcclxuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMucXVhbGl0eTtcclxuXHJcbiAgICAgIGlmICghb3B0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBxdWFsaXR5ID0gWyFpcyQxLmVtcHR5KGlucHV0KSAmJiBOdW1iZXIoaW5wdXQpLCB0aGlzLnN0b3JhZ2UuZ2V0KCdxdWFsaXR5JyksIGNvbmZpZy5zZWxlY3RlZCwgY29uZmlnLmRlZmF1bHRdLmZpbmQoaXMkMS5udW1iZXIpO1xyXG4gICAgICB2YXIgdXBkYXRlU3RvcmFnZSA9IHRydWU7XHJcblxyXG4gICAgICBpZiAoIW9wdGlvbnMuaW5jbHVkZXMocXVhbGl0eSkpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBjbG9zZXN0KG9wdGlvbnMsIHF1YWxpdHkpO1xyXG4gICAgICAgIHRoaXMuZGVidWcud2FybihcIlVuc3VwcG9ydGVkIHF1YWxpdHkgb3B0aW9uOiBcIi5jb25jYXQocXVhbGl0eSwgXCIsIHVzaW5nIFwiKS5jb25jYXQodmFsdWUsIFwiIGluc3RlYWRcIikpO1xyXG4gICAgICAgIHF1YWxpdHkgPSB2YWx1ZTsgLy8gRG9uJ3QgdXBkYXRlIHN0b3JhZ2UgaWYgcXVhbGl0eSBpcyBub3Qgc3VwcG9ydGVkXHJcblxyXG4gICAgICAgIHVwZGF0ZVN0b3JhZ2UgPSBmYWxzZTtcclxuICAgICAgfSAvLyBVcGRhdGUgY29uZmlnXHJcblxyXG5cclxuICAgICAgY29uZmlnLnNlbGVjdGVkID0gcXVhbGl0eTsgLy8gU2V0IHF1YWxpdHlcclxuXHJcbiAgICAgIHRoaXMubWVkaWEucXVhbGl0eSA9IHF1YWxpdHk7IC8vIFNhdmUgdG8gc3RvcmFnZVxyXG5cclxuICAgICAgaWYgKHVwZGF0ZVN0b3JhZ2UpIHtcclxuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KHtcclxuICAgICAgICAgIHF1YWxpdHk6IHF1YWxpdHlcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY3VycmVudCBxdWFsaXR5IGxldmVsXHJcbiAgICAgKi9cclxuICAgICxcclxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5tZWRpYS5xdWFsaXR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGUgbG9vcFxyXG4gICAgICogVE9ETzogRmluaXNoIGZhbmN5IG5ldyBsb2dpYy4gU2V0IHRoZSBpbmRpY2F0b3Igb24gbG9hZCBhcyB1c2VyIG1heSBwYXNzIGxvb3AgYXMgY29uZmlnXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlucHV0IC0gV2hldGhlciB0byBsb29wIG9yIG5vdFxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJsb29wXCIsXHJcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbnB1dCkge1xyXG4gICAgICB2YXIgdG9nZ2xlID0gaXMkMS5ib29sZWFuKGlucHV0KSA/IGlucHV0IDogdGhpcy5jb25maWcubG9vcC5hY3RpdmU7XHJcbiAgICAgIHRoaXMuY29uZmlnLmxvb3AuYWN0aXZlID0gdG9nZ2xlO1xyXG4gICAgICB0aGlzLm1lZGlhLmxvb3AgPSB0b2dnbGU7IC8vIFNldCBkZWZhdWx0IHRvIGJlIGEgdHJ1ZSB0b2dnbGVcclxuXHJcbiAgICAgIC8qIGNvbnN0IHR5cGUgPSBbJ3N0YXJ0JywgJ2VuZCcsICdhbGwnLCAnbm9uZScsICd0b2dnbGUnXS5pbmNsdWRlcyhpbnB1dCkgPyBpbnB1dCA6ICd0b2dnbGUnO1xyXG4gICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICBjYXNlICdzdGFydCc6XHJcbiAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxvb3AuZW5kICYmIHRoaXMuY29uZmlnLmxvb3AuZW5kIDw9IHRoaXMuY3VycmVudFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubG9vcC5lbmQgPSBudWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb29wLnN0YXJ0ID0gdGhpcy5jdXJyZW50VGltZTtcclxuICAgICAgICAgICAgICAvLyB0aGlzLmNvbmZpZy5sb29wLmluZGljYXRvci5zdGFydCA9IHRoaXMuZWxlbWVudHMuZGlzcGxheS5wbGF5ZWQudmFsdWU7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgY2FzZSAnZW5kJzpcclxuICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcubG9vcC5zdGFydCA+PSB0aGlzLmN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb29wLmVuZCA9IHRoaXMuY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgICAgLy8gdGhpcy5jb25maWcubG9vcC5pbmRpY2F0b3IuZW5kID0gdGhpcy5lbGVtZW50cy5kaXNwbGF5LnBsYXllZC52YWx1ZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICBjYXNlICdhbGwnOlxyXG4gICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvb3Auc3RhcnQgPSAwO1xyXG4gICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvb3AuZW5kID0gdGhpcy5kdXJhdGlvbiAtIDI7XHJcbiAgICAgICAgICAgICAgdGhpcy5jb25maWcubG9vcC5pbmRpY2F0b3Iuc3RhcnQgPSAwO1xyXG4gICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvb3AuaW5kaWNhdG9yLmVuZCA9IDEwMDtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICBjYXNlICd0b2dnbGUnOlxyXG4gICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5sb29wLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb29wLnN0YXJ0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubG9vcC5lbmQgPSBudWxsO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvb3Auc3RhcnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb29wLmVuZCA9IHRoaXMuZHVyYXRpb24gLSAyO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvb3Auc3RhcnQgPSAwO1xyXG4gICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvb3AuZW5kID0gbnVsbDtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgfSAqL1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY3VycmVudCBsb29wIHN0YXRlXHJcbiAgICAgKi9cclxuICAgICxcclxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLm1lZGlhLmxvb3ApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbmV3IG1lZGlhIHNvdXJjZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0IC0gVGhlIG5ldyBzb3VyY2Ugb2JqZWN0IChzZWUgZG9jcylcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwic291cmNlXCIsXHJcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbnB1dCkge1xyXG4gICAgICBzb3VyY2UuY2hhbmdlLmNhbGwodGhpcywgaW5wdXQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY3VycmVudCBzb3VyY2VcclxuICAgICAqL1xyXG4gICAgLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm1lZGlhLmN1cnJlbnRTcmM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIGRvd25sb2FkIFVSTCAoZWl0aGVyIHNvdXJjZSBvciBjdXN0b20pXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImRvd25sb2FkXCIsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgdmFyIGRvd25sb2FkID0gdGhpcy5jb25maWcudXJscy5kb3dubG9hZDtcclxuICAgICAgcmV0dXJuIGlzJDEudXJsKGRvd25sb2FkKSA/IGRvd25sb2FkIDogdGhpcy5zb3VyY2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgZG93bmxvYWQgVVJMXHJcbiAgICAgKi9cclxuICAgICxcclxuICAgIHNldDogZnVuY3Rpb24gc2V0KGlucHV0KSB7XHJcbiAgICAgIGlmICghaXMkMS51cmwoaW5wdXQpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmNvbmZpZy51cmxzLmRvd25sb2FkID0gaW5wdXQ7XHJcbiAgICAgIGNvbnRyb2xzLnNldERvd25sb2FkVXJsLmNhbGwodGhpcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgcG9zdGVyIGltYWdlIGZvciBhIHZpZGVvXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgLSB0aGUgVVJMIGZvciB0aGUgbmV3IHBvc3RlciBpbWFnZVxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJwb3N0ZXJcIixcclxuICAgIHNldDogZnVuY3Rpb24gc2V0KGlucHV0KSB7XHJcbiAgICAgIGlmICghdGhpcy5pc1ZpZGVvKSB7XHJcbiAgICAgICAgdGhpcy5kZWJ1Zy53YXJuKCdQb3N0ZXIgY2FuIG9ubHkgYmUgc2V0IGZvciB2aWRlbycpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdWkuc2V0UG9zdGVyLmNhbGwodGhpcywgaW5wdXQsIGZhbHNlKS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgY3VycmVudCBwb3N0ZXIgaW1hZ2VcclxuICAgICAqL1xyXG4gICAgLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIGlmICghdGhpcy5pc1ZpZGVvKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzLm1lZGlhLmdldEF0dHJpYnV0ZSgncG9zdGVyJyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgY3VycmVudCBhc3BlY3QgcmF0aW8gaW4gdXNlXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcInJhdGlvXCIsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgaWYgKCF0aGlzLmlzVmlkZW8pIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHJhdGlvID0gcmVkdWNlQXNwZWN0UmF0aW8oZ2V0QXNwZWN0UmF0aW8uY2FsbCh0aGlzKSk7XHJcbiAgICAgIHJldHVybiBpcyQxLmFycmF5KHJhdGlvKSA/IHJhdGlvLmpvaW4oJzonKSA6IHJhdGlvO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdmlkZW8gYXNwZWN0IHJhdGlvXHJcbiAgICAgKi9cclxuICAgICxcclxuICAgIHNldDogZnVuY3Rpb24gc2V0KGlucHV0KSB7XHJcbiAgICAgIGlmICghdGhpcy5pc1ZpZGVvKSB7XHJcbiAgICAgICAgdGhpcy5kZWJ1Zy53YXJuKCdBc3BlY3QgcmF0aW8gY2FuIG9ubHkgYmUgc2V0IGZvciB2aWRlbycpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFpcyQxLnN0cmluZyhpbnB1dCkgfHwgIXZhbGlkYXRlUmF0aW8oaW5wdXQpKSB7XHJcbiAgICAgICAgdGhpcy5kZWJ1Zy5lcnJvcihcIkludmFsaWQgYXNwZWN0IHJhdGlvIHNwZWNpZmllZCAoXCIuY29uY2F0KGlucHV0LCBcIilcIikpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5jb25maWcucmF0aW8gPSBpbnB1dDtcclxuICAgICAgc2V0QXNwZWN0UmF0aW8uY2FsbCh0aGlzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBhdXRvcGxheSBzdGF0ZVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBpbnB1dCAtIFdoZXRoZXIgdG8gYXV0b3BsYXkgb3Igbm90XHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImF1dG9wbGF5XCIsXHJcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbnB1dCkge1xyXG4gICAgICB2YXIgdG9nZ2xlID0gaXMkMS5ib29sZWFuKGlucHV0KSA/IGlucHV0IDogdGhpcy5jb25maWcuYXV0b3BsYXk7XHJcbiAgICAgIHRoaXMuY29uZmlnLmF1dG9wbGF5ID0gdG9nZ2xlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgYXV0b3BsYXkgc3RhdGVcclxuICAgICAqL1xyXG4gICAgLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuY29uZmlnLmF1dG9wbGF5KTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiY3VycmVudFRyYWNrXCIsXHJcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbnB1dCkge1xyXG4gICAgICBjYXB0aW9ucy5zZXQuY2FsbCh0aGlzLCBpbnB1dCwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgY2FwdGlvbiB0cmFjayBpbmRleCAoLTEgaWYgZGlzYWJsZWQpXHJcbiAgICAgKi9cclxuICAgICxcclxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICB2YXIgX3RoaXMkY2FwdGlvbnMgPSB0aGlzLmNhcHRpb25zLFxyXG4gICAgICAgICAgdG9nZ2xlZCA9IF90aGlzJGNhcHRpb25zLnRvZ2dsZWQsXHJcbiAgICAgICAgICBjdXJyZW50VHJhY2sgPSBfdGhpcyRjYXB0aW9ucy5jdXJyZW50VHJhY2s7XHJcbiAgICAgIHJldHVybiB0b2dnbGVkID8gY3VycmVudFRyYWNrIDogLTE7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgd2FudGVkIGxhbmd1YWdlIGZvciBjYXB0aW9uc1xyXG4gICAgICogU2luY2UgdHJhY2tzIGNhbiBiZSBhZGRlZCBsYXRlciBpdCB3b24ndCB1cGRhdGUgdGhlIGFjdHVhbCBjYXB0aW9uIHRyYWNrIHVudGlsIHRoZXJlIGlzIGEgbWF0Y2hpbmcgdHJhY2tcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAtIFR3byBjaGFyYWN0ZXIgSVNPIGxhbmd1YWdlIGNvZGUgKGUuZy4gRU4sIEZSLCBQVCwgZXRjKVxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJsYW5ndWFnZVwiLFxyXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoaW5wdXQpIHtcclxuICAgICAgY2FwdGlvbnMuc2V0TGFuZ3VhZ2UuY2FsbCh0aGlzLCBpbnB1dCwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgdHJhY2sncyBsYW5ndWFnZVxyXG4gICAgICovXHJcbiAgICAsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgcmV0dXJuIChjYXB0aW9ucy5nZXRDdXJyZW50VHJhY2suY2FsbCh0aGlzKSB8fCB7fSkubGFuZ3VhZ2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZSBwaWN0dXJlLWluLXBpY3R1cmUgcGxheWJhY2sgb24gV2ViS2l0L01hY09TXHJcbiAgICAgKiBUT0RPOiB1cGRhdGUgcGxheWVyIHdpdGggc3RhdGUsIHN1cHBvcnQsIGVuYWJsZWRcclxuICAgICAqIFRPRE86IGRldGVjdCBvdXRzaWRlIGNoYW5nZXNcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwicGlwXCIsXHJcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbnB1dCkge1xyXG4gICAgICAvLyBCYWlsIGlmIG5vIHN1cHBvcnRcclxuICAgICAgaWYgKCFzdXBwb3J0LnBpcCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSAvLyBUb2dnbGUgYmFzZWQgb24gY3VycmVudCBzdGF0ZSBpZiBub3QgcGFzc2VkXHJcblxyXG5cclxuICAgICAgdmFyIHRvZ2dsZSA9IGlzJDEuYm9vbGVhbihpbnB1dCkgPyBpbnB1dCA6ICF0aGlzLnBpcDsgLy8gVG9nZ2xlIGJhc2VkIG9uIGN1cnJlbnQgc3RhdGVcclxuICAgICAgLy8gU2FmYXJpXHJcblxyXG4gICAgICBpZiAoaXMkMS5mdW5jdGlvbih0aGlzLm1lZGlhLndlYmtpdFNldFByZXNlbnRhdGlvbk1vZGUpKSB7XHJcbiAgICAgICAgdGhpcy5tZWRpYS53ZWJraXRTZXRQcmVzZW50YXRpb25Nb2RlKHRvZ2dsZSA/IHBpcC5hY3RpdmUgOiBwaXAuaW5hY3RpdmUpO1xyXG4gICAgICB9IC8vIENocm9tZVxyXG5cclxuXHJcbiAgICAgIGlmIChpcyQxLmZ1bmN0aW9uKHRoaXMubWVkaWEucmVxdWVzdFBpY3R1cmVJblBpY3R1cmUpKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBpcCAmJiB0b2dnbGUpIHtcclxuICAgICAgICAgIHRoaXMubWVkaWEucmVxdWVzdFBpY3R1cmVJblBpY3R1cmUoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGlwICYmICF0b2dnbGUpIHtcclxuICAgICAgICAgIGRvY3VtZW50LmV4aXRQaWN0dXJlSW5QaWN0dXJlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgY3VycmVudCBwaWN0dXJlLWluLXBpY3R1cmUgc3RhdGVcclxuICAgICAqL1xyXG4gICAgLFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgIGlmICghc3VwcG9ydC5waXApIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfSAvLyBTYWZhcmlcclxuXHJcblxyXG4gICAgICBpZiAoIWlzJDEuZW1wdHkodGhpcy5tZWRpYS53ZWJraXRQcmVzZW50YXRpb25Nb2RlKSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhLndlYmtpdFByZXNlbnRhdGlvbk1vZGUgPT09IHBpcC5hY3RpdmU7XHJcbiAgICAgIH0gLy8gQ2hyb21lXHJcblxyXG5cclxuICAgICAgcmV0dXJuIHRoaXMubWVkaWEgPT09IGRvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbGVtZW50O1xyXG4gICAgfVxyXG4gIH1dLCBbe1xyXG4gICAga2V5OiBcInN1cHBvcnRlZFwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1cHBvcnRlZCh0eXBlLCBwcm92aWRlciwgaW5saW5lKSB7XHJcbiAgICAgIHJldHVybiBzdXBwb3J0LmNoZWNrKHR5cGUsIHByb3ZpZGVyLCBpbmxpbmUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIGFuIFNWRyBzcHJpdGUgaW50byB0aGUgcGFnZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIFVSTCBmb3IgdGhlIFNWRyBzcHJpdGVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbaWRdIC0gVW5pcXVlIElEXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiBcImxvYWRTcHJpdGVcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkU3ByaXRlJDEodXJsLCBpZCkge1xyXG4gICAgICByZXR1cm4gbG9hZFNwcml0ZSh1cmwsIGlkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0dXAgbXVsdGlwbGUgaW5zdGFuY2VzXHJcbiAgICAgKiBAcGFyYW0geyp9IHNlbGVjdG9yXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogXCJzZXR1cFwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwKHNlbGVjdG9yKSB7XHJcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcclxuICAgICAgdmFyIHRhcmdldHMgPSBudWxsO1xyXG5cclxuICAgICAgaWYgKGlzJDEuc3RyaW5nKHNlbGVjdG9yKSkge1xyXG4gICAgICAgIHRhcmdldHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcclxuICAgICAgfSBlbHNlIGlmIChpcyQxLm5vZGVMaXN0KHNlbGVjdG9yKSkge1xyXG4gICAgICAgIHRhcmdldHMgPSBBcnJheS5mcm9tKHNlbGVjdG9yKTtcclxuICAgICAgfSBlbHNlIGlmIChpcyQxLmFycmF5KHNlbGVjdG9yKSkge1xyXG4gICAgICAgIHRhcmdldHMgPSBzZWxlY3Rvci5maWx0ZXIoaXMkMS5lbGVtZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzJDEuZW1wdHkodGFyZ2V0cykpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRhcmdldHMubWFwKGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQbHlyKHQsIG9wdGlvbnMpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XSk7XHJcblxyXG4gIHJldHVybiBQbHlyO1xyXG59KCk7XHJcblxyXG5QbHlyLmRlZmF1bHRzID0gY2xvbmVEZWVwKGRlZmF1bHRzJDEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGx5cjtcclxuIl19
