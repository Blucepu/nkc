(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
/*! web-highlighter v0.5.0 https://github.com/alienzhou/web-highlighter */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Highlighter=t():e.Highlighter=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.none="none",e.head="head",e.tail="tail",e.both="both"}(t.SplitType||(t.SplitType={})),function(e){e.DOM_TYPE_ERROR="[DOM] Receive wrong node type.",e.DOM_SELECTION_EMPTY="[DOM] The selection contains no dom node, may be you except them.",e.RANGE_INVALID="[RANGE] Got invalid dom range, can't convert to a valid highlight range.",e.RANGE_NODE_INVALID="[RANGE] Start or end node isn't a text node, it may occur an error.",e.DB_ID_DUPLICATE_ERROR="[STORE] Unique id conflict.",e.CACHE_SET_ERROR="[CACHE] Cache.data can't be set manually, please use .save().",e.SOURCE_TYPE_ERROR="[SOURCE] Object isn't a highlight source instance.",e.HIGHLIGHT_RANGE_FROZEN="[HIGHLIGHT_RANGE] A highlight range must be frozen before render.",e.HIGHLIGHT_SOURCE_NONE_RENDER="[HIGHLIGHT_SOURCE] This highlight source isn't rendered. May be the exception skips it or the dom structure has changed."}(t.ERROR||(t.ERROR={})),function(e){e.CREATE="selection:create",e.REMOVE="selection:remove",e.MODIFY="selection:modify",e.HOVER="selection:hover",e.HOVER_OUT="selection:hover-out",e.CLICK="selection:click"}(t.EventType||(t.EventType={})),function(e){e.text="text",e.span="span"}(t.SelectedNodeType||(t.SelectedNodeType={})),function(e){e.touchend="touchend",e.mouseup="mouseup",e.touchstart="touchstart",e.click="click",e.mouseover="mouseover"}(t.UserInputEvent||(t.UserInputEvent={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13);t.ID_DIVISION=";",t.LOCAL_STORE_KEY="highlight-mengshou",t.STYLESHEET_ID="highlight-mengshou-style",t.DATASET_IDENTIFIER="highlight-id",t.DATASET_IDENTIFIER_EXTRA="highlight-id-extra",t.DATASET_SPLIT_TYPE="highlight-split-type",t.CAMEL_DATASET_IDENTIFIER=r.default(t.DATASET_IDENTIFIER),t.CAMEL_DATASET_IDENTIFIER_EXTRA=r.default(t.DATASET_IDENTIFIER_EXTRA),t.CAMEL_DATASET_SPLIT_TYPE=r.default(t.DATASET_SPLIT_TYPE);t.DEFAULT_OPTIONS={$root:window.document||window.document.documentElement,exceptSelectors:null,wrapTag:"span",style:{className:"highlight-mengshou-wrap"}};var o=t.DEFAULT_OPTIONS.style;t.STYLESHEET_TEXT="\n    ."+o.className+" {\n        background: #ff9;\n        cursor: pointer;\n    }\n    ."+o.className+".active {\n        background: #ffb;\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=n(10),i=function(){function e(e,t,n,r,o){this.startMeta=e,this.endMeta=t,this.text=n,this.id=r,this.__isHighlightSource={},o&&(this.extra=o)}return e.prototype.deSerialize=function(e){var t=o.queryElementNode(this,e),n=t.start,i=t.end,a=o.getTextChildByOffset(n,this.startMeta.textOffset),s=o.getTextChildByOffset(i,this.endMeta.textOffset);return new r.default(a,s,this.text,this.id,!0)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.isHighlightWrapNode=function(e){return!!e.dataset&&!!e.dataset[r.CAMEL_DATASET_IDENTIFIER]},t.getHighlightId=function(e){return t.isHighlightWrapNode(e)?e.dataset[r.CAMEL_DATASET_IDENTIFIER]:""},t.getHighlightsByRoot=function(e,t){Array.isArray(e)||(e=[e]);for(var n=[],o=0;o<e.length;o++){var i=e[o].querySelectorAll(t+"[data-"+r.DATASET_IDENTIFIER+"]");n.push.apply(n,i)}return n},t.getHighlightById=function(e,t,n){for(var o=[],i=new RegExp("("+t+"\\"+r.ID_DIVISION+"|\\"+r.ID_DIVISION+"?"+t+"$)"),a=e.querySelectorAll(n+"[data-"+r.DATASET_IDENTIFIER+"]"),s=0;s<a.length;s++){var u=a[s];if(u.dataset[r.CAMEL_DATASET_IDENTIFIER]!==t){var l=u.dataset[r.CAMEL_DATASET_IDENTIFIER_EXTRA];i.test(l)&&o.push(u)}else o.push(u)}return o},t.forEach=function(e,t){for(var n=0;n<e.length;n++)t(e[n],n,e)},t.addEventListener=function(e,n,r){return e.addEventListener(n,r),function(){return t.removeEventListener(e,n,r)}},t.removeEventListener=function(e,t,n){e.removeEventListener(t,n)},t.addClass=function(e,t){e.classList.add(t)},t.removeClass=function(e,t){e.classList.remove(t)},t.hasClass=function(e,t){return e.classList.contains(t)}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.handlersMap=Object.create(null)}return e.prototype.on=function(e,t){return this.handlersMap[e]||(this.handlersMap[e]=[]),this.handlersMap[e].push(t),this},e.prototype.off=function(e,t){return this.handlersMap[e]&&this.handlersMap[e].splice(this.handlersMap[e].indexOf(t)>>>0,1),this},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.handlersMap[e]&&this.handlersMap[e].slice().forEach((function(e){return e.apply(void 0,o(t))})),this},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(0),i=n(11),a=n(6),s=n(12),u=function(){function e(e,t,n,r,i){void 0===i&&(i=!1),3===e.$node.nodeType&&3===t.$node.nodeType||console.warn(o.ERROR.RANGE_NODE_INVALID),this.start=e,this.end=t,this.text=n,this.frozen=i,this.id=r}return e.fromSelection=function(t){var n=i.getDomRange();if(!n)return null;var r={$node:n.startContainer,offset:n.startOffset},o={$node:n.endContainer,offset:n.endOffset},s=n.toString(),u=t.call(r,o,s);return new e(r,o,s,u=null!=u?u:a.default())},e.prototype.serialize=function(e,t){var n,o=s.getDomMeta(this.start.$node,this.start.offset,e),i=s.getDomMeta(this.end.$node,this.end.offset,e);return t.Serialize.RecordInfo.isEmpty()||(n=t.Serialize.RecordInfo.call(this.start,this.end,e)),this.frozen=!0,new r.default(o,i,this.text,this.id,n)},e.removeDomRange=i.removeSelection,e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}},function(e,t,n){e.exports=n(8)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),n(9);var a=n(4),s=n(5),u=n(2),l=n(6),d=n(14),c=n(15),f=n(17),p=n(18),h=n(1),E=n(0),T=n(3),v=function(e){function t(t){var n=e.call(this)||this;n._getHooks=function(){return{Render:{UUID:new d.default("Render.UUID"),SelectedNodes:new d.default("Render.SelectedNodes"),WrapNode:new d.default("Render.WrapNode")},Serialize:{RecordInfo:new d.default("Serialize.RecordInfo")},Remove:{UpdateNodes:new d.default("Remove.UpdateNodes")}}},n._highlighFromHRange=function(e){var t=e.serialize(n.options.$root,n.hooks);return 0===n.painter.highlightRange(e).length?(console.warn(E.ERROR.DOM_SELECTION_EMPTY),null):(n.cache.save(t),n.emit(E.EventType.CREATE,{sources:[t],type:"from-input"},n),t)},n._handleSelection=function(e){var t=s.default.fromSelection(n.hooks.Render.UUID);t&&(n._highlighFromHRange(t),s.default.removeDomRange())},n._handleHighlightHover=function(e){var t=e.target;if(!T.isHighlightWrapNode(t))return n._hoverId&&n.emit(E.EventType.HOVER_OUT,{id:n._hoverId},n,e),void(n._hoverId=null);var r=T.getHighlightId(t);n._hoverId!==r&&(n._hoverId&&n.emit(E.EventType.HOVER_OUT,{id:n._hoverId},n,e),n._hoverId=r,n.emit(E.EventType.HOVER,{id:n._hoverId},n,e))},n._handleHighlightClick=function(e){var t=e.target;if(T.isHighlightWrapNode(t)){var r=T.getHighlightId(t);n.emit(E.EventType.CLICK,{id:r},n,e)}},n.run=function(){return T.addEventListener(n.options.$root,c.default.PointerEnd,n._handleSelection)},n.stop=function(){return T.removeEventListener(n.options.$root,c.default.PointerEnd,n._handleSelection)},n.addClass=function(e,t){return n.getDoms(t).forEach((function(t){return T.addClass(t,e)}))},n.removeClass=function(e,t){return n.getDoms(t).forEach((function(t){return T.removeClass(t,e)}))},n.getIdByDom=function(e){return T.getHighlightId(e)},n.getDoms=function(e){return e?T.getHighlightById(n.options.$root,e,n.options.wrapTag):T.getHighlightsByRoot(n.options.$root,n.options.wrapTag)},n.dispose=function(){var e=n.options.$root;T.removeEventListener(e,c.default.PointerOver,n._handleHighlightHover),T.removeEventListener(e,c.default.PointerEnd,n._handleSelection),T.removeEventListener(e,c.default.PointerTap,n._handleHighlightClick),n.removeAll()},n.setOption=function(e){n.options=i(i({},n.options),e),n.painter=new p.default({$root:n.options.$root,wrapTag:n.options.wrapTag,className:n.options.style.className,exceptSelectors:n.options.exceptSelectors},n.hooks)},n.fromRange=function(e){var t={$node:e.startContainer,offset:e.startOffset},r={$node:e.endContainer,offset:e.endOffset},o=e.toString(),i=n.hooks.Render.UUID.call(t,r,o);i=null!=i?i:l.default();var a=new s.default(t,r,o,i);return a?n._highlighFromHRange(a):(console.warn(E.ERROR.RANGE_INVALID),null)},n.fromStore=function(e,t,r,o){try{var i=new u.default(e,t,r,o);return n._highlighFromHSource(i),i}catch(n){return console.error(n,o,r,e,t),null}},n.options=h.DEFAULT_OPTIONS,n.hooks=n._getHooks(),n.setOption(t),n.cache=new f.default;var r=n.options.$root;return T.addEventListener(r,c.default.PointerOver,n._handleHighlightHover),T.addEventListener(r,c.default.PointerTap,n._handleHighlightClick),n}return o(t,e),t.prototype._highlighFromHSource=function(e){void 0===e&&(e=[]);var t=this.painter.highlightSource(e);this.emit(E.EventType.CREATE,{sources:t,type:"from-store"},this),this.cache.save(e)},t.prototype.remove=function(e){e&&(this.painter.removeHighlight(e),this.cache.remove(e),this.emit(E.EventType.REMOVE,{ids:[e]},this))},t.prototype.removeAll=function(){this.painter.removeAllHighlight();var e=this.cache.removeAll();this.emit(E.EventType.REMOVE,{ids:e},this)},t.event=E.EventType,t}(a.default);t.default=v},function(e,t){!function(){if(!(document.documentElement.dataset||Object.getOwnPropertyDescriptor(HTMLElement.prototype,"dataset")&&Object.getOwnPropertyDescriptor(HTMLElement.prototype,"dataset").get)){var e={enumerable:!0,get:function(){var t={},n=this.attributes;function r(e){return e.charAt(1).toUpperCase()}function o(){return this.value}function i(e,t){void 0!==t?this.setAttribute(e,t):this.removeAttribute(e)}for(var a=0;a<n.length;a++){var s=n[a];if(s&&s.name&&/^data-\w[\w-]*$/.test(s.name)){var u=s.name,l=s.value,d=u.substr(5).replace(/-./g,r);Object.defineProperty(t,d,{enumerable:e.enumerable,get:o.bind({value:l||""}),set:i.bind(this,u)})}}return t}};Object.defineProperty(HTMLElement.prototype,"dataset",e)}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTextChildByOffset=function(e,t){for(var n=[e],r=null,o=0,i=0;r=n.pop();){for(var a=r.childNodes,s=a.length-1;s>=0;s--)n.push(a[s]);if(3===r.nodeType&&(i=t-o,(o+=r.textContent.length)>=t))break}return r||(r=e),{$node:r,offset:i}},t.queryElementNode=function(e,t){return{start:t.getElementsByTagName(e.startMeta.parentTagName)[e.startMeta.parentIndex],end:t.getElementsByTagName(e.endMeta.parentTagName)[e.endMeta.parentIndex]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomRange=function(){var e=window.getSelection();return e.isCollapsed?(console.debug("no text selected"),null):e.getRangeAt(0)},t.removeSelection=function(){window.getSelection().removeAllRanges()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.getDomMeta=function(e,t,n){var o=function(e){if(e instanceof HTMLElement&&(!e.dataset||!e.dataset[r.CAMEL_DATASET_IDENTIFIER]))return e;for(var t=e.parentNode;t.dataset&&t.dataset[r.CAMEL_DATASET_IDENTIFIER];)t=t.parentNode;return t}(e),i=function(e,t){for(var n=e.tagName,r=t.getElementsByTagName(n),o=0;o<r.length;o++)if(e===r[o])return o;return-1}(o,n),a=function(e,t){for(var n=[e],r=null,o=0;r=n.pop();){for(var i=r.childNodes,a=i.length-1;a>=0;a--)n.push(i[a]);if(3===r.nodeType&&r!==t)o+=r.textContent.length;else if(3===r.nodeType)break}return o}(o,e);return{parentTagName:o.tagName,parentIndex:i,textOffset:a+t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.split("-").reduce((function(e,t,n){return e+(0===n?t:t[0].toUpperCase()+t.slice(1))}),"")}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.name="",this.ops=[],this.name=e}return e.prototype.tap=function(e){return this.ops.push(e),this},e.prototype.isEmpty=function(){return 0===this.ops.length},e.prototype.call=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.ops.reduce((function(t,n){return n.apply(void 0,o(e))}),null)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(16).default(window.navigator.userAgent),i={PointerEnd:o?r.UserInputEvent.touchend:r.UserInputEvent.mouseup,PointerTap:o?r.UserInputEvent.touchstart:r.UserInputEvent.click,PointerOver:o?r.UserInputEvent.touchstart:r.UserInputEvent.mouseover};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/Android|iPhone|BlackBerry|BB10|Opera Mini|Phone|Mobile|Silk|Windows Phone|Mobile(?:.+)Firefox\b/i;t.default=function(e){return r.test(e)}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=n(0),u=function(e){function t(){var t=e.call(this)||this;return t._data=new Map,t}return o(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.getAll()},set:function(e){throw s.ERROR.CACHE_SET_ERROR},enumerable:!0,configurable:!0}),t.prototype.save=function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t._data.set(e.id,e)})):this._data.set(e.id,e)},t.prototype.get=function(e){return this._data.get(e)},t.prototype.remove=function(e){this._data.delete(e)},t.prototype.getAll=function(){var e,t,n=[];this._data=new Map;try{for(var r=i(this._data),o=r.next();!o.done;o=r.next()){var a=o.value;n.push(a[1])}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},t.prototype.removeAll=function(){var e,t,n=[];try{for(var r=i(this._data),o=r.next();!o.done;o=r.next()){var a=o.value;n.push(a[0])}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return this._data=new Map,n},t}(a.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(19),i=n(3),a=n(0),s=n(20),u=n(1),l=function(){function e(e,t){this.options={$root:e.$root,wrapTag:e.wrapTag,exceptSelectors:e.exceptSelectors,className:e.className},this.hooks=t,s.initDefaultStylesheet()}return e.prototype.highlightRange=function(e){var t=this;if(!e.frozen)throw a.ERROR.HIGHLIGHT_RANGE_FROZEN;var n=this.options,r=n.$root,i=n.className,s=n.exceptSelectors,u=this.hooks,l=o.getSelectedNodes(r,e.start,e.end,s);return u.Render.SelectedNodes.isEmpty()||(l=u.Render.SelectedNodes.call(e.id,l)),l.map((function(n){var r=o.wrapHighlight(n,e,i,t.options.wrapTag);return u.Render.WrapNode.isEmpty()||(r=u.Render.WrapNode.call(e.id,r)),r}))},e.prototype.highlightSource=function(e){var t=this,n=Array.isArray(e)?e:[e],o=[];return n.forEach((function(e){if(e instanceof r.default){var n=e.deSerialize(t.options.$root);t.highlightRange(n).length>0?o.push(e):console.warn(a.ERROR.HIGHLIGHT_SOURCE_NONE_RENDER,e)}else console.error(a.ERROR.SOURCE_TYPE_ERROR)})),o},e.prototype.removeHighlight=function(e){for(var t=new RegExp("("+e+"\\"+u.ID_DIVISION+"|\\"+u.ID_DIVISION+"?"+e+"$)"),n=this.hooks,r=this.options.wrapTag,a=document.querySelectorAll(r+"[data-"+u.DATASET_IDENTIFIER+"]"),s=[],l=[],d=[],c=0;c<a.length;c++){var f=a[c].dataset[u.CAMEL_DATASET_IDENTIFIER],p=a[c].dataset[u.CAMEL_DATASET_IDENTIFIER_EXTRA];f!==e||p?f===e?l.push(a[c]):f!==e&&t.test(p)&&d.push(a[c]):s.push(a[c])}s.forEach((function(t){var r=t.parentNode,a=document.createDocumentFragment();i.forEach(t.childNodes,(function(e){return a.appendChild(e.cloneNode(!1))}));var s=t.previousSibling,u=t.nextSibling;r.replaceChild(a,t),o.normalizeSiblingText(s,!0),o.normalizeSiblingText(u,!1),n.Remove.UpdateNodes.call(e,t,"remove")})),l.forEach((function(t){var r=t.dataset,o=r[u.CAMEL_DATASET_IDENTIFIER_EXTRA].split(u.ID_DIVISION);r[u.CAMEL_DATASET_IDENTIFIER]=o.shift(),r[u.CAMEL_DATASET_IDENTIFIER_EXTRA]=o.join(u.ID_DIVISION),n.Remove.UpdateNodes.call(e,t,"id-update")})),d.forEach((function(r){var o=r.dataset[u.CAMEL_DATASET_IDENTIFIER_EXTRA];r.dataset[u.CAMEL_DATASET_IDENTIFIER_EXTRA]=o.replace(t,""),n.Remove.UpdateNodes.call(e,r,"extra-update")}))},e.prototype.removeAllHighlight=function(){var e=this.options,t=e.wrapTag,n=e.$root;i.getHighlightsByRoot(n,t).forEach((function(e){var t=e.parentNode,n=document.createDocumentFragment();i.forEach(e.childNodes,(function(e){return n.appendChild(e.cloneNode(!1))})),t.replaceChild(n,e)}))},e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=n(1),a=function(e,t){if(!e)return!1;if(/^\./.test(t)){var n=t.replace(/^\./,"");return e&&o.hasClass(e,n)}if(/^#/.test(t)){var r=t.replace(/^#/,"");return e&&e.id===r}var i=t.toUpperCase();return e&&e.tagName===i};function s(e,t){var n=Array.isArray(t)?t:[t];return(n=0===n.length?[i.DEFAULT_OPTIONS.style.className]:n).forEach((function(t){return o.addClass(e,t)})),e}t.getSelectedNodes=function(e,t,n,o){var i=t.$node,s=n.$node,u=t.offset,l=n.offset;if(i===s&&i instanceof Text)return function(e,t,n,o){for(var i=e;i;){if(1===i.nodeType&&o&&o.some((function(e){return a(i,e)})))return[];i=i.parentNode}e.splitText(t);var s=e.nextSibling;return s.splitText(n-t),[{$node:s,type:r.SelectedNodeType.text,splitType:r.SplitType.both}]}(i,u,l,o);for(var d=[e],c=[],f=!1,p=null;p=d.pop();)if(1!==p.nodeType||!o||!o.some((function(e){return a(p,e)}))){for(var h=p.childNodes,E=h.length-1;E>=0;E--)d.push(h[E]);if(p===i){if(3===p.nodeType){p.splitText(u);var T=p.nextSibling;c.push({$node:T,type:r.SelectedNodeType.text,splitType:r.SplitType.head})}f=!0}else{if(p===s){if(3===p.nodeType)(T=p).splitText(l),c.push({$node:T,type:r.SelectedNodeType.text,splitType:r.SplitType.tail});break}f&&3===p.nodeType&&c.push({$node:p,type:r.SelectedNodeType.text,splitType:r.SplitType.none})}}return c},t.wrapHighlight=function(e,t,n,a){var u=e.$node.parentNode,l=e.$node.previousSibling,d=e.$node.nextSibling;return o.isHighlightWrapNode(u)?o.isHighlightWrapNode(u)&&(l||d)?function(e,t,n,o){var a=document.createElement(o),u=e.$node.parentNode,l=e.$node.previousSibling,d=e.$node.nextSibling,c=document.createDocumentFragment(),f=u.dataset[i.CAMEL_DATASET_IDENTIFIER],p=u.dataset[i.CAMEL_DATASET_IDENTIFIER_EXTRA],h=p?f+i.ID_DIVISION+p:f;a.setAttribute("data-"+i.DATASET_IDENTIFIER,t.id),a.setAttribute("data-"+i.DATASET_IDENTIFIER_EXTRA,h),a.appendChild(e.$node.cloneNode(!1));var E,T,v=!1,_=!1;return l&&((T=u.cloneNode(!1)).textContent=l.textContent,c.appendChild(T),v=!0),s(a,n),c.appendChild(a),d&&((T=u.cloneNode(!1)).textContent=d.textContent,c.appendChild(T),_=!0),E=v&&_?r.SplitType.both:v?r.SplitType.head:_?r.SplitType.tail:r.SplitType.none,a.setAttribute("data-"+i.DATASET_SPLIT_TYPE,E),u.parentNode.replaceChild(c,u),a}(e,t,n,a):function(e,t,n){var r=e.$node.parentNode,o=r;s(o,n);var a=r.dataset,u=a[i.CAMEL_DATASET_IDENTIFIER];return a[i.CAMEL_DATASET_IDENTIFIER]=t.id,a[i.CAMEL_DATASET_IDENTIFIER_EXTRA]=a[i.CAMEL_DATASET_IDENTIFIER_EXTRA]?u+i.ID_DIVISION+a[i.CAMEL_DATASET_IDENTIFIER_EXTRA]:u,o}(e,t,n):function(e,t,n,r){var o;return s(o=document.createElement(r),n),o.appendChild(e.$node.cloneNode(!1)),e.$node.parentNode.replaceChild(o,e.$node),o.setAttribute("data-"+i.DATASET_IDENTIFIER,t.id),o.setAttribute("data-"+i.DATASET_SPLIT_TYPE,e.splitType),o.setAttribute("data-"+i.DATASET_IDENTIFIER_EXTRA,""),o}(e,t,n,a)},t.normalizeSiblingText=function(e,t){if(void 0===t&&(t=!0),e&&3===e.nodeType){var n=t?e.nextSibling:e.previousSibling;if(3===n.nodeType){var r=n.nodeValue;e.nodeValue=t?e.nodeValue+r:r+e.nodeValue,n.parentNode.removeChild(n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.initDefaultStylesheet=function(){var e=r.STYLESHEET_ID,t=document.getElementById(e);if(!t){var n=document.createTextNode(r.STYLESHEET_TEXT);(t=document.createElement("style")).id=this.styleId,t.appendChild(n),document.head.appendChild(t)}return t}}]).default}));

},{}],2:[function(require,module,exports){
"use strict";

var _webHighlighter = _interopRequireDefault(require("web-highlighter"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

window.noteApp = new Vue({
  el: "#modulePostNotes",
  data: {
    notes: [],
    hl: ""
  },
  mounted: function mounted() {
    this.initHighLighter();
  },
  computed: {
    notesObj: function notesObj() {
      var obj = {};
      this.notes.map(function (n) {
        obj[n.id] = n;
      });
      return obj;
    },
    notesOrder: function notesOrder() {
      var notes = this.notes;
    }
  },
  methods: {
    initHighLighter: function initHighLighter() {
      this.hl = new _webHighlighter["default"]({
        exceptSelectors: ["code", "pre"]
      });
      this.hl.on(_webHighlighter["default"].event.CREATE, this.onCreate);
      this.hl.on(_webHighlighter["default"].event.CLICK, this.onClick);
      this.hl.on(_webHighlighter["default"].event.HOVER, this.onHover);
      this.hl.on(_webHighlighter["default"].event.HOVER_OUT, this.onHoverOut);
      this.hl.run();
    },
    resetPanel: function resetPanel() {
      var notes_ = this.notes;
      this.notes.map(function (n) {
        return n.active = false;
      });
    },
    onCreate: function onCreate(data) {
      console.log("创建：");
      console.log(data);
      var self = this;
      var id = data.sources[0].id;
      var dom = this.hl.getDoms(id)[0];
      dom = $(dom);
      var btn = $("<i data-post-node-id='".concat(id, "'>\u6DFB\u52A0\u6279\u6CE8</i>"));
      dom.append(btn);
      btn.on("click", function () {});
      /* this.resetPanel();
      data.sources.map(node => {
        const {id} = node;
        self.notes.push({
          id,
          active: true,
          node,
          comment: ""
        });
      });
      console.log(self.notes); */
    },
    removeNode: function removeNode(n) {
      var id = n.id;
      var hl = this.hl,
          notes = this.notes;
      var index = notes.indexOf(n);
      hl.remove(id);
      notes.splice(index, 1);
    },
    editNode: function editNode(n) {
      this.resetPanel();
      n.active = true;
    },
    onClick: function onClick(_ref) {
      var id = _ref.id;
      console.log("点击：");
      console.log(id);
      var notesObj = this.notesObj,
          notes = this.notes;
      this.resetPanel();
      notesObj[id].active = true;
    },
    onHover: function onHover(_ref2) {
      var id = _ref2.id;
      this.hl.addClass('highlight-wrap-hover', id);
    },
    onHoverOut: function onHoverOut(_ref3) {
      var id = _ref3.id;
      this.hl.removeClass('highlight-wrap-hover', id);
    }
  }
}); // 2. 从后端获取高亮信息，还原至网页
// getRemoteData().then(s => highlighter.fromStore(s.startMeta, s.endMeta, s.id, s.text));

},{"web-highlighter":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9fYnJvd3Nlci1wYWNrQDYuMS4wQGJyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIm5vZGVfbW9kdWxlcy9fd2ViLWhpZ2hsaWdodGVyQDAuNS4wQHdlYi1oaWdobGlnaHRlci9kaXN0L3dlYi1oaWdobGlnaHRlci5taW4uanMiLCJwYWdlcy9wdWJsaWNNb2R1bGVzL3Bvc3ROb3Rlcy9wb3N0Tm90ZXMubWpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBOzs7O0FDRkE7Ozs7QUFFQSxNQUFNLENBQUMsT0FBUCxHQUFpQixJQUFJLEdBQUosQ0FBUTtBQUN2QixFQUFBLEVBQUUsRUFBRSxrQkFEbUI7QUFFdkIsRUFBQSxJQUFJLEVBQUU7QUFDSixJQUFBLEtBQUssRUFBRSxFQURIO0FBRUosSUFBQSxFQUFFLEVBQUU7QUFGQSxHQUZpQjtBQU12QixFQUFBLE9BTnVCLHFCQU1iO0FBQ1IsU0FBSyxlQUFMO0FBQ0QsR0FSc0I7QUFTdkIsRUFBQSxRQUFRLEVBQUU7QUFDUixJQUFBLFFBRFEsc0JBQ0c7QUFDVCxVQUFNLEdBQUcsR0FBRyxFQUFaO0FBQ0EsV0FBSyxLQUFMLENBQVcsR0FBWCxDQUFlLFVBQUEsQ0FBQyxFQUFJO0FBQ2xCLFFBQUEsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFILENBQUgsR0FBWSxDQUFaO0FBQ0QsT0FGRDtBQUdBLGFBQU8sR0FBUDtBQUNELEtBUE87QUFRUixJQUFBLFVBUlEsd0JBUUs7QUFBQSxVQUNKLEtBREksR0FDSyxJQURMLENBQ0osS0FESTtBQUdaO0FBWE8sR0FUYTtBQXNCdkIsRUFBQSxPQUFPLEVBQUU7QUFDUCxJQUFBLGVBRE8sNkJBQ1c7QUFDaEIsV0FBSyxFQUFMLEdBQVUsSUFBSSwwQkFBSixDQUFnQjtBQUN4QixRQUFBLGVBQWUsRUFBRSxDQUFDLE1BQUQsRUFBUyxLQUFUO0FBRE8sT0FBaEIsQ0FBVjtBQUdBLFdBQUssRUFBTCxDQUFRLEVBQVIsQ0FBVywyQkFBWSxLQUFaLENBQWtCLE1BQTdCLEVBQXFDLEtBQUssUUFBMUM7QUFDQSxXQUFLLEVBQUwsQ0FBUSxFQUFSLENBQVcsMkJBQVksS0FBWixDQUFrQixLQUE3QixFQUFvQyxLQUFLLE9BQXpDO0FBQ0EsV0FBSyxFQUFMLENBQVEsRUFBUixDQUFXLDJCQUFZLEtBQVosQ0FBa0IsS0FBN0IsRUFBb0MsS0FBSyxPQUF6QztBQUNBLFdBQUssRUFBTCxDQUFRLEVBQVIsQ0FBVywyQkFBWSxLQUFaLENBQWtCLFNBQTdCLEVBQXdDLEtBQUssVUFBN0M7QUFDQSxXQUFLLEVBQUwsQ0FBUSxHQUFSO0FBQ0QsS0FWTTtBQVdQLElBQUEsVUFYTyx3QkFXTTtBQUNYLFVBQU0sTUFBTSxHQUFHLEtBQUssS0FBcEI7QUFDQSxXQUFLLEtBQUwsQ0FBVyxHQUFYLENBQWUsVUFBQSxDQUFDO0FBQUEsZUFBSSxDQUFDLENBQUMsTUFBRixHQUFXLEtBQWY7QUFBQSxPQUFoQjtBQUNELEtBZE07QUFlUCxJQUFBLFFBZk8sb0JBZUUsSUFmRixFQWVRO0FBQ2IsTUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLEtBQVo7QUFDQSxNQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksSUFBWjtBQUNBLFVBQU0sSUFBSSxHQUFHLElBQWI7QUFDQSxVQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsT0FBTCxDQUFhLENBQWIsRUFBZ0IsRUFBM0I7QUFDQSxVQUFJLEdBQUcsR0FBRyxLQUFLLEVBQUwsQ0FBUSxPQUFSLENBQWdCLEVBQWhCLEVBQW9CLENBQXBCLENBQVY7QUFDQSxNQUFBLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRCxDQUFQO0FBQ0EsVUFBTSxHQUFHLEdBQUcsQ0FBQyxpQ0FBMEIsRUFBMUIsb0NBQWI7QUFDQSxNQUFBLEdBQUcsQ0FBQyxNQUFKLENBQVcsR0FBWDtBQUNBLE1BQUEsR0FBRyxDQUFDLEVBQUosQ0FBTyxPQUFQLEVBQWdCLFlBQVcsQ0FFMUIsQ0FGRDtBQUdBOzs7Ozs7Ozs7OztBQVdELEtBdENNO0FBdUNQLElBQUEsVUF2Q08sc0JBdUNJLENBdkNKLEVBdUNPO0FBQUEsVUFDTCxFQURLLEdBQ0MsQ0FERCxDQUNMLEVBREs7QUFBQSxVQUVMLEVBRkssR0FFUSxJQUZSLENBRUwsRUFGSztBQUFBLFVBRUQsS0FGQyxHQUVRLElBRlIsQ0FFRCxLQUZDO0FBR1osVUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU4sQ0FBYyxDQUFkLENBQWQ7QUFDQSxNQUFBLEVBQUUsQ0FBQyxNQUFILENBQVUsRUFBVjtBQUNBLE1BQUEsS0FBSyxDQUFDLE1BQU4sQ0FBYSxLQUFiLEVBQW9CLENBQXBCO0FBQ0QsS0E3Q007QUE4Q1AsSUFBQSxRQTlDTyxvQkE4Q0UsQ0E5Q0YsRUE4Q0s7QUFDVixXQUFLLFVBQUw7QUFDQSxNQUFBLENBQUMsQ0FBQyxNQUFGLEdBQVcsSUFBWDtBQUNELEtBakRNO0FBa0RQLElBQUEsT0FsRE8seUJBa0RPO0FBQUEsVUFBTCxFQUFLLFFBQUwsRUFBSztBQUNaLE1BQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxLQUFaO0FBQ0EsTUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLEVBQVo7QUFGWSxVQUdMLFFBSEssR0FHYyxJQUhkLENBR0wsUUFISztBQUFBLFVBR0ssS0FITCxHQUdjLElBSGQsQ0FHSyxLQUhMO0FBSVosV0FBSyxVQUFMO0FBQ0EsTUFBQSxRQUFRLENBQUMsRUFBRCxDQUFSLENBQWEsTUFBYixHQUFzQixJQUF0QjtBQUNELEtBeERNO0FBeURQLElBQUEsT0F6RE8sMEJBeURPO0FBQUEsVUFBTCxFQUFLLFNBQUwsRUFBSztBQUNaLFdBQUssRUFBTCxDQUFRLFFBQVIsQ0FBaUIsc0JBQWpCLEVBQXlDLEVBQXpDO0FBQ0QsS0EzRE07QUE0RFAsSUFBQSxVQTVETyw2QkE0RFU7QUFBQSxVQUFMLEVBQUssU0FBTCxFQUFLO0FBQ2YsV0FBSyxFQUFMLENBQVEsV0FBUixDQUFvQixzQkFBcEIsRUFBNEMsRUFBNUM7QUFDRDtBQTlETTtBQXRCYyxDQUFSLENBQWpCLEMsQ0F3RkE7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qISB3ZWItaGlnaGxpZ2h0ZXIgdjAuNS4wIGh0dHBzOi8vZ2l0aHViLmNvbS9hbGllbnpob3Uvd2ViLWhpZ2hsaWdodGVyICovXG4hZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkhpZ2hsaWdodGVyPXQoKTplLkhpZ2hsaWdodGVyPXQoKX0od2luZG93LChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKHIpe2lmKHRbcl0pcmV0dXJuIHRbcl0uZXhwb3J0czt2YXIgbz10W3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxuKSxvLmw9ITAsby5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LHIpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBvIGluIGUpbi5kKHIsbyxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLG8pKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTcpfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe2Uubm9uZT1cIm5vbmVcIixlLmhlYWQ9XCJoZWFkXCIsZS50YWlsPVwidGFpbFwiLGUuYm90aD1cImJvdGhcIn0odC5TcGxpdFR5cGV8fCh0LlNwbGl0VHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuRE9NX1RZUEVfRVJST1I9XCJbRE9NXSBSZWNlaXZlIHdyb25nIG5vZGUgdHlwZS5cIixlLkRPTV9TRUxFQ1RJT05fRU1QVFk9XCJbRE9NXSBUaGUgc2VsZWN0aW9uIGNvbnRhaW5zIG5vIGRvbSBub2RlLCBtYXkgYmUgeW91IGV4Y2VwdCB0aGVtLlwiLGUuUkFOR0VfSU5WQUxJRD1cIltSQU5HRV0gR290IGludmFsaWQgZG9tIHJhbmdlLCBjYW4ndCBjb252ZXJ0IHRvIGEgdmFsaWQgaGlnaGxpZ2h0IHJhbmdlLlwiLGUuUkFOR0VfTk9ERV9JTlZBTElEPVwiW1JBTkdFXSBTdGFydCBvciBlbmQgbm9kZSBpc24ndCBhIHRleHQgbm9kZSwgaXQgbWF5IG9jY3VyIGFuIGVycm9yLlwiLGUuREJfSURfRFVQTElDQVRFX0VSUk9SPVwiW1NUT1JFXSBVbmlxdWUgaWQgY29uZmxpY3QuXCIsZS5DQUNIRV9TRVRfRVJST1I9XCJbQ0FDSEVdIENhY2hlLmRhdGEgY2FuJ3QgYmUgc2V0IG1hbnVhbGx5LCBwbGVhc2UgdXNlIC5zYXZlKCkuXCIsZS5TT1VSQ0VfVFlQRV9FUlJPUj1cIltTT1VSQ0VdIE9iamVjdCBpc24ndCBhIGhpZ2hsaWdodCBzb3VyY2UgaW5zdGFuY2UuXCIsZS5ISUdITElHSFRfUkFOR0VfRlJPWkVOPVwiW0hJR0hMSUdIVF9SQU5HRV0gQSBoaWdobGlnaHQgcmFuZ2UgbXVzdCBiZSBmcm96ZW4gYmVmb3JlIHJlbmRlci5cIixlLkhJR0hMSUdIVF9TT1VSQ0VfTk9ORV9SRU5ERVI9XCJbSElHSExJR0hUX1NPVVJDRV0gVGhpcyBoaWdobGlnaHQgc291cmNlIGlzbid0IHJlbmRlcmVkLiBNYXkgYmUgdGhlIGV4Y2VwdGlvbiBza2lwcyBpdCBvciB0aGUgZG9tIHN0cnVjdHVyZSBoYXMgY2hhbmdlZC5cIn0odC5FUlJPUnx8KHQuRVJST1I9e30pKSxmdW5jdGlvbihlKXtlLkNSRUFURT1cInNlbGVjdGlvbjpjcmVhdGVcIixlLlJFTU9WRT1cInNlbGVjdGlvbjpyZW1vdmVcIixlLk1PRElGWT1cInNlbGVjdGlvbjptb2RpZnlcIixlLkhPVkVSPVwic2VsZWN0aW9uOmhvdmVyXCIsZS5IT1ZFUl9PVVQ9XCJzZWxlY3Rpb246aG92ZXItb3V0XCIsZS5DTElDSz1cInNlbGVjdGlvbjpjbGlja1wifSh0LkV2ZW50VHlwZXx8KHQuRXZlbnRUeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS50ZXh0PVwidGV4dFwiLGUuc3Bhbj1cInNwYW5cIn0odC5TZWxlY3RlZE5vZGVUeXBlfHwodC5TZWxlY3RlZE5vZGVUeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS50b3VjaGVuZD1cInRvdWNoZW5kXCIsZS5tb3VzZXVwPVwibW91c2V1cFwiLGUudG91Y2hzdGFydD1cInRvdWNoc3RhcnRcIixlLmNsaWNrPVwiY2xpY2tcIixlLm1vdXNlb3Zlcj1cIm1vdXNlb3ZlclwifSh0LlVzZXJJbnB1dEV2ZW50fHwodC5Vc2VySW5wdXRFdmVudD17fSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9bigxMyk7dC5JRF9ESVZJU0lPTj1cIjtcIix0LkxPQ0FMX1NUT1JFX0tFWT1cImhpZ2hsaWdodC1tZW5nc2hvdVwiLHQuU1RZTEVTSEVFVF9JRD1cImhpZ2hsaWdodC1tZW5nc2hvdS1zdHlsZVwiLHQuREFUQVNFVF9JREVOVElGSUVSPVwiaGlnaGxpZ2h0LWlkXCIsdC5EQVRBU0VUX0lERU5USUZJRVJfRVhUUkE9XCJoaWdobGlnaHQtaWQtZXh0cmFcIix0LkRBVEFTRVRfU1BMSVRfVFlQRT1cImhpZ2hsaWdodC1zcGxpdC10eXBlXCIsdC5DQU1FTF9EQVRBU0VUX0lERU5USUZJRVI9ci5kZWZhdWx0KHQuREFUQVNFVF9JREVOVElGSUVSKSx0LkNBTUVMX0RBVEFTRVRfSURFTlRJRklFUl9FWFRSQT1yLmRlZmF1bHQodC5EQVRBU0VUX0lERU5USUZJRVJfRVhUUkEpLHQuQ0FNRUxfREFUQVNFVF9TUExJVF9UWVBFPXIuZGVmYXVsdCh0LkRBVEFTRVRfU1BMSVRfVFlQRSk7dC5ERUZBVUxUX09QVElPTlM9eyRyb290OndpbmRvdy5kb2N1bWVudHx8d2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxleGNlcHRTZWxlY3RvcnM6bnVsbCx3cmFwVGFnOlwic3BhblwiLHN0eWxlOntjbGFzc05hbWU6XCJoaWdobGlnaHQtbWVuZ3Nob3Utd3JhcFwifX07dmFyIG89dC5ERUZBVUxUX09QVElPTlMuc3R5bGU7dC5TVFlMRVNIRUVUX1RFWFQ9XCJcXG4gICAgLlwiK28uY2xhc3NOYW1lK1wiIHtcXG4gICAgICAgIGJhY2tncm91bmQ6ICNmZjk7XFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIH1cXG4gICAgLlwiK28uY2xhc3NOYW1lK1wiLmFjdGl2ZSB7XFxuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZiO1xcbiAgICB9XFxuXCJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDUpLG89bigxMCksaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scixvKXt0aGlzLnN0YXJ0TWV0YT1lLHRoaXMuZW5kTWV0YT10LHRoaXMudGV4dD1uLHRoaXMuaWQ9cix0aGlzLl9faXNIaWdobGlnaHRTb3VyY2U9e30sbyYmKHRoaXMuZXh0cmE9byl9cmV0dXJuIGUucHJvdG90eXBlLmRlU2VyaWFsaXplPWZ1bmN0aW9uKGUpe3ZhciB0PW8ucXVlcnlFbGVtZW50Tm9kZSh0aGlzLGUpLG49dC5zdGFydCxpPXQuZW5kLGE9by5nZXRUZXh0Q2hpbGRCeU9mZnNldChuLHRoaXMuc3RhcnRNZXRhLnRleHRPZmZzZXQpLHM9by5nZXRUZXh0Q2hpbGRCeU9mZnNldChpLHRoaXMuZW5kTWV0YS50ZXh0T2Zmc2V0KTtyZXR1cm4gbmV3IHIuZGVmYXVsdChhLHMsdGhpcy50ZXh0LHRoaXMuaWQsITApfSxlfSgpO3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9bigxKTt0LmlzSGlnaGxpZ2h0V3JhcE5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuISFlLmRhdGFzZXQmJiEhZS5kYXRhc2V0W3IuQ0FNRUxfREFUQVNFVF9JREVOVElGSUVSXX0sdC5nZXRIaWdobGlnaHRJZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5pc0hpZ2hsaWdodFdyYXBOb2RlKGUpP2UuZGF0YXNldFtyLkNBTUVMX0RBVEFTRVRfSURFTlRJRklFUl06XCJcIn0sdC5nZXRIaWdobGlnaHRzQnlSb290PWZ1bmN0aW9uKGUsdCl7QXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtmb3IodmFyIG49W10sbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgaT1lW29dLnF1ZXJ5U2VsZWN0b3JBbGwodCtcIltkYXRhLVwiK3IuREFUQVNFVF9JREVOVElGSUVSK1wiXVwiKTtuLnB1c2guYXBwbHkobixpKX1yZXR1cm4gbn0sdC5nZXRIaWdobGlnaHRCeUlkPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIG89W10saT1uZXcgUmVnRXhwKFwiKFwiK3QrXCJcXFxcXCIrci5JRF9ESVZJU0lPTitcInxcXFxcXCIrci5JRF9ESVZJU0lPTitcIj9cIit0K1wiJClcIiksYT1lLnF1ZXJ5U2VsZWN0b3JBbGwobitcIltkYXRhLVwiK3IuREFUQVNFVF9JREVOVElGSUVSK1wiXVwiKSxzPTA7czxhLmxlbmd0aDtzKyspe3ZhciB1PWFbc107aWYodS5kYXRhc2V0W3IuQ0FNRUxfREFUQVNFVF9JREVOVElGSUVSXSE9PXQpe3ZhciBsPXUuZGF0YXNldFtyLkNBTUVMX0RBVEFTRVRfSURFTlRJRklFUl9FWFRSQV07aS50ZXN0KGwpJiZvLnB1c2godSl9ZWxzZSBvLnB1c2godSl9cmV0dXJuIG99LHQuZm9yRWFjaD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQoZVtuXSxuLGUpfSx0LmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBlLmFkZEV2ZW50TGlzdGVuZXIobixyKSxmdW5jdGlvbigpe3JldHVybiB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuLHIpfX0sdC5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuKX0sdC5hZGRDbGFzcz1mdW5jdGlvbihlLHQpe2UuY2xhc3NMaXN0LmFkZCh0KX0sdC5yZW1vdmVDbGFzcz1mdW5jdGlvbihlLHQpe2UuY2xhc3NMaXN0LnJlbW92ZSh0KX0sdC5oYXNDbGFzcz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmNsYXNzTGlzdC5jb250YWlucyh0KX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fcmVhZHx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXTtpZighbilyZXR1cm4gZTt2YXIgcixvLGk9bi5jYWxsKGUpLGE9W107dHJ5e2Zvcig7KHZvaWQgMD09PXR8fHQtLSA+MCkmJiEocj1pLm5leHQoKSkuZG9uZTspYS5wdXNoKHIudmFsdWUpfWNhdGNoKGUpe289e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e3ImJiFyLmRvbmUmJihuPWkucmV0dXJuKSYmbi5jYWxsKGkpfWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gYX0sbz10aGlzJiZ0aGlzLl9fc3ByZWFkfHxmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllPWUuY29uY2F0KHIoYXJndW1lbnRzW3RdKSk7cmV0dXJuIGV9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuaGFuZGxlcnNNYXA9T2JqZWN0LmNyZWF0ZShudWxsKX1yZXR1cm4gZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5oYW5kbGVyc01hcFtlXXx8KHRoaXMuaGFuZGxlcnNNYXBbZV09W10pLHRoaXMuaGFuZGxlcnNNYXBbZV0ucHVzaCh0KSx0aGlzfSxlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5oYW5kbGVyc01hcFtlXSYmdGhpcy5oYW5kbGVyc01hcFtlXS5zcGxpY2UodGhpcy5oYW5kbGVyc01hcFtlXS5pbmRleE9mKHQpPj4+MCwxKSx0aGlzfSxlLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLmhhbmRsZXJzTWFwW2VdJiZ0aGlzLmhhbmRsZXJzTWFwW2VdLnNsaWNlKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwbHkodm9pZCAwLG8odCkpfSkpLHRoaXN9LGV9KCk7dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDIpLG89bigwKSxpPW4oMTEpLGE9big2KSxzPW4oMTIpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIsaSl7dm9pZCAwPT09aSYmKGk9ITEpLDM9PT1lLiRub2RlLm5vZGVUeXBlJiYzPT09dC4kbm9kZS5ub2RlVHlwZXx8Y29uc29sZS53YXJuKG8uRVJST1IuUkFOR0VfTk9ERV9JTlZBTElEKSx0aGlzLnN0YXJ0PWUsdGhpcy5lbmQ9dCx0aGlzLnRleHQ9bix0aGlzLmZyb3plbj1pLHRoaXMuaWQ9cn1yZXR1cm4gZS5mcm9tU2VsZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBuPWkuZ2V0RG9tUmFuZ2UoKTtpZighbilyZXR1cm4gbnVsbDt2YXIgcj17JG5vZGU6bi5zdGFydENvbnRhaW5lcixvZmZzZXQ6bi5zdGFydE9mZnNldH0sbz17JG5vZGU6bi5lbmRDb250YWluZXIsb2Zmc2V0Om4uZW5kT2Zmc2V0fSxzPW4udG9TdHJpbmcoKSx1PXQuY2FsbChyLG8scyk7cmV0dXJuIG5ldyBlKHIsbyxzLHU9bnVsbCE9dT91OmEuZGVmYXVsdCgpKX0sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4sbz1zLmdldERvbU1ldGEodGhpcy5zdGFydC4kbm9kZSx0aGlzLnN0YXJ0Lm9mZnNldCxlKSxpPXMuZ2V0RG9tTWV0YSh0aGlzLmVuZC4kbm9kZSx0aGlzLmVuZC5vZmZzZXQsZSk7cmV0dXJuIHQuU2VyaWFsaXplLlJlY29yZEluZm8uaXNFbXB0eSgpfHwobj10LlNlcmlhbGl6ZS5SZWNvcmRJbmZvLmNhbGwodGhpcy5zdGFydCx0aGlzLmVuZCxlKSksdGhpcy5mcm96ZW49ITAsbmV3IHIuZGVmYXVsdChvLGksdGhpcy50ZXh0LHRoaXMuaWQsbil9LGUucmVtb3ZlRG9tUmFuZ2U9aS5yZW1vdmVTZWxlY3Rpb24sZX0oKTt0LmRlZmF1bHQ9dX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbiBlKHQpe3JldHVybiB0Pyh0XjE2Kk1hdGgucmFuZG9tKCk+PnQvNCkudG9TdHJpbmcoMTYpOihbMWU3XSstMWUzKy00ZTMrLThlMystMWUxMSkucmVwbGFjZSgvWzAxOF0vZyxlKX19LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big4KX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLG89dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pLGk9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0xLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tuXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4oOSk7dmFyIGE9big0KSxzPW4oNSksdT1uKDIpLGw9big2KSxkPW4oMTQpLGM9bigxNSksZj1uKDE3KSxwPW4oMTgpLGg9bigxKSxFPW4oMCksVD1uKDMpLHY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7bi5fZ2V0SG9va3M9ZnVuY3Rpb24oKXtyZXR1cm57UmVuZGVyOntVVUlEOm5ldyBkLmRlZmF1bHQoXCJSZW5kZXIuVVVJRFwiKSxTZWxlY3RlZE5vZGVzOm5ldyBkLmRlZmF1bHQoXCJSZW5kZXIuU2VsZWN0ZWROb2Rlc1wiKSxXcmFwTm9kZTpuZXcgZC5kZWZhdWx0KFwiUmVuZGVyLldyYXBOb2RlXCIpfSxTZXJpYWxpemU6e1JlY29yZEluZm86bmV3IGQuZGVmYXVsdChcIlNlcmlhbGl6ZS5SZWNvcmRJbmZvXCIpfSxSZW1vdmU6e1VwZGF0ZU5vZGVzOm5ldyBkLmRlZmF1bHQoXCJSZW1vdmUuVXBkYXRlTm9kZXNcIil9fX0sbi5faGlnaGxpZ2hGcm9tSFJhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VyaWFsaXplKG4ub3B0aW9ucy4kcm9vdCxuLmhvb2tzKTtyZXR1cm4gMD09PW4ucGFpbnRlci5oaWdobGlnaHRSYW5nZShlKS5sZW5ndGg/KGNvbnNvbGUud2FybihFLkVSUk9SLkRPTV9TRUxFQ1RJT05fRU1QVFkpLG51bGwpOihuLmNhY2hlLnNhdmUodCksbi5lbWl0KEUuRXZlbnRUeXBlLkNSRUFURSx7c291cmNlczpbdF0sdHlwZTpcImZyb20taW5wdXRcIn0sbiksdCl9LG4uX2hhbmRsZVNlbGVjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1zLmRlZmF1bHQuZnJvbVNlbGVjdGlvbihuLmhvb2tzLlJlbmRlci5VVUlEKTt0JiYobi5faGlnaGxpZ2hGcm9tSFJhbmdlKHQpLHMuZGVmYXVsdC5yZW1vdmVEb21SYW5nZSgpKX0sbi5faGFuZGxlSGlnaGxpZ2h0SG92ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7aWYoIVQuaXNIaWdobGlnaHRXcmFwTm9kZSh0KSlyZXR1cm4gbi5faG92ZXJJZCYmbi5lbWl0KEUuRXZlbnRUeXBlLkhPVkVSX09VVCx7aWQ6bi5faG92ZXJJZH0sbixlKSx2b2lkKG4uX2hvdmVySWQ9bnVsbCk7dmFyIHI9VC5nZXRIaWdobGlnaHRJZCh0KTtuLl9ob3ZlcklkIT09ciYmKG4uX2hvdmVySWQmJm4uZW1pdChFLkV2ZW50VHlwZS5IT1ZFUl9PVVQse2lkOm4uX2hvdmVySWR9LG4sZSksbi5faG92ZXJJZD1yLG4uZW1pdChFLkV2ZW50VHlwZS5IT1ZFUix7aWQ6bi5faG92ZXJJZH0sbixlKSl9LG4uX2hhbmRsZUhpZ2hsaWdodENsaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0O2lmKFQuaXNIaWdobGlnaHRXcmFwTm9kZSh0KSl7dmFyIHI9VC5nZXRIaWdobGlnaHRJZCh0KTtuLmVtaXQoRS5FdmVudFR5cGUuQ0xJQ0sse2lkOnJ9LG4sZSl9fSxuLnJ1bj1mdW5jdGlvbigpe3JldHVybiBULmFkZEV2ZW50TGlzdGVuZXIobi5vcHRpb25zLiRyb290LGMuZGVmYXVsdC5Qb2ludGVyRW5kLG4uX2hhbmRsZVNlbGVjdGlvbil9LG4uc3RvcD1mdW5jdGlvbigpe3JldHVybiBULnJlbW92ZUV2ZW50TGlzdGVuZXIobi5vcHRpb25zLiRyb290LGMuZGVmYXVsdC5Qb2ludGVyRW5kLG4uX2hhbmRsZVNlbGVjdGlvbil9LG4uYWRkQ2xhc3M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5nZXREb21zKHQpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBULmFkZENsYXNzKHQsZSl9KSl9LG4ucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5nZXREb21zKHQpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBULnJlbW92ZUNsYXNzKHQsZSl9KSl9LG4uZ2V0SWRCeURvbT1mdW5jdGlvbihlKXtyZXR1cm4gVC5nZXRIaWdobGlnaHRJZChlKX0sbi5nZXREb21zPWZ1bmN0aW9uKGUpe3JldHVybiBlP1QuZ2V0SGlnaGxpZ2h0QnlJZChuLm9wdGlvbnMuJHJvb3QsZSxuLm9wdGlvbnMud3JhcFRhZyk6VC5nZXRIaWdobGlnaHRzQnlSb290KG4ub3B0aW9ucy4kcm9vdCxuLm9wdGlvbnMud3JhcFRhZyl9LG4uZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlPW4ub3B0aW9ucy4kcm9vdDtULnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxjLmRlZmF1bHQuUG9pbnRlck92ZXIsbi5faGFuZGxlSGlnaGxpZ2h0SG92ZXIpLFQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGMuZGVmYXVsdC5Qb2ludGVyRW5kLG4uX2hhbmRsZVNlbGVjdGlvbiksVC5yZW1vdmVFdmVudExpc3RlbmVyKGUsYy5kZWZhdWx0LlBvaW50ZXJUYXAsbi5faGFuZGxlSGlnaGxpZ2h0Q2xpY2spLG4ucmVtb3ZlQWxsKCl9LG4uc2V0T3B0aW9uPWZ1bmN0aW9uKGUpe24ub3B0aW9ucz1pKGkoe30sbi5vcHRpb25zKSxlKSxuLnBhaW50ZXI9bmV3IHAuZGVmYXVsdCh7JHJvb3Q6bi5vcHRpb25zLiRyb290LHdyYXBUYWc6bi5vcHRpb25zLndyYXBUYWcsY2xhc3NOYW1lOm4ub3B0aW9ucy5zdHlsZS5jbGFzc05hbWUsZXhjZXB0U2VsZWN0b3JzOm4ub3B0aW9ucy5leGNlcHRTZWxlY3RvcnN9LG4uaG9va3MpfSxuLmZyb21SYW5nZT1mdW5jdGlvbihlKXt2YXIgdD17JG5vZGU6ZS5zdGFydENvbnRhaW5lcixvZmZzZXQ6ZS5zdGFydE9mZnNldH0scj17JG5vZGU6ZS5lbmRDb250YWluZXIsb2Zmc2V0OmUuZW5kT2Zmc2V0fSxvPWUudG9TdHJpbmcoKSxpPW4uaG9va3MuUmVuZGVyLlVVSUQuY2FsbCh0LHIsbyk7aT1udWxsIT1pP2k6bC5kZWZhdWx0KCk7dmFyIGE9bmV3IHMuZGVmYXVsdCh0LHIsbyxpKTtyZXR1cm4gYT9uLl9oaWdobGlnaEZyb21IUmFuZ2UoYSk6KGNvbnNvbGUud2FybihFLkVSUk9SLlJBTkdFX0lOVkFMSUQpLG51bGwpfSxuLmZyb21TdG9yZT1mdW5jdGlvbihlLHQscixvKXt0cnl7dmFyIGk9bmV3IHUuZGVmYXVsdChlLHQscixvKTtyZXR1cm4gbi5faGlnaGxpZ2hGcm9tSFNvdXJjZShpKSxpfWNhdGNoKG4pe3JldHVybiBjb25zb2xlLmVycm9yKG4sbyxyLGUsdCksbnVsbH19LG4ub3B0aW9ucz1oLkRFRkFVTFRfT1BUSU9OUyxuLmhvb2tzPW4uX2dldEhvb2tzKCksbi5zZXRPcHRpb24odCksbi5jYWNoZT1uZXcgZi5kZWZhdWx0O3ZhciByPW4ub3B0aW9ucy4kcm9vdDtyZXR1cm4gVC5hZGRFdmVudExpc3RlbmVyKHIsYy5kZWZhdWx0LlBvaW50ZXJPdmVyLG4uX2hhbmRsZUhpZ2hsaWdodEhvdmVyKSxULmFkZEV2ZW50TGlzdGVuZXIocixjLmRlZmF1bHQuUG9pbnRlclRhcCxuLl9oYW5kbGVIaWdobGlnaHRDbGljayksbn1yZXR1cm4gbyh0LGUpLHQucHJvdG90eXBlLl9oaWdobGlnaEZyb21IU291cmNlPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPVtdKTt2YXIgdD10aGlzLnBhaW50ZXIuaGlnaGxpZ2h0U291cmNlKGUpO3RoaXMuZW1pdChFLkV2ZW50VHlwZS5DUkVBVEUse3NvdXJjZXM6dCx0eXBlOlwiZnJvbS1zdG9yZVwifSx0aGlzKSx0aGlzLmNhY2hlLnNhdmUoZSl9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtlJiYodGhpcy5wYWludGVyLnJlbW92ZUhpZ2hsaWdodChlKSx0aGlzLmNhY2hlLnJlbW92ZShlKSx0aGlzLmVtaXQoRS5FdmVudFR5cGUuUkVNT1ZFLHtpZHM6W2VdfSx0aGlzKSl9LHQucHJvdG90eXBlLnJlbW92ZUFsbD1mdW5jdGlvbigpe3RoaXMucGFpbnRlci5yZW1vdmVBbGxIaWdobGlnaHQoKTt2YXIgZT10aGlzLmNhY2hlLnJlbW92ZUFsbCgpO3RoaXMuZW1pdChFLkV2ZW50VHlwZS5SRU1PVkUse2lkczplfSx0aGlzKX0sdC5ldmVudD1FLkV2ZW50VHlwZSx0fShhLmRlZmF1bHQpO3QuZGVmYXVsdD12fSxmdW5jdGlvbihlLHQpeyFmdW5jdGlvbigpe2lmKCEoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRhdGFzZXR8fE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSFRNTEVsZW1lbnQucHJvdG90eXBlLFwiZGF0YXNldFwiKSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIVE1MRWxlbWVudC5wcm90b3R5cGUsXCJkYXRhc2V0XCIpLmdldCkpe3ZhciBlPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3ZhciB0PXt9LG49dGhpcy5hdHRyaWJ1dGVzO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUuY2hhckF0KDEpLnRvVXBwZXJDYXNlKCl9ZnVuY3Rpb24gbygpe3JldHVybiB0aGlzLnZhbHVlfWZ1bmN0aW9uIGkoZSx0KXt2b2lkIDAhPT10P3RoaXMuc2V0QXR0cmlidXRlKGUsdCk6dGhpcy5yZW1vdmVBdHRyaWJ1dGUoZSl9Zm9yKHZhciBhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBzPW5bYV07aWYocyYmcy5uYW1lJiYvXmRhdGEtXFx3W1xcdy1dKiQvLnRlc3Qocy5uYW1lKSl7dmFyIHU9cy5uYW1lLGw9cy52YWx1ZSxkPXUuc3Vic3RyKDUpLnJlcGxhY2UoLy0uL2cscik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZCx7ZW51bWVyYWJsZTplLmVudW1lcmFibGUsZ2V0Om8uYmluZCh7dmFsdWU6bHx8XCJcIn0pLHNldDppLmJpbmQodGhpcyx1KX0pfX1yZXR1cm4gdH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MRWxlbWVudC5wcm90b3R5cGUsXCJkYXRhc2V0XCIsZSl9fSgpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRUZXh0Q2hpbGRCeU9mZnNldD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bZV0scj1udWxsLG89MCxpPTA7cj1uLnBvcCgpOyl7Zm9yKHZhciBhPXIuY2hpbGROb2RlcyxzPWEubGVuZ3RoLTE7cz49MDtzLS0pbi5wdXNoKGFbc10pO2lmKDM9PT1yLm5vZGVUeXBlJiYoaT10LW8sKG8rPXIudGV4dENvbnRlbnQubGVuZ3RoKT49dCkpYnJlYWt9cmV0dXJuIHJ8fChyPWUpLHskbm9kZTpyLG9mZnNldDppfX0sdC5xdWVyeUVsZW1lbnROb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3N0YXJ0OnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZS5zdGFydE1ldGEucGFyZW50VGFnTmFtZSlbZS5zdGFydE1ldGEucGFyZW50SW5kZXhdLGVuZDp0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUuZW5kTWV0YS5wYXJlbnRUYWdOYW1lKVtlLmVuZE1ldGEucGFyZW50SW5kZXhdfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldERvbVJhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LmdldFNlbGVjdGlvbigpO3JldHVybiBlLmlzQ29sbGFwc2VkPyhjb25zb2xlLmRlYnVnKFwibm8gdGV4dCBzZWxlY3RlZFwiKSxudWxsKTplLmdldFJhbmdlQXQoMCl9LHQucmVtb3ZlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7d2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPW4oMSk7dC5nZXREb21NZXRhPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJighZS5kYXRhc2V0fHwhZS5kYXRhc2V0W3IuQ0FNRUxfREFUQVNFVF9JREVOVElGSUVSXSkpcmV0dXJuIGU7Zm9yKHZhciB0PWUucGFyZW50Tm9kZTt0LmRhdGFzZXQmJnQuZGF0YXNldFtyLkNBTUVMX0RBVEFTRVRfSURFTlRJRklFUl07KXQ9dC5wYXJlbnROb2RlO3JldHVybiB0fShlKSxpPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUudGFnTmFtZSxyPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUobiksbz0wO288ci5sZW5ndGg7bysrKWlmKGU9PT1yW29dKXJldHVybiBvO3JldHVybi0xfShvLG4pLGE9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W2VdLHI9bnVsbCxvPTA7cj1uLnBvcCgpOyl7Zm9yKHZhciBpPXIuY2hpbGROb2RlcyxhPWkubGVuZ3RoLTE7YT49MDthLS0pbi5wdXNoKGlbYV0pO2lmKDM9PT1yLm5vZGVUeXBlJiZyIT09dClvKz1yLnRleHRDb250ZW50Lmxlbmd0aDtlbHNlIGlmKDM9PT1yLm5vZGVUeXBlKWJyZWFrfXJldHVybiBvfShvLGUpO3JldHVybntwYXJlbnRUYWdOYW1lOm8udGFnTmFtZSxwYXJlbnRJbmRleDppLHRleHRPZmZzZXQ6YSt0fX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoXCItXCIpLnJlZHVjZSgoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlKygwPT09bj90OnRbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpKX0pLFwiXCIpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19yZWFkfHxmdW5jdGlvbihlLHQpe3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFuKXJldHVybiBlO3ZhciByLG8saT1uLmNhbGwoZSksYT1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShyPWkubmV4dCgpKS5kb25lOylhLnB1c2goci52YWx1ZSl9Y2F0Y2goZSl7bz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7ciYmIXIuZG9uZSYmKG49aS5yZXR1cm4pJiZuLmNhbGwoaSl9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiBhfSxvPXRoaXMmJnRoaXMuX19zcHJlYWR8fGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWU9ZS5jb25jYXQocihhcmd1bWVudHNbdF0pKTtyZXR1cm4gZX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMubmFtZT1cIlwiLHRoaXMub3BzPVtdLHRoaXMubmFtZT1lfXJldHVybiBlLnByb3RvdHlwZS50YXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub3BzLnB1c2goZSksdGhpc30sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5vcHMubGVuZ3RofSxlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiB0aGlzLm9wcy5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4uYXBwbHkodm9pZCAwLG8oZSkpfSksbnVsbCl9LGV9KCk7dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDApLG89bigxNikuZGVmYXVsdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCksaT17UG9pbnRlckVuZDpvP3IuVXNlcklucHV0RXZlbnQudG91Y2hlbmQ6ci5Vc2VySW5wdXRFdmVudC5tb3VzZXVwLFBvaW50ZXJUYXA6bz9yLlVzZXJJbnB1dEV2ZW50LnRvdWNoc3RhcnQ6ci5Vc2VySW5wdXRFdmVudC5jbGljayxQb2ludGVyT3ZlcjpvP3IuVXNlcklucHV0RXZlbnQudG91Y2hzdGFydDpyLlVzZXJJbnB1dEV2ZW50Lm1vdXNlb3Zlcn07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj0vQW5kcm9pZHxpUGhvbmV8QmxhY2tCZXJyeXxCQjEwfE9wZXJhIE1pbml8UGhvbmV8TW9iaWxlfFNpbGt8V2luZG93cyBQaG9uZXxNb2JpbGUoPzouKylGaXJlZm94XFxiL2k7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3JldHVybiByLnRlc3QoZSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsbz10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1yKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSksaT10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixuPXQmJmVbdF0scj0wO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmcj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbcisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDQpLHM9bigwKSx1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHQuX2RhdGE9bmV3IE1hcCx0fXJldHVybiBvKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZGF0YVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBbGwoKX0sc2V0OmZ1bmN0aW9uKGUpe3Rocm93IHMuRVJST1IuQ0FDSEVfU0VUX0VSUk9SfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztBcnJheS5pc0FycmF5KGUpP2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2RhdGEuc2V0KGUuaWQsZSl9KSk6dGhpcy5fZGF0YS5zZXQoZS5pZCxlKX0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kYXRhLmdldChlKX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3RoaXMuX2RhdGEuZGVsZXRlKGUpfSx0LnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24oKXt2YXIgZSx0LG49W107dGhpcy5fZGF0YT1uZXcgTWFwO3RyeXtmb3IodmFyIHI9aSh0aGlzLl9kYXRhKSxvPXIubmV4dCgpOyFvLmRvbmU7bz1yLm5leHQoKSl7dmFyIGE9by52YWx1ZTtuLnB1c2goYVsxXSl9fWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJih0PXIucmV0dXJuKSYmdC5jYWxsKHIpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX1yZXR1cm4gbn0sdC5wcm90b3R5cGUucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7dmFyIGUsdCxuPVtdO3RyeXtmb3IodmFyIHI9aSh0aGlzLl9kYXRhKSxvPXIubmV4dCgpOyFvLmRvbmU7bz1yLm5leHQoKSl7dmFyIGE9by52YWx1ZTtuLnB1c2goYVswXSl9fWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJih0PXIucmV0dXJuKSYmdC5jYWxsKHIpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX1yZXR1cm4gdGhpcy5fZGF0YT1uZXcgTWFwLG59LHR9KGEuZGVmYXVsdCk7dC5kZWZhdWx0PXV9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDIpLG89bigxOSksaT1uKDMpLGE9bigwKSxzPW4oMjApLHU9bigxKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMub3B0aW9ucz17JHJvb3Q6ZS4kcm9vdCx3cmFwVGFnOmUud3JhcFRhZyxleGNlcHRTZWxlY3RvcnM6ZS5leGNlcHRTZWxlY3RvcnMsY2xhc3NOYW1lOmUuY2xhc3NOYW1lfSx0aGlzLmhvb2tzPXQscy5pbml0RGVmYXVsdFN0eWxlc2hlZXQoKX1yZXR1cm4gZS5wcm90b3R5cGUuaGlnaGxpZ2h0UmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5mcm96ZW4pdGhyb3cgYS5FUlJPUi5ISUdITElHSFRfUkFOR0VfRlJPWkVOO3ZhciBuPXRoaXMub3B0aW9ucyxyPW4uJHJvb3QsaT1uLmNsYXNzTmFtZSxzPW4uZXhjZXB0U2VsZWN0b3JzLHU9dGhpcy5ob29rcyxsPW8uZ2V0U2VsZWN0ZWROb2RlcyhyLGUuc3RhcnQsZS5lbmQscyk7cmV0dXJuIHUuUmVuZGVyLlNlbGVjdGVkTm9kZXMuaXNFbXB0eSgpfHwobD11LlJlbmRlci5TZWxlY3RlZE5vZGVzLmNhbGwoZS5pZCxsKSksbC5tYXAoKGZ1bmN0aW9uKG4pe3ZhciByPW8ud3JhcEhpZ2hsaWdodChuLGUsaSx0Lm9wdGlvbnMud3JhcFRhZyk7cmV0dXJuIHUuUmVuZGVyLldyYXBOb2RlLmlzRW1wdHkoKXx8KHI9dS5SZW5kZXIuV3JhcE5vZGUuY2FsbChlLmlkLHIpKSxyfSkpfSxlLnByb3RvdHlwZS5oaWdobGlnaHRTb3VyY2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV0sbz1bXTtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2Ygci5kZWZhdWx0KXt2YXIgbj1lLmRlU2VyaWFsaXplKHQub3B0aW9ucy4kcm9vdCk7dC5oaWdobGlnaHRSYW5nZShuKS5sZW5ndGg+MD9vLnB1c2goZSk6Y29uc29sZS53YXJuKGEuRVJST1IuSElHSExJR0hUX1NPVVJDRV9OT05FX1JFTkRFUixlKX1lbHNlIGNvbnNvbGUuZXJyb3IoYS5FUlJPUi5TT1VSQ0VfVFlQRV9FUlJPUil9KSksb30sZS5wcm90b3R5cGUucmVtb3ZlSGlnaGxpZ2h0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgUmVnRXhwKFwiKFwiK2UrXCJcXFxcXCIrdS5JRF9ESVZJU0lPTitcInxcXFxcXCIrdS5JRF9ESVZJU0lPTitcIj9cIitlK1wiJClcIiksbj10aGlzLmhvb2tzLHI9dGhpcy5vcHRpb25zLndyYXBUYWcsYT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHIrXCJbZGF0YS1cIit1LkRBVEFTRVRfSURFTlRJRklFUitcIl1cIikscz1bXSxsPVtdLGQ9W10sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZj1hW2NdLmRhdGFzZXRbdS5DQU1FTF9EQVRBU0VUX0lERU5USUZJRVJdLHA9YVtjXS5kYXRhc2V0W3UuQ0FNRUxfREFUQVNFVF9JREVOVElGSUVSX0VYVFJBXTtmIT09ZXx8cD9mPT09ZT9sLnB1c2goYVtjXSk6ZiE9PWUmJnQudGVzdChwKSYmZC5wdXNoKGFbY10pOnMucHVzaChhW2NdKX1zLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXQucGFyZW50Tm9kZSxhPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpLmZvckVhY2godC5jaGlsZE5vZGVzLChmdW5jdGlvbihlKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChlLmNsb25lTm9kZSghMSkpfSkpO3ZhciBzPXQucHJldmlvdXNTaWJsaW5nLHU9dC5uZXh0U2libGluZztyLnJlcGxhY2VDaGlsZChhLHQpLG8ubm9ybWFsaXplU2libGluZ1RleHQocywhMCksby5ub3JtYWxpemVTaWJsaW5nVGV4dCh1LCExKSxuLlJlbW92ZS5VcGRhdGVOb2Rlcy5jYWxsKGUsdCxcInJlbW92ZVwiKX0pKSxsLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXQuZGF0YXNldCxvPXJbdS5DQU1FTF9EQVRBU0VUX0lERU5USUZJRVJfRVhUUkFdLnNwbGl0KHUuSURfRElWSVNJT04pO3JbdS5DQU1FTF9EQVRBU0VUX0lERU5USUZJRVJdPW8uc2hpZnQoKSxyW3UuQ0FNRUxfREFUQVNFVF9JREVOVElGSUVSX0VYVFJBXT1vLmpvaW4odS5JRF9ESVZJU0lPTiksbi5SZW1vdmUuVXBkYXRlTm9kZXMuY2FsbChlLHQsXCJpZC11cGRhdGVcIil9KSksZC5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgbz1yLmRhdGFzZXRbdS5DQU1FTF9EQVRBU0VUX0lERU5USUZJRVJfRVhUUkFdO3IuZGF0YXNldFt1LkNBTUVMX0RBVEFTRVRfSURFTlRJRklFUl9FWFRSQV09by5yZXBsYWNlKHQsXCJcIiksbi5SZW1vdmUuVXBkYXRlTm9kZXMuY2FsbChlLHIsXCJleHRyYS11cGRhdGVcIil9KSl9LGUucHJvdG90eXBlLnJlbW92ZUFsbEhpZ2hsaWdodD1mdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucyx0PWUud3JhcFRhZyxuPWUuJHJvb3Q7aS5nZXRIaWdobGlnaHRzQnlSb290KG4sdCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlLG49ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2kuZm9yRWFjaChlLmNoaWxkTm9kZXMsKGZ1bmN0aW9uKGUpe3JldHVybiBuLmFwcGVuZENoaWxkKGUuY2xvbmVOb2RlKCExKSl9KSksdC5yZXBsYWNlQ2hpbGQobixlKX0pKX0sZX0oKTt0LmRlZmF1bHQ9bH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPW4oMCksbz1uKDMpLGk9bigxKSxhPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuITE7aWYoL15cXC4vLnRlc3QodCkpe3ZhciBuPXQucmVwbGFjZSgvXlxcLi8sXCJcIik7cmV0dXJuIGUmJm8uaGFzQ2xhc3MoZSxuKX1pZigvXiMvLnRlc3QodCkpe3ZhciByPXQucmVwbGFjZSgvXiMvLFwiXCIpO3JldHVybiBlJiZlLmlkPT09cn12YXIgaT10LnRvVXBwZXJDYXNlKCk7cmV0dXJuIGUmJmUudGFnTmFtZT09PWl9O2Z1bmN0aW9uIHMoZSx0KXt2YXIgbj1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3JldHVybihuPTA9PT1uLmxlbmd0aD9baS5ERUZBVUxUX09QVElPTlMuc3R5bGUuY2xhc3NOYW1lXTpuKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gby5hZGRDbGFzcyhlLHQpfSkpLGV9dC5nZXRTZWxlY3RlZE5vZGVzPWZ1bmN0aW9uKGUsdCxuLG8pe3ZhciBpPXQuJG5vZGUscz1uLiRub2RlLHU9dC5vZmZzZXQsbD1uLm9mZnNldDtpZihpPT09cyYmaSBpbnN0YW5jZW9mIFRleHQpcmV0dXJuIGZ1bmN0aW9uKGUsdCxuLG8pe2Zvcih2YXIgaT1lO2k7KXtpZigxPT09aS5ub2RlVHlwZSYmbyYmby5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYShpLGUpfSkpKXJldHVybltdO2k9aS5wYXJlbnROb2RlfWUuc3BsaXRUZXh0KHQpO3ZhciBzPWUubmV4dFNpYmxpbmc7cmV0dXJuIHMuc3BsaXRUZXh0KG4tdCksW3skbm9kZTpzLHR5cGU6ci5TZWxlY3RlZE5vZGVUeXBlLnRleHQsc3BsaXRUeXBlOnIuU3BsaXRUeXBlLmJvdGh9XX0oaSx1LGwsbyk7Zm9yKHZhciBkPVtlXSxjPVtdLGY9ITEscD1udWxsO3A9ZC5wb3AoKTspaWYoMSE9PXAubm9kZVR5cGV8fCFvfHwhby5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYShwLGUpfSkpKXtmb3IodmFyIGg9cC5jaGlsZE5vZGVzLEU9aC5sZW5ndGgtMTtFPj0wO0UtLSlkLnB1c2goaFtFXSk7aWYocD09PWkpe2lmKDM9PT1wLm5vZGVUeXBlKXtwLnNwbGl0VGV4dCh1KTt2YXIgVD1wLm5leHRTaWJsaW5nO2MucHVzaCh7JG5vZGU6VCx0eXBlOnIuU2VsZWN0ZWROb2RlVHlwZS50ZXh0LHNwbGl0VHlwZTpyLlNwbGl0VHlwZS5oZWFkfSl9Zj0hMH1lbHNle2lmKHA9PT1zKXtpZigzPT09cC5ub2RlVHlwZSkoVD1wKS5zcGxpdFRleHQobCksYy5wdXNoKHskbm9kZTpULHR5cGU6ci5TZWxlY3RlZE5vZGVUeXBlLnRleHQsc3BsaXRUeXBlOnIuU3BsaXRUeXBlLnRhaWx9KTticmVha31mJiYzPT09cC5ub2RlVHlwZSYmYy5wdXNoKHskbm9kZTpwLHR5cGU6ci5TZWxlY3RlZE5vZGVUeXBlLnRleHQsc3BsaXRUeXBlOnIuU3BsaXRUeXBlLm5vbmV9KX19cmV0dXJuIGN9LHQud3JhcEhpZ2hsaWdodD1mdW5jdGlvbihlLHQsbixhKXt2YXIgdT1lLiRub2RlLnBhcmVudE5vZGUsbD1lLiRub2RlLnByZXZpb3VzU2libGluZyxkPWUuJG5vZGUubmV4dFNpYmxpbmc7cmV0dXJuIG8uaXNIaWdobGlnaHRXcmFwTm9kZSh1KT9vLmlzSGlnaGxpZ2h0V3JhcE5vZGUodSkmJihsfHxkKT9mdW5jdGlvbihlLHQsbixvKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG8pLHU9ZS4kbm9kZS5wYXJlbnROb2RlLGw9ZS4kbm9kZS5wcmV2aW91c1NpYmxpbmcsZD1lLiRub2RlLm5leHRTaWJsaW5nLGM9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGY9dS5kYXRhc2V0W2kuQ0FNRUxfREFUQVNFVF9JREVOVElGSUVSXSxwPXUuZGF0YXNldFtpLkNBTUVMX0RBVEFTRVRfSURFTlRJRklFUl9FWFRSQV0saD1wP2YraS5JRF9ESVZJU0lPTitwOmY7YS5zZXRBdHRyaWJ1dGUoXCJkYXRhLVwiK2kuREFUQVNFVF9JREVOVElGSUVSLHQuaWQpLGEuc2V0QXR0cmlidXRlKFwiZGF0YS1cIitpLkRBVEFTRVRfSURFTlRJRklFUl9FWFRSQSxoKSxhLmFwcGVuZENoaWxkKGUuJG5vZGUuY2xvbmVOb2RlKCExKSk7dmFyIEUsVCx2PSExLF89ITE7cmV0dXJuIGwmJigoVD11LmNsb25lTm9kZSghMSkpLnRleHRDb250ZW50PWwudGV4dENvbnRlbnQsYy5hcHBlbmRDaGlsZChUKSx2PSEwKSxzKGEsbiksYy5hcHBlbmRDaGlsZChhKSxkJiYoKFQ9dS5jbG9uZU5vZGUoITEpKS50ZXh0Q29udGVudD1kLnRleHRDb250ZW50LGMuYXBwZW5kQ2hpbGQoVCksXz0hMCksRT12JiZfP3IuU3BsaXRUeXBlLmJvdGg6dj9yLlNwbGl0VHlwZS5oZWFkOl8/ci5TcGxpdFR5cGUudGFpbDpyLlNwbGl0VHlwZS5ub25lLGEuc2V0QXR0cmlidXRlKFwiZGF0YS1cIitpLkRBVEFTRVRfU1BMSVRfVFlQRSxFKSx1LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGMsdSksYX0oZSx0LG4sYSk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuJG5vZGUucGFyZW50Tm9kZSxvPXI7cyhvLG4pO3ZhciBhPXIuZGF0YXNldCx1PWFbaS5DQU1FTF9EQVRBU0VUX0lERU5USUZJRVJdO3JldHVybiBhW2kuQ0FNRUxfREFUQVNFVF9JREVOVElGSUVSXT10LmlkLGFbaS5DQU1FTF9EQVRBU0VUX0lERU5USUZJRVJfRVhUUkFdPWFbaS5DQU1FTF9EQVRBU0VUX0lERU5USUZJRVJfRVhUUkFdP3UraS5JRF9ESVZJU0lPTithW2kuQ0FNRUxfREFUQVNFVF9JREVOVElGSUVSX0VYVFJBXTp1LG99KGUsdCxuKTpmdW5jdGlvbihlLHQsbixyKXt2YXIgbztyZXR1cm4gcyhvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQociksbiksby5hcHBlbmRDaGlsZChlLiRub2RlLmNsb25lTm9kZSghMSkpLGUuJG5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobyxlLiRub2RlKSxvLnNldEF0dHJpYnV0ZShcImRhdGEtXCIraS5EQVRBU0VUX0lERU5USUZJRVIsdC5pZCksby5zZXRBdHRyaWJ1dGUoXCJkYXRhLVwiK2kuREFUQVNFVF9TUExJVF9UWVBFLGUuc3BsaXRUeXBlKSxvLnNldEF0dHJpYnV0ZShcImRhdGEtXCIraS5EQVRBU0VUX0lERU5USUZJRVJfRVhUUkEsXCJcIiksb30oZSx0LG4sYSl9LHQubm9ybWFsaXplU2libGluZ1RleHQ9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD0hMCksZSYmMz09PWUubm9kZVR5cGUpe3ZhciBuPXQ/ZS5uZXh0U2libGluZzplLnByZXZpb3VzU2libGluZztpZigzPT09bi5ub2RlVHlwZSl7dmFyIHI9bi5ub2RlVmFsdWU7ZS5ub2RlVmFsdWU9dD9lLm5vZGVWYWx1ZStyOnIrZS5ub2RlVmFsdWUsbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pfX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9bigxKTt0LmluaXREZWZhdWx0U3R5bGVzaGVldD1mdW5jdGlvbigpe3ZhciBlPXIuU1RZTEVTSEVFVF9JRCx0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO2lmKCF0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyLlNUWUxFU0hFRVRfVEVYVCk7KHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpKS5pZD10aGlzLnN0eWxlSWQsdC5hcHBlbmRDaGlsZChuKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHQpfXJldHVybiB0fX1dKS5kZWZhdWx0fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViLWhpZ2hsaWdodGVyLm1pbi5qcy5tYXAiLCJpbXBvcnQgSGlnaGxpZ2h0ZXIgZnJvbSAnd2ViLWhpZ2hsaWdodGVyJztcclxuXHJcbndpbmRvdy5ub3RlQXBwID0gbmV3IFZ1ZSh7XHJcbiAgZWw6IFwiI21vZHVsZVBvc3ROb3Rlc1wiLFxyXG4gIGRhdGE6IHtcclxuICAgIG5vdGVzOiBbXSxcclxuICAgIGhsOiBcIlwiXHJcbiAgfSxcclxuICBtb3VudGVkKCkge1xyXG4gICAgdGhpcy5pbml0SGlnaExpZ2h0ZXIoKTtcclxuICB9LFxyXG4gIGNvbXB1dGVkOiB7XHJcbiAgICBub3Rlc09iaigpIHtcclxuICAgICAgY29uc3Qgb2JqID0ge307XHJcbiAgICAgIHRoaXMubm90ZXMubWFwKG4gPT4ge1xyXG4gICAgICAgIG9ialtuLmlkXSA9IG47XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gb2JqO1xyXG4gICAgfSxcclxuICAgIG5vdGVzT3JkZXIoKSB7XHJcbiAgICAgIGNvbnN0IHtub3Rlc30gPSB0aGlzO1xyXG5cclxuICAgIH1cclxuICB9LFxyXG4gIG1ldGhvZHM6IHtcclxuICAgIGluaXRIaWdoTGlnaHRlcigpIHtcclxuICAgICAgdGhpcy5obCA9IG5ldyBIaWdobGlnaHRlcih7XHJcbiAgICAgICAgZXhjZXB0U2VsZWN0b3JzOiBbXCJjb2RlXCIsIFwicHJlXCJdXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmhsLm9uKEhpZ2hsaWdodGVyLmV2ZW50LkNSRUFURSwgdGhpcy5vbkNyZWF0ZSk7XHJcbiAgICAgIHRoaXMuaGwub24oSGlnaGxpZ2h0ZXIuZXZlbnQuQ0xJQ0ssIHRoaXMub25DbGljayk7XHJcbiAgICAgIHRoaXMuaGwub24oSGlnaGxpZ2h0ZXIuZXZlbnQuSE9WRVIsIHRoaXMub25Ib3Zlcik7XHJcbiAgICAgIHRoaXMuaGwub24oSGlnaGxpZ2h0ZXIuZXZlbnQuSE9WRVJfT1VULCB0aGlzLm9uSG92ZXJPdXQpO1xyXG4gICAgICB0aGlzLmhsLnJ1bigpO1xyXG4gICAgfSxcclxuICAgIHJlc2V0UGFuZWwoKSB7XHJcbiAgICAgIGNvbnN0IG5vdGVzXyA9IHRoaXMubm90ZXM7XHJcbiAgICAgIHRoaXMubm90ZXMubWFwKG4gPT4gbi5hY3RpdmUgPSBmYWxzZSk7XHJcbiAgICB9LFxyXG4gICAgb25DcmVhdGUoZGF0YSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIuWIm+W7uu+8mlwiKTtcclxuICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICBjb25zdCBpZCA9IGRhdGEuc291cmNlc1swXS5pZDtcclxuICAgICAgbGV0IGRvbSA9IHRoaXMuaGwuZ2V0RG9tcyhpZClbMF07XHJcbiAgICAgIGRvbSA9ICQoZG9tKTtcclxuICAgICAgY29uc3QgYnRuID0gJChgPGkgZGF0YS1wb3N0LW5vZGUtaWQ9JyR7aWR9Jz7mt7vliqDmibnms6g8L2k+YCk7XHJcbiAgICAgIGRvbS5hcHBlbmQoYnRuKTtcclxuICAgICAgYnRuLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgXHJcbiAgICAgIH0pO1xyXG4gICAgICAvKiB0aGlzLnJlc2V0UGFuZWwoKTtcclxuICAgICAgZGF0YS5zb3VyY2VzLm1hcChub2RlID0+IHtcclxuICAgICAgICBjb25zdCB7aWR9ID0gbm9kZTtcclxuICAgICAgICBzZWxmLm5vdGVzLnB1c2goe1xyXG4gICAgICAgICAgaWQsXHJcbiAgICAgICAgICBhY3RpdmU6IHRydWUsXHJcbiAgICAgICAgICBub2RlLFxyXG4gICAgICAgICAgY29tbWVudDogXCJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgY29uc29sZS5sb2coc2VsZi5ub3Rlcyk7ICovXHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlTm9kZShuKSB7XHJcbiAgICAgIGNvbnN0IHtpZH0gPSBuO1xyXG4gICAgICBjb25zdCB7aGwsIG5vdGVzfSA9IHRoaXM7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gbm90ZXMuaW5kZXhPZihuKTtcclxuICAgICAgaGwucmVtb3ZlKGlkKTtcclxuICAgICAgbm90ZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH0sXHJcbiAgICBlZGl0Tm9kZShuKSB7XHJcbiAgICAgIHRoaXMucmVzZXRQYW5lbCgpO1xyXG4gICAgICBuLmFjdGl2ZSA9IHRydWU7XHJcbiAgICB9LFxyXG4gICAgb25DbGljayh7aWR9KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwi54K55Ye777yaXCIpO1xyXG4gICAgICBjb25zb2xlLmxvZyhpZCk7XHJcbiAgICAgIGNvbnN0IHtub3Rlc09iaiwgbm90ZXN9ID0gdGhpcztcclxuICAgICAgdGhpcy5yZXNldFBhbmVsKCk7XHJcbiAgICAgIG5vdGVzT2JqW2lkXS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfSxcclxuICAgIG9uSG92ZXIoe2lkfSkge1xyXG4gICAgICB0aGlzLmhsLmFkZENsYXNzKCdoaWdobGlnaHQtd3JhcC1ob3ZlcicsIGlkKTsgIFxyXG4gICAgfSxcclxuICAgIG9uSG92ZXJPdXQoe2lkfSkge1xyXG4gICAgICB0aGlzLmhsLnJlbW92ZUNsYXNzKCdoaWdobGlnaHQtd3JhcC1ob3ZlcicsIGlkKTtcclxuICAgIH1cclxuICB9XHJcbn0pXHJcblxyXG4vLyAyLiDku47lkI7nq6/ojrflj5bpq5jkuq7kv6Hmga/vvIzov5jljp/oh7PnvZHpobVcclxuLy8gZ2V0UmVtb3RlRGF0YSgpLnRoZW4ocyA9PiBoaWdobGlnaHRlci5mcm9tU3RvcmUocy5zdGFydE1ldGEsIHMuZW5kTWV0YSwgcy5pZCwgcy50ZXh0KSk7XHJcbiJdfQ==
