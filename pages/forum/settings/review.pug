extends ../../bootstrap_base
block title
  title 审核设置
  style.
    .group-name {
      margin-left: 10px;
    }
    .group-keywords-count {
      color: rgb(191, 191, 191);
      font-size: .8em;
      font-weight: normal;
      margin-left: 10px;
    }

block content
  #data.hidden= objToStr({wordGroupInfo: data.wordGroupInfo, fid: data.fid, keywordReviewPlanUseTo: data.keywordReviewPlanUseTo, useGroup: data.useGroup, reviewPlan: data.reviewPlan, roles: data.roles, grades: data.grades, roleGradeReview: data.roleGradeReview})
  .container-fluid.max-width
    .row
      .col-xs-12.col-md-2
        include ../../module_forum_settings
      .col-xs-12.col-md-10(v-cloak)#app
        .panel.panel-default
          .panel-heading
            span 内容送审
          .panel-body
            div.form-horizontal
              .form-group
                label.col-sm-2.control-label 送审范围
                .col-sm-10
                  .radio
                    //- label
                      input(type="checkbox" v-model="allContentShouldReview")
                    label
                      input(type="radio" v-model="reviewPlan" value="all")
                      | 文章和回复
                  .radio
                    label
                      input(type="radio" v-model="reviewPlan" value="only_thread")
                      | 仅文章
                  .radio
                    label
                      input(type="radio" v-model="reviewPlan" value="only_reply")
                      | 仅回复
                  .radio
                    label
                      input(type="radio" v-model="reviewPlan" value="all_no_rule")
                      | 所有用户的文章和回复均送审（无视以下规则）
              .form-group
                label.col-sm-2.control-label 送审规则:
                .col-sm-10.m-t-05
                  span(style="color:#848484") 勾选的才会纳入匹配（即黑名单制）
              .form-group
                .col-sm-2.control-label 角色
                .col-sm-10
                  .checkbox
                    label(v-for='r in roles').m-r-1
                      input(type='checkbox' :value='r._id' v-model="roleGradeReview.roles")
                      span {{r.displayName}}
              .form-group
                label.col-sm-2.control-label
                .col-sm-10
                  label
                    select(v-model="roleGradeReview.relationship")
                      option(value="and") 与
                      option(value="or") 或
              .form-group
                .col-sm-2.control-label 等级
                .col-sm-10
                  .checkbox
                    label(v-for='r in grades').m-r-1
                      input(type='checkbox' :value='r._id' v-model="roleGradeReview.grades")
                      span {{r.displayName}}

        .panel.panel-default
          .panel-heading
            span 敏感内容送审
          .panel-body
            div.form-horizontal
              .form-group
                label.col-sm-2.control-label 敏感词检测范围
                .col-sm-10
                  .radio
                    //- label
                      input(type="checkbox" v-model="allContentShouldReview")
                    label
                      input(type="radio" v-model="keywordReview.keywordReviewPlanUseTo" value="all")
                      | 文章和回复
                  .radio
                    label
                      input(type="radio" v-model="keywordReview.keywordReviewPlanUseTo" value="only_thread")
                      | 仅文章
                  .radio
                    label
                      input(type="radio" v-model="keywordReview.keywordReviewPlanUseTo" value="only_reply")
                      | 仅回复
              .form-group
                label.col-sm-2.control-label 使用敏感词组
                .col-sm-10
                  .checkbox(v-for="(group, index) in keywordReview.wordGroupInfo")
                    label
                      input(type="checkbox" :value="group.id" v-model="keywordReview.selectedGroup")
                      span.group-name {{group.name}}
                      span.group-keywords-count 共{{group.len}}个敏感词
        .m-t-1
          button.btn.btn-primary.btn-block(@click="submit()") 保存

block scripts
  +includeJS('/forum/settings/review.js')
