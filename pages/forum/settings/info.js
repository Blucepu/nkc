(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var data = NKC.methods.getDataById('data');
var forum = data.forum;
forum._noticeThreadsId = (forum.noticeThreadsId || []).join(", ");
forum._basicThreadsId = (forum.basicThreadsId || []).join(", ");
forum._valuableThreadsId = (forum.valuableThreadsId || []).join(", ");
var selectImage = new NKC.methods.selectImage();
var app = new Vue({
  el: '#app',
  data: {
    logoData: '',
    logoFile: '',
    bannerData: '',
    bannerFile: '',
    submitting: false,
    forum: forum
  },
  mounted: function mounted() {
    var self = this;
    setTimeout(function () {
      NKC.methods.initSelectColor(function (color) {
        self.forum.color = color;
      });
    }, 100);
  },
  methods: {
    getUrl: NKC.methods.tools.getUrl,
    str2arr: function str2arr(str) {
      var arr = str.split(',');
      var _arr = [];
      arr.map(function (a) {
        a = a.trim();
        if (a) _arr.push(a);
      });
      return _arr;
    },
    selectLogo: function selectLogo() {
      var self = this;
      selectImage.show(function (d) {
        var file = NKC.methods.blobToFile(d);
        NKC.methods.fileToUrl(file).then(function (d) {
          self.logoData = d;
          self.logoFile = file;
          selectImage.close();
        });
      }, {
        aspectRatio: 1
      });
    },
    selectBanner: function selectBanner() {
      var self = this;
      selectImage.show(function (d) {
        var file = NKC.methods.blobToFile(d);
        NKC.methods.fileToUrl(file).then(function (d) {
          self.bannerData = d;
          self.bannerFile = file;
          selectImage.close();
        });
      }, {
        aspectRatio: 4
      });
    },
    toEditor: function toEditor() {
      NKC.methods.visitUrl('/editor?type=forum_declare&id=' + this.forum.fid, true);
    },
    save: function save() {
      var self = this;
      var forum = self.forum;
      Promise.resolve().then(function () {
        self.submitting = true;
        forum.noticeThreadsId = self.str2arr(forum._noticeThreadsId);
        forum.basicThreadsId = self.str2arr(forum._basicThreadsId);
        forum.valuableThreadsId = self.str2arr(forum._valuableThreadsId);
        var formData = new FormData();
        formData.append('forum', JSON.stringify(forum));

        if (self.logoFile) {
          formData.append('logo', self.logoFile);
        }

        if (self.bannerFile) {
          formData.append('banner', self.bannerFile);
        }

        return nkcUploadFile("/f/".concat(self.forum.fid, "/settings/info"), 'PUT', formData);
      }).then(function (data) {
        if (data.logo) {
          self.logoData = '';
          self.logoFile = '';
          self.forum.logo = data.logo;
        }

        if (data.banner) {
          self.bannerData = '';
          self.bannerFile = '';
          self.forum.banner = data.banner;
        }

        sweetSuccess('保存成功');
        self.submitting = false;
      })["catch"](function (err) {
        self.submitting = false;
        sweetError(err);
      });
    }
  }
});
$('input[name="defaultThreadSort"]').iCheck({
  checkboxClass: 'icheckbox_minimal-red',
  radioClass: 'iradio_minimal-red'
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJwYWdlcy9mb3J1bS9zZXR0aW5ncy9pbmZvLm1qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLE9BQUosQ0FBWSxXQUFaLENBQXdCLE1BQXhCLENBQWI7QUFDQSxJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBbkI7QUFDQSxLQUFLLENBQUMsZ0JBQU4sR0FBeUIsQ0FBQyxLQUFLLENBQUMsZUFBTixJQUF5QixFQUExQixFQUE4QixJQUE5QixDQUFtQyxJQUFuQyxDQUF6QjtBQUNBLEtBQUssQ0FBQyxlQUFOLEdBQXdCLENBQUMsS0FBSyxDQUFDLGNBQU4sSUFBd0IsRUFBekIsRUFBNkIsSUFBN0IsQ0FBa0MsSUFBbEMsQ0FBeEI7QUFDQSxLQUFLLENBQUMsa0JBQU4sR0FBMkIsQ0FBQyxLQUFLLENBQUMsaUJBQU4sSUFBMkIsRUFBNUIsRUFBZ0MsSUFBaEMsQ0FBcUMsSUFBckMsQ0FBM0I7QUFDQSxJQUFNLFdBQVcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxPQUFKLENBQVksV0FBaEIsRUFBcEI7QUFDQSxJQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUosQ0FBUTtBQUNuQixFQUFBLEVBQUUsRUFBRSxNQURlO0FBRW5CLEVBQUEsSUFBSSxFQUFFO0FBQ0wsSUFBQSxRQUFRLEVBQUUsRUFETDtBQUVMLElBQUEsUUFBUSxFQUFFLEVBRkw7QUFHTCxJQUFBLFVBQVUsRUFBRSxFQUhQO0FBSUwsSUFBQSxVQUFVLEVBQUUsRUFKUDtBQUtMLElBQUEsVUFBVSxFQUFFLEtBTFA7QUFNTCxJQUFBLEtBQUssRUFBTDtBQU5LLEdBRmE7QUFVbkIsRUFBQSxPQVZtQixxQkFVVDtBQUNULFFBQU0sSUFBSSxHQUFHLElBQWI7QUFDQSxJQUFBLFVBQVUsQ0FBQyxZQUFNO0FBQ2hCLE1BQUEsR0FBRyxDQUFDLE9BQUosQ0FBWSxlQUFaLENBQTRC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QWtDQTtBQS9FTztBQW5CVSxDQUFSLENBQVo7QUF1R0EsQ0FBQyxDQUFDLGlDQUFELENBQUQsQ0FBcUMsTUFBckMsQ0FBNEM7QUFDM0MsRUFBQSxhQUFhLEVBQUUsdUJBRDRCO0FBRTNDLEVBQUEsVUFBVSxFQUFFO0FBRitCLENBQTVDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiY29uc3QgZGF0YSA9IE5LQy5tZXRob2RzLmdldERhdGFCeUlkKCdkYXRhJyk7XHJcbmNvbnN0IGZvcnVtID0gZGF0YS5mb3J1bTtcclxuZm9ydW0uX25vdGljZVRocmVhZHNJZCA9IChmb3J1bS5ub3RpY2VUaHJlYWRzSWQgfHwgW10pLmpvaW4oXCIsIFwiKTtcclxuZm9ydW0uX2Jhc2ljVGhyZWFkc0lkID0gKGZvcnVtLmJhc2ljVGhyZWFkc0lkIHx8IFtdKS5qb2luKFwiLCBcIik7XHJcbmZvcnVtLl92YWx1YWJsZVRocmVhZHNJZCA9IChmb3J1bS52YWx1YWJsZVRocmVhZHNJZCB8fCBbXSkuam9pbihcIiwgXCIpO1xyXG5jb25zdCBzZWxlY3RJbWFnZSA9IG5ldyBOS0MubWV0aG9kcy5zZWxlY3RJbWFnZSgpXHJcbmNvbnN0IGFwcCA9IG5ldyBWdWUoe1xyXG5cdGVsOiAnI2FwcCcsXHJcblx0ZGF0YToge1xyXG5cdFx0bG9nb0RhdGE6ICcnLFxyXG5cdFx0bG9nb0ZpbGU6ICcnLFxyXG5cdFx0YmFubmVyRGF0YTogJycsXHJcblx0XHRiYW5uZXJGaWxlOiAnJyxcclxuXHRcdHN1Ym1pdHRpbmc6IGZhbHNlLFxyXG5cdFx0Zm9ydW1cclxuXHR9LFxyXG5cdG1vdW50ZWQoKSB7XHJcblx0XHRjb25zdCBzZWxmID0gdGhpcztcclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHROS0MubWV0aG9kcy5pbml0U2VsZWN0Q29sb3IoY29sb3IgPT4ge1xyXG5cdFx0XHRcdHNlbGYuZm9ydW0uY29sb3IgPSBjb2xvcjtcclxuXHRcdFx0fSk7XHJcblx0XHR9LCAxMDApXHJcblxyXG5cdH0sXHJcblx0bWV0aG9kczoge1xyXG5cdFx0Z2V0VXJsOiBOS0MubWV0aG9kcy50b29scy5nZXRVcmwsXHJcblx0XHRzdHIyYXJyKHN0cikge1xyXG5cdFx0XHRjb25zdCBhcnIgPSBzdHIuc3BsaXQoJywnKTtcclxuXHRcdFx0Y29uc3QgX2FyciA9IFtdO1xyXG5cdFx0XHRhcnIubWFwKGEgPT4ge1xyXG5cdFx0XHRcdGEgPSBhLnRyaW0oKTtcclxuXHRcdFx0XHRpZihhKSBfYXJyLnB1c2goYSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gX2FycjtcclxuXHRcdH0sXHJcblx0XHRzZWxlY3RMb2dvKCkge1xyXG5cdFx0XHRjb25zdCBzZWxmID0gdGhpcztcclxuXHRcdFx0c2VsZWN0SW1hZ2Uuc2hvdyhkID0+IHtcclxuXHRcdFx0XHRjb25zdCBmaWxlID0gTktDLm1ldGhvZHMuYmxvYlRvRmlsZShkKTtcclxuXHRcdFx0XHROS0MubWV0aG9kcy5maWxlVG9VcmwoZmlsZSlcclxuXHRcdFx0XHRcdC50aGVuKGQgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmxvZ29EYXRhID0gZDtcclxuXHRcdFx0XHRcdFx0c2VsZi5sb2dvRmlsZSA9IGZpbGU7XHJcblx0XHRcdFx0XHRcdHNlbGVjdEltYWdlLmNsb3NlKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0YXNwZWN0UmF0aW86IDFcclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cdFx0c2VsZWN0QmFubmVyKCkge1xyXG5cdFx0XHRjb25zdCBzZWxmID0gdGhpcztcclxuXHRcdFx0c2VsZWN0SW1hZ2Uuc2hvdyhkID0+IHtcclxuXHRcdFx0XHRjb25zdCBmaWxlID0gTktDLm1ldGhvZHMuYmxvYlRvRmlsZShkKTtcclxuXHRcdFx0XHROS0MubWV0aG9kcy5maWxlVG9VcmwoZmlsZSlcclxuXHRcdFx0XHRcdC50aGVuKGQgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmJhbm5lckRhdGEgPSBkO1xyXG5cdFx0XHRcdFx0XHRzZWxmLmJhbm5lckZpbGUgPSBmaWxlO1xyXG5cdFx0XHRcdFx0XHRzZWxlY3RJbWFnZS5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGFzcGVjdFJhdGlvOiA0XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHRcdHRvRWRpdG9yKCkge1xyXG5cdFx0XHROS0MubWV0aG9kcy52aXNpdFVybCgnL2VkaXRvcj90eXBlPWZvcnVtX2RlY2xhcmUmaWQ9Jyt0aGlzLmZvcnVtLmZpZCwgdHJ1ZSk7XHJcblx0XHR9LFxyXG5cdFx0c2F2ZSgpIHtcclxuXHRcdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XHJcblx0XHRcdGNvbnN0IHtmb3J1bX0gPSBzZWxmO1xyXG5cdFx0XHRQcm9taXNlLnJlc29sdmUoKVxyXG5cdFx0XHRcdC50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdHNlbGYuc3VibWl0dGluZyA9IHRydWU7XHJcblx0XHRcdFx0XHRmb3J1bS5ub3RpY2VUaHJlYWRzSWQgPSBzZWxmLnN0cjJhcnIoZm9ydW0uX25vdGljZVRocmVhZHNJZCk7XHJcblx0XHRcdFx0XHRmb3J1bS5iYXNpY1RocmVhZHNJZCA9IHNlbGYuc3RyMmFycihmb3J1bS5fYmFzaWNUaHJlYWRzSWQpO1xyXG5cdFx0XHRcdFx0Zm9ydW0udmFsdWFibGVUaHJlYWRzSWQgPSBzZWxmLnN0cjJhcnIoZm9ydW0uX3ZhbHVhYmxlVGhyZWFkc0lkKTtcclxuXHRcdFx0XHRcdGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblx0XHRcdFx0XHRmb3JtRGF0YS5hcHBlbmQoJ2ZvcnVtJywgSlNPTi5zdHJpbmdpZnkoZm9ydW0pKTtcclxuXHRcdFx0XHRcdGlmKHNlbGYubG9nb0ZpbGUpIHtcclxuXHRcdFx0XHRcdFx0Zm9ybURhdGEuYXBwZW5kKCdsb2dvJywgc2VsZi5sb2dvRmlsZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZihzZWxmLmJhbm5lckZpbGUpIHtcclxuXHRcdFx0XHRcdFx0Zm9ybURhdGEuYXBwZW5kKCdiYW5uZXInLCBzZWxmLmJhbm5lckZpbGUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuIG5rY1VwbG9hZEZpbGUoYC9mLyR7c2VsZi5mb3J1bS5maWR9L3NldHRpbmdzL2luZm9gLCAnUFVUJywgZm9ybURhdGEpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdFx0XHRcdGlmKGRhdGEubG9nbykge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmxvZ29EYXRhID0gJyc7XHJcblx0XHRcdFx0XHRcdHNlbGYubG9nb0ZpbGUgPSAnJztcclxuXHRcdFx0XHRcdFx0c2VsZi5mb3J1bS5sb2dvID0gZGF0YS5sb2dvO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYoZGF0YS5iYW5uZXIpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5iYW5uZXJEYXRhID0gJyc7XHJcblx0XHRcdFx0XHRcdHNlbGYuYmFubmVyRmlsZSA9ICcnO1xyXG5cdFx0XHRcdFx0XHRzZWxmLmZvcnVtLmJhbm5lciA9IGRhdGEuYmFubmVyO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0c3dlZXRTdWNjZXNzKCfkv53lrZjmiJDlip8nKTtcclxuXHRcdFx0XHRcdHNlbGYuc3VibWl0dGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmNhdGNoKGVyciA9PiB7XHJcblx0XHRcdFx0XHRzZWxmLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHN3ZWV0RXJyb3IoZXJyKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbiQoJ2lucHV0W25hbWU9XCJkZWZhdWx0VGhyZWFkU29ydFwiXScpLmlDaGVjayh7XHJcblx0Y2hlY2tib3hDbGFzczogJ2ljaGVja2JveF9taW5pbWFsLXJlZCcsXHJcblx0cmFkaW9DbGFzczogJ2lyYWRpb19taW5pbWFsLXJlZCcsXHJcbn0pO1xyXG4iXX0=
