(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var data = NKC.methods.getDataById('data');
var forum = data.forum;
forum._noticeThreadsId = (forum.noticeThreadsId || []).join(", ");
forum._basicThreadsId = (forum.basicThreadsId || []).join(", ");
forum._valuableThreadsId = (forum.valuableThreadsId || []).join(", ");
var selectImage = new NKC.methods.selectImage();
var app = new Vue({
  el: '#app',
  data: {
    logoData: '',
    logoFile: '',
    bannerData: '',
    bannerFile: '',
    submitting: false,
    forum: forum
  },
  mounted: function mounted() {
    var self = this;
    setTimeout(function () {
      NKC.methods.initSelectColor(function (color) {
        self.forum.color = color;
      });
    }, 100);
  },
  methods: {
    getUrl: NKC.methods.tools.getUrl,
    str2arr: function str2arr(str) {
      var arr = str.split(',');
      var _arr = [];
      arr.map(function (a) {
        a = a.trim();
        if (a) _arr.push(a);
      });
      return _arr;
    },
    selectLogo: function selectLogo() {
      var self = this;
      selectImage.show(function (d) {
        var file = NKC.methods.blobToFile(d);
        NKC.methods.fileToUrl(file).then(function (d) {
          self.logoData = d;
          self.logoFile = file;
          selectImage.close();
        });
      }, {
        aspectRatio: 1
      });
    },
    selectBanner: function selectBanner() {
      var self = this;
      selectImage.show(function (d) {
        var file = NKC.methods.blobToFile(d);
        NKC.methods.fileToUrl(file).then(function (d) {
          self.bannerData = d;
          self.bannerFile = file;
          selectImage.close();
        });
      }, {
        aspectRatio: 4
      });
    },
    toEditor: function toEditor() {
      NKC.methods.visitUrl('/editor?type=forum_declare&id=' + this.forum.fid, true);
    },
    save: function save() {
      var self = this;
      var forum = self.forum;
      Promise.resolve().then(function () {
        self.submitting = true;
        forum.noticeThreadsId = self.str2arr(forum._noticeThreadsId);
        forum.basicThreadsId = self.str2arr(forum._basicThreadsId);
        forum.valuableThreadsId = self.str2arr(forum._valuableThreadsId);
        var formData = new FormData();
        formData.append('forum', JSON.stringify(forum));

        if (self.logoFile) {
          formData.append('logo', self.logoFile);
        }

        if (self.bannerFile) {
          formData.append('banner', self.bannerFile);
        }

        return nkcUploadFile("/f/".concat(self.forum.fid, "/settings/info"), 'PATCH', formData);
      }).then(function (data) {
        if (data.logo) {
          self.logoData = '';
          self.logoFile = '';
          self.forum.logo = data.logo;
        }

        if (data.banner) {
          self.bannerData = '';
          self.bannerFile = '';
          self.forum.banner = data.banner;
        }

        sweetSuccess('保存成功');
        self.submitting = false;
      })["catch"](function (err) {
        self.submitting = false;
        sweetError(err);
      });
    }
  }
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9fYnJvd3Nlci1wYWNrQDYuMS4wQGJyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInBhZ2VzL2ZvcnVtL3NldHRpbmdzL2luZm8ubWpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxJQUFNLElBQUksR0FBRyxHQUFHLENBQUMsT0FBSixDQUFZLFdBQVosQ0FBd0IsTUFBeEIsQ0FBYjtBQUNBLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFuQjtBQUNBLEtBQUssQ0FBQyxnQkFBTixHQUF5QixDQUFDLEtBQUssQ0FBQyxlQUFOLElBQXlCLEVBQTFCLEVBQThCLElBQTlCLENBQW1DLElBQW5DLENBQXpCO0FBQ0EsS0FBSyxDQUFDLGVBQU4sR0FBd0IsQ0FBQyxLQUFLLENBQUMsY0FBTixJQUF3QixFQUF6QixFQUE2QixJQUE3QixDQUFrQyxJQUFsQyxDQUF4QjtBQUNBLEtBQUssQ0FBQyxrQkFBTixHQUEyQixDQUFDLEtBQUssQ0FBQyxpQkFBTixJQUEyQixFQUE1QixFQUFnQyxJQUFoQyxDQUFxQyxJQUFyQyxDQUEzQjtBQUNBLElBQU0sV0FBVyxHQUFHLElBQUksR0FBRyxDQUFDLE9BQUosQ0FBWSxXQUFoQixFQUFwQjtBQUNBLElBQU0sR0FBRyxHQUFHLElBQUksR0FBSixDQUFRO0FBQ25CLEVBQUEsRUFBRSxFQUFFLE1BRGU7QUFFbkIsRUFBQSxJQUFJLEVBQUU7QUFDTCxJQUFBLFFBQVEsRUFBRSxFQURMO0FBRUwsSUFBQSxRQUFRLEVBQUUsRUFGTDtBQUdMLElBQUEsVUFBVSxFQUFFLEVBSFA7QUFJTCxJQUFBLFVBQVUsRUFBRSxFQUpQO0FBS0wsSUFBQSxVQUFVLEVBQUUsS0FMUDtBQU1MLElBQUEsS0FBSyxFQUFMO0FBTkssR0FGYTtBQVVuQixFQUFBLE9BVm1CLHFCQVVUO0FBQ1QsUUFBTSxJQUFJLEdBQUcsSUFBYjtBQUNBLElBQUEsVUFBVSxDQUFDLFlBQU07QUFDaEIsTUFBQSxHQUFHLENBQUMs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QUQsQ0FBVjtBQUNBLE9BakNGO0FBa0NBO0FBL0VPO0FBbkJVLENBQVIsQ0FBWiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImNvbnN0IGRhdGEgPSBOS0MubWV0aG9kcy5nZXREYXRhQnlJZCgnZGF0YScpO1xyXG5jb25zdCBmb3J1bSA9IGRhdGEuZm9ydW07XHJcbmZvcnVtLl9ub3RpY2VUaHJlYWRzSWQgPSAoZm9ydW0ubm90aWNlVGhyZWFkc0lkIHx8IFtdKS5qb2luKFwiLCBcIik7XHJcbmZvcnVtLl9iYXNpY1RocmVhZHNJZCA9IChmb3J1bS5iYXNpY1RocmVhZHNJZCB8fCBbXSkuam9pbihcIiwgXCIpO1xyXG5mb3J1bS5fdmFsdWFibGVUaHJlYWRzSWQgPSAoZm9ydW0udmFsdWFibGVUaHJlYWRzSWQgfHwgW10pLmpvaW4oXCIsIFwiKTtcclxuY29uc3Qgc2VsZWN0SW1hZ2UgPSBuZXcgTktDLm1ldGhvZHMuc2VsZWN0SW1hZ2UoKVxyXG5jb25zdCBhcHAgPSBuZXcgVnVlKHtcclxuXHRlbDogJyNhcHAnLFxyXG5cdGRhdGE6IHtcclxuXHRcdGxvZ29EYXRhOiAnJyxcclxuXHRcdGxvZ29GaWxlOiAnJyxcclxuXHRcdGJhbm5lckRhdGE6ICcnLFxyXG5cdFx0YmFubmVyRmlsZTogJycsXHJcblx0XHRzdWJtaXR0aW5nOiBmYWxzZSxcclxuXHRcdGZvcnVtXHJcblx0fSxcclxuXHRtb3VudGVkKCkge1xyXG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0TktDLm1ldGhvZHMuaW5pdFNlbGVjdENvbG9yKGNvbG9yID0+IHtcclxuXHRcdFx0XHRzZWxmLmZvcnVtLmNvbG9yID0gY29sb3I7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSwgMTAwKVxyXG5cclxuXHR9LFxyXG5cdG1ldGhvZHM6IHtcclxuXHRcdGdldFVybDogTktDLm1ldGhvZHMudG9vbHMuZ2V0VXJsLFxyXG5cdFx0c3RyMmFycihzdHIpIHtcclxuXHRcdFx0Y29uc3QgYXJyID0gc3RyLnNwbGl0KCcsJyk7XHJcblx0XHRcdGNvbnN0IF9hcnIgPSBbXTtcclxuXHRcdFx0YXJyLm1hcChhID0+IHtcclxuXHRcdFx0XHRhID0gYS50cmltKCk7XHJcblx0XHRcdFx0aWYoYSkgX2Fyci5wdXNoKGEpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIF9hcnI7XHJcblx0XHR9LFxyXG5cdFx0c2VsZWN0TG9nbygpIHtcclxuXHRcdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHNlbGVjdEltYWdlLnNob3coZCA9PiB7XHJcblx0XHRcdFx0Y29uc3QgZmlsZSA9IE5LQy5tZXRob2RzLmJsb2JUb0ZpbGUoZCk7XHJcblx0XHRcdFx0TktDLm1ldGhvZHMuZmlsZVRvVXJsKGZpbGUpXHJcblx0XHRcdFx0XHQudGhlbihkID0+IHtcclxuXHRcdFx0XHRcdFx0c2VsZi5sb2dvRGF0YSA9IGQ7XHJcblx0XHRcdFx0XHRcdHNlbGYubG9nb0ZpbGUgPSBmaWxlO1xyXG5cdFx0XHRcdFx0XHRzZWxlY3RJbWFnZS5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGFzcGVjdFJhdGlvOiAxXHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHRcdHNlbGVjdEJhbm5lcigpIHtcclxuXHRcdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHNlbGVjdEltYWdlLnNob3coZCA9PiB7XHJcblx0XHRcdFx0Y29uc3QgZmlsZSA9IE5LQy5tZXRob2RzLmJsb2JUb0ZpbGUoZCk7XHJcblx0XHRcdFx0TktDLm1ldGhvZHMuZmlsZVRvVXJsKGZpbGUpXHJcblx0XHRcdFx0XHQudGhlbihkID0+IHtcclxuXHRcdFx0XHRcdFx0c2VsZi5iYW5uZXJEYXRhID0gZDtcclxuXHRcdFx0XHRcdFx0c2VsZi5iYW5uZXJGaWxlID0gZmlsZTtcclxuXHRcdFx0XHRcdFx0c2VsZWN0SW1hZ2UuY2xvc2UoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRhc3BlY3RSYXRpbzogNFxyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblx0XHR0b0VkaXRvcigpIHtcclxuXHRcdFx0TktDLm1ldGhvZHMudmlzaXRVcmwoJy9lZGl0b3I/dHlwZT1mb3J1bV9kZWNsYXJlJmlkPScrdGhpcy5mb3J1bS5maWQsIHRydWUpO1xyXG5cdFx0fSxcclxuXHRcdHNhdmUoKSB7XHJcblx0XHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRjb25zdCB7Zm9ydW19ID0gc2VsZjtcclxuXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcclxuXHRcdFx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHRzZWxmLnN1Ym1pdHRpbmcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0Zm9ydW0ubm90aWNlVGhyZWFkc0lkID0gc2VsZi5zdHIyYXJyKGZvcnVtLl9ub3RpY2VUaHJlYWRzSWQpO1xyXG5cdFx0XHRcdFx0Zm9ydW0uYmFzaWNUaHJlYWRzSWQgPSBzZWxmLnN0cjJhcnIoZm9ydW0uX2Jhc2ljVGhyZWFkc0lkKTtcclxuXHRcdFx0XHRcdGZvcnVtLnZhbHVhYmxlVGhyZWFkc0lkID0gc2VsZi5zdHIyYXJyKGZvcnVtLl92YWx1YWJsZVRocmVhZHNJZCk7XHJcblx0XHRcdFx0XHRjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG5cdFx0XHRcdFx0Zm9ybURhdGEuYXBwZW5kKCdmb3J1bScsIEpTT04uc3RyaW5naWZ5KGZvcnVtKSk7XHJcblx0XHRcdFx0XHRpZihzZWxmLmxvZ29GaWxlKSB7XHJcblx0XHRcdFx0XHRcdGZvcm1EYXRhLmFwcGVuZCgnbG9nbycsIHNlbGYubG9nb0ZpbGUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYoc2VsZi5iYW5uZXJGaWxlKSB7XHJcblx0XHRcdFx0XHRcdGZvcm1EYXRhLmFwcGVuZCgnYmFubmVyJywgc2VsZi5iYW5uZXJGaWxlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiBua2NVcGxvYWRGaWxlKGAvZi8ke3NlbGYuZm9ydW0uZmlkfS9zZXR0aW5ncy9pbmZvYCwgJ1BBVENIJywgZm9ybURhdGEpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdFx0XHRcdGlmKGRhdGEubG9nbykge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmxvZ29EYXRhID0gJyc7XHJcblx0XHRcdFx0XHRcdHNlbGYubG9nb0ZpbGUgPSAnJztcclxuXHRcdFx0XHRcdFx0c2VsZi5mb3J1bS5sb2dvID0gZGF0YS5sb2dvO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYoZGF0YS5iYW5uZXIpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5iYW5uZXJEYXRhID0gJyc7XHJcblx0XHRcdFx0XHRcdHNlbGYuYmFubmVyRmlsZSA9ICcnO1xyXG5cdFx0XHRcdFx0XHRzZWxmLmZvcnVtLmJhbm5lciA9IGRhdGEuYmFubmVyO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0c3dlZXRTdWNjZXNzKCfkv53lrZjmiJDlip8nKTtcclxuXHRcdFx0XHRcdHNlbGYuc3VibWl0dGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmNhdGNoKGVyciA9PiB7XHJcblx0XHRcdFx0XHRzZWxmLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHN3ZWV0RXJyb3IoZXJyKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG4iXX0=
