extends bootstrap_base.pug

block title
  title 编辑器 - 科创论坛
  
  include MathJax.pug
  
block content
  
  -var mainContainer1400 = true
  #ife.container-fluid(style='max-width:1400px')
    if !data.user
        .row
            .col-xs-12.f12
                h1 尚未登录
                :markdown
                    请先[登录](/login)。
    else
        .row
            .col-md-12
            include exam_notification.pug
            
        .row
            .form-group
                input#title.form-control(style='height:50px' type='text' placeholder='标题：精简一点，你会更容易被搜到！' value=`${data.title || ''}`)
            .form-group
                div(style='margin-top: 5px;')
                select#parents.form-control(style='display: inline-block; width: auto;')
                    option 选择一个学院
                select#children.form-control(style='display: inline-block; width: auto;')
                    option 选择一个专业
                select#threadTypes.form-control(style='display: inline-block; width: auto;')
                    option 无
                select.form-control#lang(style='display: none; width: auto;')
                    option html
                include twemoji
                button#mathfresh.btn.btn-sm.btn-default(onclick='mathfreshnew()') 渲染代码/数学公式
                button.btn.btn-default.btn-sm(onclick='fitscreennew()') 适配屏幕
            .form-group
                div#content_test= data.content || ''
            .form-group
                div#math_test 写点什么东西
            .nkcpanel(id='file-uploading' target='/r')
                //uploader section
                include interface_attachment_uploader_uploader.pug
                
            .panel.panel-default
                .panel-heading 我的附件（点击插入帖子）
                .panel-body(id='list-container')            

            .form-group
                input#parseURL(type='checkbox' checked)
                span &nbsp;处理URL&nbsp;
            .form-group
                button#post.btn.btn-primary(type='submit' style='float: right;') 发表
  
  include debug_output.pug
block scripts


  script(src='/commonmark/dist/commonmark.js')
  script(src='/plain_escaper.js')
  script(src='/xbbcode-parser/xbbcode.js')
  script(src='/xss/dist/xss.js')
  
  script(src='/external_pkgs/react/react.min.js')
  script(src='/external_pkgs/react/JSXTransformer.js')
  
  script(src='/interface_common.js')
  script(src='/nkc_render.js')
  script(src='/interface_editor.js')
  
  script(src='/interface_attachment_uploader.js')
  script(type='text/jsx;harmony=true' src='/interface_attachment_list_display_test.js')
  
  script(src="/test.js")

  
  <script type="text/javascript" src="/wangEditor.js"></script>
  <script type="text/javascript" src="/newEditor.js"></script>
