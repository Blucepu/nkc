(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

function initTime() {
  $('.time').datetimepicker({
    language: 'zh-CN',
    format: 'yyyy-mm',
    autoclose: 1,
    todayHighlight: 1,
    startView: 4,
    minView: 3,
    forceParse: 0
  });
}

$(function () {
  initTime();
  getResults({
    type: 'today'
  });
  var radios = $('input:radio[name="statusType"]');
  radios.on('ifChanged', function () {
    for (var i = 0; i < radios.length; i++) {
      var radio = radios.eq(i);

      if (radio.prop('checked')) {
        var type = radio.attr('data-type');
        getResults({
          type: type
        });
      }
    }
  });
});
/*$('input[name="statusType"]').iCheck({
  checkboxClass: 'icheckbox_minimal-red',
  radioClass: 'iradio_minimal-red',
});*/

function getResults(options) {
  var type = options.type;

  if (type === 'custom') {
    $('#custom').show();
  } else {
    $('#custom').hide();
    getData(type);
  }
}

function reset() {
  $('#custom input[name="time1"]').val('');
  $('#custom input[name="time2"]').val('');
}

function getData(type) {
  var url = '/nkc?type=' + type;

  if (type === 'custom') {
    var time1 = $('#custom input[name="time1"]').val();
    var time2 = $('#custom input[name="time2"]').val();
    url = '/nkc?type=' + type + '&time1=' + time1 + '&time2=' + time2;
  }

  nkcAPI(url, 'GET', {}).then(function (data) {
    display(data.results);
  })["catch"](function (data) {
    screenTopWarning(data.error || data);
  });
}

function display(results) {
  var myChart = echarts.init(document.getElementById('main')); // 指定图表的配置项和数据

  var option = {
    title: {
      text: ''
    },
    tooltip: {
      trigger: 'axis'
    },
    legend: {
      data: ['发表文章', '发表回复', '用户注册']
    },
    xAxis: {
      data: results.x
    },
    yAxis: {},
    series: [{
      name: '发表文章',
      type: 'line',
      stack: '发表文章',
      data: results.threadsData
    }, {
      name: '发表回复',
      type: 'line',
      stack: '发表回复',
      data: results.postsData
    }, {
      name: '用户注册',
      type: 'line',
      stack: '用户注册',
      data: results.usersData
    }]
  }; // 使用刚指定的配置项和数据显示图表。

  myChart.setOption(option);
}

window.getResults = getResults;
window.reset = reset;
window.getData = getData;

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJwYWdlcy9ua2Mvc3RhdHVzL3N0YXR1cy5tanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLFNBQVMsUUFBVCxHQUFvQjtBQUNsQixFQUFBLENBQUMsQ0FBQyxPQUFELENBQUQsQ0FBVyxjQUFYLENBQTBCO0FBQ3hCLElBQUEsUUFBUSxFQUFHLE9BRGE7QUFFeEIsSUFBQSxNQUFNLEVBQUUsU0FGZ0I7QUFHeEIsSUFBQSxTQUFTLEVBQUUsQ0FIYTtBQUl4QixJQUFBLGNBQWMsRUFBRSxDQUpRO0FBS3hCLElBQUEsU0FBUyxFQUFFLENBTGE7QUFNeEIsSUFBQSxPQUFPLEVBQUUsQ0FOZTtBQU94QixJQUFBLFVBQVUsRUFBRTtBQVBZLEdBQTFCO0FBU0Q7O0FBRUQsQ0FBQyxDQUFDLFlBQVc7QUFDWCxFQUFBLFFBQVE7QUFDUixFQUFBLFVBQVUsQ0FBQztBQUFDLElBQUEsSUFBSSxFQUFFO0FBQVAsR0FBRCxDQUFWO0FBQ0EsTUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDLGdDQUFELENBQWQ7QUFDQSxFQUFBLE1BQU0sQ0FBQyxFQUFQLENBQVUsV0FBVixFQUF1QixZQUFXO0FBQ2hDLFNBQUksSUFBSSxDQUFDLEdBQUcsQ0FBWixFQUFlLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBMUIsRUFBa0MsQ0FBQyxFQUFuQyxFQUF3QztBQUN0QyxVQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsRUFBUCxDQUFVLENBQVYsQ0FBWjs7QUFDQSxVQUFHLEtBQUssQ0FBQyxJQUFOLENBQVcsU0FBWCxDQUFILEVBQTBCO0FBQ3hCLFlBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFOLENBQVcsV0FBWCxDQUFYO0FBQ0EsUUFBQSxVQUFVLENBQUM7QUFBQyxVQUFBLElBQUksRUFBRTtBQUFQLFNBQUQsQ0FBVjtBQUNEO0FBQ0Y7QUFDRixHQVJEO0FBU0QsQ0FiQSxDQUFEO0FBZUE7Ozs7O0FBTUEsU0FBUyxVQUFULENBQW9CLE9BQXBCLEVBQTZCO0FBQzNCLE1BQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFuQjs7QUFDQSxNQUFHLElBQUksS0FBSyxRQUFaLEVBQXNCO0FBQ3BCLElBQUEsQ0FBQyxDQUFDLFNBQUQsQ0FBRCxDQUFhLElBQWI7QUFDRCxHQUZELE1BRU87QUFDTCxJQUFBLENBQUMsQ0FBQyxTQUFELENBQUQsQ0FBYSxJQUFiO0FBQ0EsSUFBQSxPQUFPLENBQUMsSUFBRCxDQUFQO0FBQ0Q7QUFFRjs7QUFFRCxTQUFTLEtBQVQsR0FBaUI7QUFDZixFQUFBLENBQUMsQ0FBQyw2QkFBRCxDQUFELENBQWlDLEdBQWpDLENBQXFDLEVBQXJDO0FBQ0EsRUFBQSxDQUFDLENBQUMsNkJBQUQsQ0FBRCxDQUFpQyxHQUFqQyxDQUFxQyxFQUFyQztBQUNEOztBQUVELFNBQVMsT0FBVCxDQUFpQixJQUFqQixFQUF1QjtBQUNyQixNQUFJLEdBQUcsR0FBRyxlQUFhLElBQXZCOztBQUNBLE1BQUcsSUFBSSxLQUFLLFFBQVosRUFBc0I7QUFDcEIsUUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLDZCQUFELENBQUQsQ0FBaUMsR0FBakMsRUFBWjtBQUNBLFFBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyw2QkFBRCxDQUFELENBQWlDLEdBQWpDLEVBQVo7QUFDQSxJQUFBLEdBQUcsR0FBRyxlQUFhLElBQWIsR0FBa0IsU0FBbEIsR0FBNEIsS0FBNUIsR0FBa0MsU0FBbEMsR0FBNEMsS0FBbEQ7QUFDRDs7QUFDRCxFQUFBLE1BQU0sQ0FBQyxHQUFELEVBQU0sS0FBTixFQUFhLEVBQWIsQ0FBTixDQUNHLElBREgsQ0FDUSxVQUFTLElBQVQsRUFBZTtBQUNuQixJQUFBLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTixDQUFQO0FBQ0QsR0FISCxXQUlTLFVBQVMsSUFBVCxFQUFlO0FBQ3BCLElBQUEsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUwsSUFBYSxJQUFkLENBQWhCO0FBQ0QsR0FOSDtBQU9EOztBQUVELFNBQVMsT0FBVCxDQUFpQixPQUFqQixFQUEwQjtBQUd4QixNQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsSUFBUixDQUFhLFFBQVEsQ0FBQyxjQUFULENBQXdCLE1BQXhCLENBQWIsQ0FBZCxDQUh3QixDQU14Qjs7QUFDQSxNQUFJLE1BQU0sR0FBRztBQUNYLElBQUEsS0FBSyxFQUFFO0FBQ0wsTUFBQSxJQUFJLEVBQUU7QUFERCxLQURJO0FBSVgsSUFBQSxPQUFPLEVBQUU7QUFDUCxNQUFBLE9BQU8sRUFBRTtBQURGLEtBSkU7QUFPWCxJQUFBLE1BQU0sRUFBRTtBQUNOLE1BQUEsSUFBSSxFQUFDLENBQUMsTUFBRCxFQUFTLE1BQVQsRUFBaUIsTUFBakI7QUFEQyxLQVBHO0FBVVgsSUFBQSxLQUFLLEVBQUU7QUFDTCxNQUFBLElBQUksRUFBRSxPQUFPLENBQUM7QUFEVCxLQVZJO0FBYVgsSUFBQSxLQUFLLEVBQUUsRUFiSTtBQWNYLElBQUEsTUFBTSxFQUFFLENBQ047QUFDRSxNQUFBLElBQUksRUFBRSxNQURSO0FBRUUsTUFBQSxJQUFJLEVBQUUsTUFGUjtBQUdFLE1BQUEsS0FBSyxFQUFFLE1BSFQ7QUFJRSxNQUFBLElBQUksRUFBRSxPQUFPLENBQUM7QUFKaEIsS0FETSxFQU9OO0FBQ0UsTUFBQSxJQUFJLEVBQUUsTUFEUjtBQUVFLE1BQUEsSUFBSSxFQUFFLE1BRlI7QUFHRSxNQUFBLEtBQUssRUFBRSxNQUhUO0FBSUUsTUFBQSxJQUFJLEVBQUUsT0FBTyxDQUFDO0FBSmhCLEtBUE0sRUFhTjtBQUNFLE1BQUEsSUFBSSxFQUFFLE1BRFI7QUFFRSxNQUFBLElBQUksRUFBRSxNQUZSO0FBR0UsTUFBQSxLQUFLLEVBQUUsTUFIVDtBQUlFLE1BQUEsSUFBSSxFQUFFLE9BQU8sQ0FBQztBQUpoQixLQWJNO0FBZEcsR0FBYixDQVB3QixDQTJDeEI7O0FBQ0EsRUFBQSxPQUFPLENBQUMsU0FBUixDQUFrQixNQUFsQjtBQUNEOztBQUNELE1BQU0sQ0FBQyxVQUFQLEdBQW9CLFVBQXBCO0FBQ0EsTUFBTSxDQUFDLEtBQVAsR0FBZSxLQUFmO0FBQ0EsTUFBTSxDQUFDLE9BQVAsR0FBaUIsT0FBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJmdW5jdGlvbiBpbml0VGltZSgpIHtcclxuICAkKCcudGltZScpLmRhdGV0aW1lcGlja2VyKHtcclxuICAgIGxhbmd1YWdlOiAgJ3poLUNOJyxcclxuICAgIGZvcm1hdDogJ3l5eXktbW0nLFxyXG4gICAgYXV0b2Nsb3NlOiAxLFxyXG4gICAgdG9kYXlIaWdobGlnaHQ6IDEsXHJcbiAgICBzdGFydFZpZXc6IDQsXHJcbiAgICBtaW5WaWV3OiAzLFxyXG4gICAgZm9yY2VQYXJzZTogMFxyXG4gIH0pO1xyXG59XHJcblxyXG4kKGZ1bmN0aW9uKCkge1xyXG4gIGluaXRUaW1lKCk7XHJcbiAgZ2V0UmVzdWx0cyh7dHlwZTogJ3RvZGF5J30pO1xyXG4gIHZhciByYWRpb3MgPSAkKCdpbnB1dDpyYWRpb1tuYW1lPVwic3RhdHVzVHlwZVwiXScpO1xyXG4gIHJhZGlvcy5vbignaWZDaGFuZ2VkJywgZnVuY3Rpb24oKSB7XHJcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgcmFkaW9zLmxlbmd0aDsgaSArKykge1xyXG4gICAgICB2YXIgcmFkaW8gPSByYWRpb3MuZXEoaSk7XHJcbiAgICAgIGlmKHJhZGlvLnByb3AoJ2NoZWNrZWQnKSkge1xyXG4gICAgICAgIHZhciB0eXBlID0gcmFkaW8uYXR0cignZGF0YS10eXBlJyk7XHJcbiAgICAgICAgZ2V0UmVzdWx0cyh7dHlwZTogdHlwZX0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLyokKCdpbnB1dFtuYW1lPVwic3RhdHVzVHlwZVwiXScpLmlDaGVjayh7XHJcbiAgY2hlY2tib3hDbGFzczogJ2ljaGVja2JveF9taW5pbWFsLXJlZCcsXHJcbiAgcmFkaW9DbGFzczogJ2lyYWRpb19taW5pbWFsLXJlZCcsXHJcbn0pOyovXHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0UmVzdWx0cyhvcHRpb25zKSB7XHJcbiAgdmFyIHR5cGUgPSBvcHRpb25zLnR5cGU7XHJcbiAgaWYodHlwZSA9PT0gJ2N1c3RvbScpIHtcclxuICAgICQoJyNjdXN0b20nKS5zaG93KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgICQoJyNjdXN0b20nKS5oaWRlKCk7XHJcbiAgICBnZXREYXRhKHR5cGUpXHJcbiAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXQoKSB7XHJcbiAgJCgnI2N1c3RvbSBpbnB1dFtuYW1lPVwidGltZTFcIl0nKS52YWwoJycpO1xyXG4gICQoJyNjdXN0b20gaW5wdXRbbmFtZT1cInRpbWUyXCJdJykudmFsKCcnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RGF0YSh0eXBlKSB7XHJcbiAgdmFyIHVybCA9ICcvbmtjP3R5cGU9Jyt0eXBlO1xyXG4gIGlmKHR5cGUgPT09ICdjdXN0b20nKSB7XHJcbiAgICB2YXIgdGltZTEgPSAkKCcjY3VzdG9tIGlucHV0W25hbWU9XCJ0aW1lMVwiXScpLnZhbCgpO1xyXG4gICAgdmFyIHRpbWUyID0gJCgnI2N1c3RvbSBpbnB1dFtuYW1lPVwidGltZTJcIl0nKS52YWwoKTtcclxuICAgIHVybCA9ICcvbmtjP3R5cGU9Jyt0eXBlKycmdGltZTE9Jyt0aW1lMSsnJnRpbWUyPScrdGltZTI7XHJcbiAgfVxyXG4gIG5rY0FQSSh1cmwsICdHRVQnLCB7fSlcclxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgZGlzcGxheShkYXRhLnJlc3VsdHMpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgIHNjcmVlblRvcFdhcm5pbmcoZGF0YS5lcnJvcnx8IGRhdGEpO1xyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzcGxheShyZXN1bHRzKSB7XHJcblxyXG5cclxuICB2YXIgbXlDaGFydCA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpKTtcclxuXHJcblxyXG4gIC8vIOaMh+WumuWbvuihqOeahOmFjee9rumhueWSjOaVsOaNrlxyXG4gIHZhciBvcHRpb24gPSB7XHJcbiAgICB0aXRsZToge1xyXG4gICAgICB0ZXh0OiAnJ1xyXG4gICAgfSxcclxuICAgIHRvb2x0aXA6IHtcclxuICAgICAgdHJpZ2dlcjogJ2F4aXMnXHJcbiAgICB9LFxyXG4gICAgbGVnZW5kOiB7XHJcbiAgICAgIGRhdGE6Wyflj5Hooajmlofnq6AnLCAn5Y+R6KGo5Zue5aSNJywgJ+eUqOaIt+azqOWGjCddXHJcbiAgICB9LFxyXG4gICAgeEF4aXM6IHtcclxuICAgICAgZGF0YTogcmVzdWx0cy54XHJcbiAgICB9LFxyXG4gICAgeUF4aXM6IHt9LFxyXG4gICAgc2VyaWVzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAn5Y+R6KGo5paH56ugJyxcclxuICAgICAgICB0eXBlOiAnbGluZScsXHJcbiAgICAgICAgc3RhY2s6ICflj5Hooajmlofnq6AnLFxyXG4gICAgICAgIGRhdGE6IHJlc3VsdHMudGhyZWFkc0RhdGFcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICflj5Hooajlm57lpI0nLFxyXG4gICAgICAgIHR5cGU6ICdsaW5lJyxcclxuICAgICAgICBzdGFjazogJ+WPkeihqOWbnuWkjScsXHJcbiAgICAgICAgZGF0YTogcmVzdWx0cy5wb3N0c0RhdGFcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICfnlKjmiLfms6jlhownLFxyXG4gICAgICAgIHR5cGU6ICdsaW5lJyxcclxuICAgICAgICBzdGFjazogJ+eUqOaIt+azqOWGjCcsXHJcbiAgICAgICAgZGF0YTogcmVzdWx0cy51c2Vyc0RhdGFcclxuICAgICAgfVxyXG4gICAgXVxyXG4gIH07XHJcblxyXG4gIC8vIOS9v+eUqOWImuaMh+WumueahOmFjee9rumhueWSjOaVsOaNruaYvuekuuWbvuihqOOAglxyXG4gIG15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7XHJcbn1cclxud2luZG93LmdldFJlc3VsdHMgPSBnZXRSZXN1bHRzO1xyXG53aW5kb3cucmVzZXQgPSByZXNldDtcclxud2luZG93LmdldERhdGEgPSBnZXREYXRhOyJdfQ==
