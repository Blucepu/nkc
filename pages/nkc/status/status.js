(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

function initTime() {
  $('.time').datetimepicker({
    language: 'zh-CN',
    format: 'yyyy-mm',
    autoclose: 1,
    todayHighlight: 1,
    startView: 4,
    minView: 3,
    forceParse: 0
  });
}

$(function () {
  initTime();
  getResults({
    type: 'today'
  });
  var radios = $('input:radio[name="statusType"]');
  radios.on('ifChanged', function () {
    for (var i = 0; i < radios.length; i++) {
      var radio = radios.eq(i);

      if (radio.prop('checked')) {
        var type = radio.attr('data-type');
        getResults({
          type: type
        });
      }
    }
  });
});
/*$('input[name="statusType"]').iCheck({
  checkboxClass: 'icheckbox_minimal-red',
  radioClass: 'iradio_minimal-red',
});*/

function getResults(options) {
  var type = options.type;

  if (type === 'custom') {
    $('#custom').show();
  } else {
    $('#custom').hide();
    getData(type);
  }
}

function reset() {
  $('#custom input[name="time1"]').val('');
  $('#custom input[name="time2"]').val('');
}

function getData(type) {
  var url = '/nkc?type=' + type;

  if (type === 'custom') {
    var time1 = $('#custom input[name="time1"]').val();
    var time2 = $('#custom input[name="time2"]').val();
    url = '/nkc?type=' + type + '&time1=' + time1 + '&time2=' + time2;
  }

  nkcAPI(url, 'GET', {}).then(function (data) {
    display(data.results);
  })["catch"](function (data) {
    screenTopWarning(data.error || data);
  });
}

function display(results) {
  var myChart = echarts.init(document.getElementById('main')); // 指定图表的配置项和数据

  var option = {
    title: {
      text: ''
    },
    tooltip: {
      trigger: 'axis'
    },
    legend: {
      data: ['发表文章', '发表回复', '用户注册']
    },
    xAxis: {
      data: results.x
    },
    yAxis: {},
    series: [{
      name: '发表文章',
      type: 'line',
      stack: '发表文章',
      data: results.threadsData
    }, {
      name: '发表回复',
      type: 'line',
      stack: '发表回复',
      data: results.postsData
    }, {
      name: '用户注册',
      type: 'line',
      stack: '用户注册',
      data: results.usersData
    }]
  }; // 使用刚指定的配置项和数据显示图表。

  myChart.setOption(option);
}

window.getResults = getResults;
window.reset = reset;
window.getData = getData;

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJwYWdlcy9ua2Mvc3RhdHVzL3N0YXR1cy5tanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLFNBQVMsUUFBVCxHQUFvQjtBQUNsQixFQUFBLENBQUMsQ0FBQyxPQUFELENBQUQsQ0FBVyxjQUFYLENBQTBCO0FBQ3hCLElBQUEsUUFBUSxFQUFHLE9BRGE7QUFFeEIsSUFBQSxNQUFNLEVBQUUsU0FGZ0I7QUFHeEIsSUFBQSxTQUFTLEVBQUUsQ0FIYTtBQUl4QixJQUFBLGNBQWMsRUFBRSxDQUpRO0FBS3hCLElBQUEsU0FBUyxFQUFFLENBTGE7QUFNeEIsSUFBQSxPQUFPLEVBQUUsQ0FOZTtBQU94QixJQUFBLFVBQVUsRUFBRTtBQVBZLEdBQTFCO0FBU0Q7O0FBRUQsQ0FBQyxDQUFDLFlBQVc7QUFDWCxFQUFBLFFBQVE7QUFDUixFQUFBLFVBQVUsQ0FBQztBQUFDLElBQUEsSUFBSSxFQUFFO0FBQVAsR0FBRCxDQUFWO0FBQ0EsTUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDLGdDQUFELENBQWQ7QUFDQSxFQUFBLE1BQU0sQ0FBQyxFQUFQLENBQVUsV0FBVixFQUF1QixZQUFXO0FBQ2hDLFNBQUksSUFBSSxDQUFDLEdBQUcsQ0FBWixFQUFlLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBMUIsRUFBa0MsQ0FBQyxFQUFuQyxFQUF3QztBQUN0QyxVQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsRUFBUCxDQUFVLENBQVYsQ0FBWjs7QUFDQSxVQUFHLEtBQUssQ0FBQyxJQUFOLENBQVcsU0FBWCxDQUFILEVBQTBCO0FBQ3hCLFlBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFOLENBQVcsV0FBWCxDQUFYO0FBQ0EsUUFBQSxVQUFVLENBQUM7QUFBQyxVQUFBLElBQUksRUFBRTtBQUFQLFNBQUQsQ0FBVjtBQUNEO0FBQ0Y7QUFDRixHQVJEO0FBU0QsQ0FiQSxDQUFEO0FBZUE7Ozs7O0FB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LEtBQVAsR0FBZSxLQUFmO0FBQ0EsTUFBTSxDQUFDLE9BQVAsR0FBaUIsT0FBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJmdW5jdGlvbiBpbml0VGltZSgpIHtcbiAgJCgnLnRpbWUnKS5kYXRldGltZXBpY2tlcih7XG4gICAgbGFuZ3VhZ2U6ICAnemgtQ04nLFxuICAgIGZvcm1hdDogJ3l5eXktbW0nLFxuICAgIGF1dG9jbG9zZTogMSxcbiAgICB0b2RheUhpZ2hsaWdodDogMSxcbiAgICBzdGFydFZpZXc6IDQsXG4gICAgbWluVmlldzogMyxcbiAgICBmb3JjZVBhcnNlOiAwXG4gIH0pO1xufVxuXG4kKGZ1bmN0aW9uKCkge1xuICBpbml0VGltZSgpO1xuICBnZXRSZXN1bHRzKHt0eXBlOiAndG9kYXknfSk7XG4gIHZhciByYWRpb3MgPSAkKCdpbnB1dDpyYWRpb1tuYW1lPVwic3RhdHVzVHlwZVwiXScpO1xuICByYWRpb3Mub24oJ2lmQ2hhbmdlZCcsIGZ1bmN0aW9uKCkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCByYWRpb3MubGVuZ3RoOyBpICsrKSB7XG4gICAgICB2YXIgcmFkaW8gPSByYWRpb3MuZXEoaSk7XG4gICAgICBpZihyYWRpby5wcm9wKCdjaGVja2VkJykpIHtcbiAgICAgICAgdmFyIHR5cGUgPSByYWRpby5hdHRyKCdkYXRhLXR5cGUnKTtcbiAgICAgICAgZ2V0UmVzdWx0cyh7dHlwZTogdHlwZX0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KTtcblxuLyokKCdpbnB1dFtuYW1lPVwic3RhdHVzVHlwZVwiXScpLmlDaGVjayh7XG4gIGNoZWNrYm94Q2xhc3M6ICdpY2hlY2tib3hfbWluaW1hbC1yZWQnLFxuICByYWRpb0NsYXNzOiAnaXJhZGlvX21pbmltYWwtcmVkJyxcbn0pOyovXG5cblxuZnVuY3Rpb24gZ2V0UmVzdWx0cyhvcHRpb25zKSB7XG4gIHZhciB0eXBlID0gb3B0aW9ucy50eXBlO1xuICBpZih0eXBlID09PSAnY3VzdG9tJykge1xuICAgICQoJyNjdXN0b20nKS5zaG93KCk7XG4gIH0gZWxzZSB7XG4gICAgJCgnI2N1c3RvbScpLmhpZGUoKTtcbiAgICBnZXREYXRhKHR5cGUpXG4gIH1cblxufVxuXG5mdW5jdGlvbiByZXNldCgpIHtcbiAgJCgnI2N1c3RvbSBpbnB1dFtuYW1lPVwidGltZTFcIl0nKS52YWwoJycpO1xuICAkKCcjY3VzdG9tIGlucHV0W25hbWU9XCJ0aW1lMlwiXScpLnZhbCgnJyk7XG59XG5cbmZ1bmN0aW9uIGdldERhdGEodHlwZSkge1xuICB2YXIgdXJsID0gJy9ua2M/dHlwZT0nK3R5cGU7XG4gIGlmKHR5cGUgPT09ICdjdXN0b20nKSB7XG4gICAgdmFyIHRpbWUxID0gJCgnI2N1c3RvbSBpbnB1dFtuYW1lPVwidGltZTFcIl0nKS52YWwoKTtcbiAgICB2YXIgdGltZTIgPSAkKCcjY3VzdG9tIGlucHV0W25hbWU9XCJ0aW1lMlwiXScpLnZhbCgpO1xuICAgIHVybCA9ICcvbmtjP3R5cGU9Jyt0eXBlKycmdGltZTE9Jyt0aW1lMSsnJnRpbWUyPScrdGltZTI7XG4gIH1cbiAgbmtjQVBJKHVybCwgJ0dFVCcsIHt9KVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGRpc3BsYXkoZGF0YS5yZXN1bHRzKTtcbiAgICB9KVxuICAgIC5jYXRjaChmdW5jdGlvbihkYXRhKSB7XG4gICAgICBzY3JlZW5Ub3BXYXJuaW5nKGRhdGEuZXJyb3J8fCBkYXRhKTtcbiAgICB9KVxufVxuXG5mdW5jdGlvbiBkaXNwbGF5KHJlc3VsdHMpIHtcblxuXG4gIHZhciBteUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJykpO1xuXG5cbiAgLy8g5oyH5a6a5Zu+6KGo55qE6YWN572u6aG55ZKM5pWw5o2uXG4gIHZhciBvcHRpb24gPSB7XG4gICAgdGl0bGU6IHtcbiAgICAgIHRleHQ6ICcnXG4gICAgfSxcbiAgICB0b29sdGlwOiB7XG4gICAgICB0cmlnZ2VyOiAnYXhpcydcbiAgICB9LFxuICAgIGxlZ2VuZDoge1xuICAgICAgZGF0YTpbJ+WPkeihqOaWh+eroCcsICflj5Hooajlm57lpI0nLCAn55So5oi35rOo5YaMJ11cbiAgICB9LFxuICAgIHhBeGlzOiB7XG4gICAgICBkYXRhOiByZXN1bHRzLnhcbiAgICB9LFxuICAgIHlBeGlzOiB7fSxcbiAgICBzZXJpZXM6IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ+WPkeihqOaWh+eroCcsXG4gICAgICAgIHR5cGU6ICdsaW5lJyxcbiAgICAgICAgc3RhY2s6ICflj5Hooajmlofnq6AnLFxuICAgICAgICBkYXRhOiByZXN1bHRzLnRocmVhZHNEYXRhXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAn5Y+R6KGo5Zue5aSNJyxcbiAgICAgICAgdHlwZTogJ2xpbmUnLFxuICAgICAgICBzdGFjazogJ+WPkeihqOWbnuWkjScsXG4gICAgICAgIGRhdGE6IHJlc3VsdHMucG9zdHNEYXRhXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAn55So5oi35rOo5YaMJyxcbiAgICAgICAgdHlwZTogJ2xpbmUnLFxuICAgICAgICBzdGFjazogJ+eUqOaIt+azqOWGjCcsXG4gICAgICAgIGRhdGE6IHJlc3VsdHMudXNlcnNEYXRhXG4gICAgICB9XG4gICAgXVxuICB9O1xuXG4gIC8vIOS9v+eUqOWImuaMh+WumueahOmFjee9rumhueWSjOaVsOaNruaYvuekuuWbvuihqOOAglxuICBteUNoYXJ0LnNldE9wdGlvbihvcHRpb24pO1xufVxud2luZG93LmdldFJlc3VsdHMgPSBnZXRSZXN1bHRzO1xud2luZG93LnJlc2V0ID0gcmVzZXQ7XG53aW5kb3cuZ2V0RGF0YSA9IGdldERhdGE7Il19
