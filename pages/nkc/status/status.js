(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

function initTime() {
  $('.time').datetimepicker({
    language: 'zh-CN',
    format: 'yyyy-mm',
    autoclose: 1,
    todayHighlight: 1,
    startView: 4,
    minView: 3,
    forceParse: 0
  });
}

$(function () {
  initTime();
  getResults({
    type: 'today'
  });
  var radios = $('input:radio[name="statusType"]');
  radios.on('ifChanged', function () {
    for (var i = 0; i < radios.length; i++) {
      var radio = radios.eq(i);

      if (radio.prop('checked')) {
        var type = radio.attr('data-type');
        getResults({
          type: type
        });
      }
    }
  });
});
/*$('input[name="statusType"]').iCheck({
  checkboxClass: 'icheckbox_minimal-red',
  radioClass: 'iradio_minimal-red',
});*/

function getResults(options) {
  var type = options.type;

  if (type === 'custom') {
    $('#custom').show();
  } else {
    $('#custom').hide();
    getData(type);
  }
}

function reset() {
  $('#custom input[name="time1"]').val('');
  $('#custom input[name="time2"]').val('');
}

function getData(type) {
  var url = '/nkc?type=' + type;

  if (type === 'custom') {
    var time1 = $('#custom input[name="time1"]').val();
    var time2 = $('#custom input[name="time2"]').val();
    url = '/nkc?type=' + type + '&time1=' + time1 + '&time2=' + time2;
  }

  nkcAPI(url, 'GET', {}).then(function (data) {
    display(data.results);
  })["catch"](function (data) {
    screenTopWarning(data.error || data);
  });
}

function display(results) {
  var myChart = echarts.init(document.getElementById('main')); // 指定图表的配置项和数据

  var option = {
    title: {
      text: ''
    },
    tooltip: {
      trigger: 'axis'
    },
    legend: {
      data: ['发表文章', '发表回复', '用户注册']
    },
    xAxis: {
      data: results.x
    },
    yAxis: {},
    series: [{
      name: '发表文章',
      type: 'line',
      stack: '发表文章',
      data: results.threadsData
    }, {
      name: '发表回复',
      type: 'line',
      stack: '发表回复',
      data: results.postsData
    }, {
      name: '用户注册',
      type: 'line',
      stack: '用户注册',
      data: results.usersData
    }]
  }; // 使用刚指定的配置项和数据显示图表。

  myChart.setOption(option);
}

window.getResults = getResults;
window.reset = reset;
window.getData = getData;

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9fYnJvd3Nlci1wYWNrQDYuMS4wQGJyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInBhZ2VzL25rYy9zdGF0dXMvc3RhdHVzLm1qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsU0FBUyxRQUFULEdBQW9CO0FBQ2xCLEVBQUEsQ0FBQyxDQUFDLE9BQUQsQ0FBRCxDQUFXLGNBQVgsQ0FBMEI7QUFDeEIsSUFBQSxRQUFRLEVBQUcsT0FEYTtBQUV4QixJQUFBLE1BQU0sRUFBRSxTQUZnQjtBQUd4QixJQUFBLFNBQVMsRUFBRSxDQUhhO0FBSXhCLElBQUEsY0FBYyxFQUFFLENBSlE7QUFLeEIsSUFBQSxTQUFTLEVBQUUsQ0FMYTtBQU14QixJQUFBLE9BQU8sRUFBRSxDQU5lO0FBT3hCLElBQUEsVUFBVSxFQUFFO0FBUFksR0FBMUI7QUFTRDs7QUFFRCxDQUFDLENBQUMsWUFBVztBQUNYLEVBQUEsUUFBUTtBQUNSLEVBQUEsVUFBVSxDQUFDO0FBQUMsSUFBQSxJQUFJLEVBQUU7QUFBUCxHQUFELENBQVY7QUFDQSxNQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsZ0NBQUQsQ0FBZDtBQUNBLEVBQUEsTUFBTSxDQUFDLEVBQVAsQ0FBVSxXQUFWLEVBQXVCLFlBQVc7QUFDaEMsU0FBSSxJQUFJLENBQUMsR0FBRyxDQUFaLEVBQWUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUExQixFQUFrQyxDQUFDLEVBQW5DLEVBQXdDO0FBQ3RDLFVBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxFQUFQLENBQVUsQ0FBVixDQUFaOztBQUNBLFVBQUcsS0FBSyxDQUFDLElBQU4sQ0FBVyxTQUFYLENBQUgsRUFBMEI7QUFDeEIsWUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQU4sQ0FBVyxXQUFYLENBQVg7QUFDQSxRQUFBLFVBQVUsQ0FBQztBQUFDLFVBQUEsSUFBSSxFQUFFO0FBQVAsU0FBRCxDQUFWO0FBQ0Q7QUFDRjtBQUNGLEdBUkQ7QUFTRCxD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VUFBcEI7QUFDQSxNQUFNLENBQUMsS0FBUCxHQUFlLEtBQWY7QUFDQSxNQUFNLENBQUMsT0FBUCxHQUFpQixPQUFqQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImZ1bmN0aW9uIGluaXRUaW1lKCkge1xuICAkKCcudGltZScpLmRhdGV0aW1lcGlja2VyKHtcbiAgICBsYW5ndWFnZTogICd6aC1DTicsXG4gICAgZm9ybWF0OiAneXl5eS1tbScsXG4gICAgYXV0b2Nsb3NlOiAxLFxuICAgIHRvZGF5SGlnaGxpZ2h0OiAxLFxuICAgIHN0YXJ0VmlldzogNCxcbiAgICBtaW5WaWV3OiAzLFxuICAgIGZvcmNlUGFyc2U6IDBcbiAgfSk7XG59XG5cbiQoZnVuY3Rpb24oKSB7XG4gIGluaXRUaW1lKCk7XG4gIGdldFJlc3VsdHMoe3R5cGU6ICd0b2RheSd9KTtcbiAgdmFyIHJhZGlvcyA9ICQoJ2lucHV0OnJhZGlvW25hbWU9XCJzdGF0dXNUeXBlXCJdJyk7XG4gIHJhZGlvcy5vbignaWZDaGFuZ2VkJywgZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHJhZGlvcy5sZW5ndGg7IGkgKyspIHtcbiAgICAgIHZhciByYWRpbyA9IHJhZGlvcy5lcShpKTtcbiAgICAgIGlmKHJhZGlvLnByb3AoJ2NoZWNrZWQnKSkge1xuICAgICAgICB2YXIgdHlwZSA9IHJhZGlvLmF0dHIoJ2RhdGEtdHlwZScpO1xuICAgICAgICBnZXRSZXN1bHRzKHt0eXBlOiB0eXBlfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0pO1xuXG4vKiQoJ2lucHV0W25hbWU9XCJzdGF0dXNUeXBlXCJdJykuaUNoZWNrKHtcbiAgY2hlY2tib3hDbGFzczogJ2ljaGVja2JveF9taW5pbWFsLXJlZCcsXG4gIHJhZGlvQ2xhc3M6ICdpcmFkaW9fbWluaW1hbC1yZWQnLFxufSk7Ki9cblxuXG5mdW5jdGlvbiBnZXRSZXN1bHRzKG9wdGlvbnMpIHtcbiAgdmFyIHR5cGUgPSBvcHRpb25zLnR5cGU7XG4gIGlmKHR5cGUgPT09ICdjdXN0b20nKSB7XG4gICAgJCgnI2N1c3RvbScpLnNob3coKTtcbiAgfSBlbHNlIHtcbiAgICAkKCcjY3VzdG9tJykuaGlkZSgpO1xuICAgIGdldERhdGEodHlwZSlcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIHJlc2V0KCkge1xuICAkKCcjY3VzdG9tIGlucHV0W25hbWU9XCJ0aW1lMVwiXScpLnZhbCgnJyk7XG4gICQoJyNjdXN0b20gaW5wdXRbbmFtZT1cInRpbWUyXCJdJykudmFsKCcnKTtcbn1cblxuZnVuY3Rpb24gZ2V0RGF0YSh0eXBlKSB7XG4gIHZhciB1cmwgPSAnL25rYz90eXBlPScrdHlwZTtcbiAgaWYodHlwZSA9PT0gJ2N1c3RvbScpIHtcbiAgICB2YXIgdGltZTEgPSAkKCcjY3VzdG9tIGlucHV0W25hbWU9XCJ0aW1lMVwiXScpLnZhbCgpO1xuICAgIHZhciB0aW1lMiA9ICQoJyNjdXN0b20gaW5wdXRbbmFtZT1cInRpbWUyXCJdJykudmFsKCk7XG4gICAgdXJsID0gJy9ua2M/dHlwZT0nK3R5cGUrJyZ0aW1lMT0nK3RpbWUxKycmdGltZTI9Jyt0aW1lMjtcbiAgfVxuICBua2NBUEkodXJsLCAnR0VUJywge30pXG4gICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgZGlzcGxheShkYXRhLnJlc3VsdHMpO1xuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHNjcmVlblRvcFdhcm5pbmcoZGF0YS5lcnJvcnx8IGRhdGEpO1xuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGRpc3BsYXkocmVzdWx0cykge1xuXG5cbiAgdmFyIG15Q2hhcnQgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKSk7XG5cblxuICAvLyDmjIflrprlm77ooajnmoTphY3nva7pobnlkozmlbDmja5cbiAgdmFyIG9wdGlvbiA9IHtcbiAgICB0aXRsZToge1xuICAgICAgdGV4dDogJydcbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgIHRyaWdnZXI6ICdheGlzJ1xuICAgIH0sXG4gICAgbGVnZW5kOiB7XG4gICAgICBkYXRhOlsn5Y+R6KGo5paH56ugJywgJ+WPkeihqOWbnuWkjScsICfnlKjmiLfms6jlhownXVxuICAgIH0sXG4gICAgeEF4aXM6IHtcbiAgICAgIGRhdGE6IHJlc3VsdHMueFxuICAgIH0sXG4gICAgeUF4aXM6IHt9LFxuICAgIHNlcmllczogW1xuICAgICAge1xuICAgICAgICBuYW1lOiAn5Y+R6KGo5paH56ugJyxcbiAgICAgICAgdHlwZTogJ2xpbmUnLFxuICAgICAgICBzdGFjazogJ+WPkeihqOaWh+eroCcsXG4gICAgICAgIGRhdGE6IHJlc3VsdHMudGhyZWFkc0RhdGFcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICflj5Hooajlm57lpI0nLFxuICAgICAgICB0eXBlOiAnbGluZScsXG4gICAgICAgIHN0YWNrOiAn5Y+R6KGo5Zue5aSNJyxcbiAgICAgICAgZGF0YTogcmVzdWx0cy5wb3N0c0RhdGFcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICfnlKjmiLfms6jlhownLFxuICAgICAgICB0eXBlOiAnbGluZScsXG4gICAgICAgIHN0YWNrOiAn55So5oi35rOo5YaMJyxcbiAgICAgICAgZGF0YTogcmVzdWx0cy51c2Vyc0RhdGFcbiAgICAgIH1cbiAgICBdXG4gIH07XG5cbiAgLy8g5L2/55So5Yia5oyH5a6a55qE6YWN572u6aG55ZKM5pWw5o2u5pi+56S65Zu+6KGo44CCXG4gIG15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7XG59XG53aW5kb3cuZ2V0UmVzdWx0cyA9IGdldFJlc3VsdHM7XG53aW5kb3cucmVzZXQgPSByZXNldDtcbndpbmRvdy5nZXREYXRhID0gZ2V0RGF0YTsiXX0=
