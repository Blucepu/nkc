(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

function initTime() {
  $('.time').datetimepicker({
    language: 'zh-CN',
    format: 'yyyy-mm',
    autoclose: 1,
    todayHighlight: 1,
    startView: 4,
    minView: 3,
    forceParse: 0
  });
}

$(function () {
  initTime();
  getResults({
    type: 'today'
  });
  var radios = $('input:radio[name="statusType"]');
  radios.on('ifChanged', function () {
    for (var i = 0; i < radios.length; i++) {
      var radio = radios.eq(i);

      if (radio.prop('checked')) {
        var type = radio.attr('data-type');
        getResults({
          type: type
        });
      }
    }
  });
});
/*$('input[name="statusType"]').iCheck({
  checkboxClass: 'icheckbox_minimal-red',
  radioClass: 'iradio_minimal-red',
});*/

function getResults(options) {
  var type = options.type;

  if (type === 'custom') {
    $('#custom').show();
  } else {
    $('#custom').hide();
    getData(type);
  }
}

function reset() {
  $('#custom input[name="time1"]').val('');
  $('#custom input[name="time2"]').val('');
}

function getData(type) {
  var url = '/nkc?type=' + type;

  if (type === 'custom') {
    var time1 = $('#custom input[name="time1"]').val();
    var time2 = $('#custom input[name="time2"]').val();
    url = '/nkc?type=' + type + '&time1=' + time1 + '&time2=' + time2;
  }

  nkcAPI(url, 'GET', {}).then(function (data) {
    display(data.results);
  })["catch"](function (data) {
    screenTopWarning(data.error || data);
  });
}

function display(results) {
  var myChart = echarts.init(document.getElementById('main')); // 指定图表的配置项和数据

  var option = {
    title: {
      text: ''
    },
    tooltip: {
      trigger: 'axis'
    },
    legend: {
      data: ['发表文章', '发表回复', '用户注册']
    },
    xAxis: {
      data: results.x
    },
    yAxis: {},
    series: [{
      name: '发表文章',
      type: 'line',
      stack: '发表文章',
      data: results.threadsData
    }, {
      name: '发表回复',
      type: 'line',
      stack: '发表回复',
      data: results.postsData
    }, {
      name: '用户注册',
      type: 'line',
      stack: '用户注册',
      data: results.usersData
    }]
  }; // 使用刚指定的配置项和数据显示图表。

  myChart.setOption(option);
}

window.getResults = getResults;
window.reset = reset;
window.getData = getData;

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9fYnJvd3Nlci1wYWNrQDYuMS4wQGJyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInBhZ2VzL25rYy9zdGF0dXMvc3RhdHVzLm1qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsU0FBUyxRQUFULEdBQW9CO0FBQ2xCLEVBQUEsQ0FBQyxDQUFDLE9BQUQsQ0FBRCxDQUFXLGNBQVgsQ0FBMEI7QUFDeEIsSUFBQSxRQUFRLEVBQUcsT0FEYTtBQUV4QixJQUFBLE1BQU0sRUFBRSxTQUZnQjtBQUd4QixJQUFBLFNBQVMsRUFBRSxDQUhhO0FBSXhCLElBQUEsY0FBYyxFQUFFLENBSlE7QUFLeEIsSUFBQSxTQUFTLEVBQUUsQ0FMYTtBQU14QixJQUFBLE9BQU8sRUFBRSxDQU5lO0FBT3hCLElBQUEsVUFBVSxFQUFFO0FBUFksR0FBMUI7QUFTRDs7QUFFRCxDQUFDLENBQUMsWUFBVztBQUNYLEVBQUEsUUFBUTtBQUNSLEVBQUEsVUFBVSxDQUFDO0FBQUMsSUFBQSxJQUFJLEVBQUU7QUFBUCxHQUFELENBQVY7QUFDQSxNQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsZ0NBQUQsQ0FBZDtBQUNBLEVBQUEsTUFBTSxDQUFDLEVBQVAsQ0FBVSxXQUFWLEVBQXVCLFlBQVc7QUFDaEMsU0FBSSxJQUFJLENBQUMsR0FBRyxDQUFaLEVBQWUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUExQixFQUFrQyxDQUFDLEVBQW5DLEVBQXdDO0FBQ3RDLFVBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxFQUFQLENBQVUsQ0FBVixDQUFaOztBQUNBLFVBQUcsS0FBSyxDQUFDLElBQU4sQ0FBVyxTQUFYLENBQUgsRUFBMEI7QUFDeEIsWUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQU4sQ0FBVyxXQUFYLENBQVg7QUFDQSxRQUFBLFVBQVUsQ0FBQztBQUFDLFVBQUEsSUFBSSxFQUFFO0FBQVAsU0FBRCxDQUFWO0FBQ0Q7QUFDRjtBQUNGLEdBUkQ7QUFTRCxD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VUFBcEI7QUFDQSxNQUFNLENBQUMsS0FBUCxHQUFlLEtBQWY7QUFDQSxNQUFNLENBQUMsT0FBUCxHQUFpQixPQUFqQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImZ1bmN0aW9uIGluaXRUaW1lKCkge1xyXG4gICQoJy50aW1lJykuZGF0ZXRpbWVwaWNrZXIoe1xyXG4gICAgbGFuZ3VhZ2U6ICAnemgtQ04nLFxyXG4gICAgZm9ybWF0OiAneXl5eS1tbScsXHJcbiAgICBhdXRvY2xvc2U6IDEsXHJcbiAgICB0b2RheUhpZ2hsaWdodDogMSxcclxuICAgIHN0YXJ0VmlldzogNCxcclxuICAgIG1pblZpZXc6IDMsXHJcbiAgICBmb3JjZVBhcnNlOiAwXHJcbiAgfSk7XHJcbn1cclxuXHJcbiQoZnVuY3Rpb24oKSB7XHJcbiAgaW5pdFRpbWUoKTtcclxuICBnZXRSZXN1bHRzKHt0eXBlOiAndG9kYXknfSk7XHJcbiAgdmFyIHJhZGlvcyA9ICQoJ2lucHV0OnJhZGlvW25hbWU9XCJzdGF0dXNUeXBlXCJdJyk7XHJcbiAgcmFkaW9zLm9uKCdpZkNoYW5nZWQnLCBmdW5jdGlvbigpIHtcclxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCByYWRpb3MubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgIHZhciByYWRpbyA9IHJhZGlvcy5lcShpKTtcclxuICAgICAgaWYocmFkaW8ucHJvcCgnY2hlY2tlZCcpKSB7XHJcbiAgICAgICAgdmFyIHR5cGUgPSByYWRpby5hdHRyKCdkYXRhLXR5cGUnKTtcclxuICAgICAgICBnZXRSZXN1bHRzKHt0eXBlOiB0eXBlfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcblxyXG4vKiQoJ2lucHV0W25hbWU9XCJzdGF0dXNUeXBlXCJdJykuaUNoZWNrKHtcclxuICBjaGVja2JveENsYXNzOiAnaWNoZWNrYm94X21pbmltYWwtcmVkJyxcclxuICByYWRpb0NsYXNzOiAnaXJhZGlvX21pbmltYWwtcmVkJyxcclxufSk7Ki9cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRSZXN1bHRzKG9wdGlvbnMpIHtcclxuICB2YXIgdHlwZSA9IG9wdGlvbnMudHlwZTtcclxuICBpZih0eXBlID09PSAnY3VzdG9tJykge1xyXG4gICAgJCgnI2N1c3RvbScpLnNob3coKTtcclxuICB9IGVsc2Uge1xyXG4gICAgJCgnI2N1c3RvbScpLmhpZGUoKTtcclxuICAgIGdldERhdGEodHlwZSlcclxuICB9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldCgpIHtcclxuICAkKCcjY3VzdG9tIGlucHV0W25hbWU9XCJ0aW1lMVwiXScpLnZhbCgnJyk7XHJcbiAgJCgnI2N1c3RvbSBpbnB1dFtuYW1lPVwidGltZTJcIl0nKS52YWwoJycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXREYXRhKHR5cGUpIHtcclxuICB2YXIgdXJsID0gJy9ua2M/dHlwZT0nK3R5cGU7XHJcbiAgaWYodHlwZSA9PT0gJ2N1c3RvbScpIHtcclxuICAgIHZhciB0aW1lMSA9ICQoJyNjdXN0b20gaW5wdXRbbmFtZT1cInRpbWUxXCJdJykudmFsKCk7XHJcbiAgICB2YXIgdGltZTIgPSAkKCcjY3VzdG9tIGlucHV0W25hbWU9XCJ0aW1lMlwiXScpLnZhbCgpO1xyXG4gICAgdXJsID0gJy9ua2M/dHlwZT0nK3R5cGUrJyZ0aW1lMT0nK3RpbWUxKycmdGltZTI9Jyt0aW1lMjtcclxuICB9XHJcbiAgbmtjQVBJKHVybCwgJ0dFVCcsIHt9KVxyXG4gICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICBkaXNwbGF5KGRhdGEucmVzdWx0cyk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgc2NyZWVuVG9wV2FybmluZyhkYXRhLmVycm9yfHwgZGF0YSk7XHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNwbGF5KHJlc3VsdHMpIHtcclxuXHJcblxyXG4gIHZhciBteUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJykpO1xyXG5cclxuXHJcbiAgLy8g5oyH5a6a5Zu+6KGo55qE6YWN572u6aG55ZKM5pWw5o2uXHJcbiAgdmFyIG9wdGlvbiA9IHtcclxuICAgIHRpdGxlOiB7XHJcbiAgICAgIHRleHQ6ICcnXHJcbiAgICB9LFxyXG4gICAgdG9vbHRpcDoge1xyXG4gICAgICB0cmlnZ2VyOiAnYXhpcydcclxuICAgIH0sXHJcbiAgICBsZWdlbmQ6IHtcclxuICAgICAgZGF0YTpbJ+WPkeihqOaWh+eroCcsICflj5Hooajlm57lpI0nLCAn55So5oi35rOo5YaMJ11cclxuICAgIH0sXHJcbiAgICB4QXhpczoge1xyXG4gICAgICBkYXRhOiByZXN1bHRzLnhcclxuICAgIH0sXHJcbiAgICB5QXhpczoge30sXHJcbiAgICBzZXJpZXM6IFtcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICflj5Hooajmlofnq6AnLFxyXG4gICAgICAgIHR5cGU6ICdsaW5lJyxcclxuICAgICAgICBzdGFjazogJ+WPkeihqOaWh+eroCcsXHJcbiAgICAgICAgZGF0YTogcmVzdWx0cy50aHJlYWRzRGF0YVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ+WPkeihqOWbnuWkjScsXHJcbiAgICAgICAgdHlwZTogJ2xpbmUnLFxyXG4gICAgICAgIHN0YWNrOiAn5Y+R6KGo5Zue5aSNJyxcclxuICAgICAgICBkYXRhOiByZXN1bHRzLnBvc3RzRGF0YVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ+eUqOaIt+azqOWGjCcsXHJcbiAgICAgICAgdHlwZTogJ2xpbmUnLFxyXG4gICAgICAgIHN0YWNrOiAn55So5oi35rOo5YaMJyxcclxuICAgICAgICBkYXRhOiByZXN1bHRzLnVzZXJzRGF0YVxyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfTtcclxuXHJcbiAgLy8g5L2/55So5Yia5oyH5a6a55qE6YWN572u6aG55ZKM5pWw5o2u5pi+56S65Zu+6KGo44CCXHJcbiAgbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTtcclxufVxyXG53aW5kb3cuZ2V0UmVzdWx0cyA9IGdldFJlc3VsdHM7XHJcbndpbmRvdy5yZXNldCA9IHJlc2V0O1xyXG53aW5kb3cuZ2V0RGF0YSA9IGdldERhdGE7Il19
