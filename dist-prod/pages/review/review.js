!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}for(var t=NKC.methods.getDataById("data"),s=[],i={},r=0;r<t.results.length;r++){var o=t.results[r].post.pid,n=t.results[r].thread.tid,d=t.results[r].thread.oc===o;s.push(o),i[o]={pid:o,pass:!0,reason:"",delType:"toDraft",isThread:d,noticeType:[!0],illegalType:[],threadId:n}}var a=new Vue({el:"#app",data:{selectedPid:[],showInputPid:[],pid:s,review:i},methods:{selectAll:function(){this.selectedPid.length===this.pid.length?this.selectedPid=[]:this.selectedPid=[].concat(this.pid)},post:function(e,t){var s=e[t];if(s){var i,r,o="PUT";s.pass?(i={pid:s.postId},r="/review"):"toRecycle"===s.delType?(i={postsId:[s.postId],reason:s.reason,remindUser:s.noticeType,violation:s.illegalType},o="POST",r="/threads/recycle"):(i={postsId:[s.postId],reason:s.reason,remindUser:s.noticeType,violation:s.illegalType},r="/threads/draft",o="POST"),nkcAPI(r,o,i).then((function(){screenTopAlert("PID: "+s.postId+" 处理成功!"),a.post(e,t+1)})).catch((function(s){screenTopWarning("PID: "+s.postId+" 处理失败! error: "+s.error||s),console.log(s),a.post(e,t+1)}))}},submit:function(e){var t;t="string"==typeof e?[e]:this.selectedPid;for(var s=[],i=0;i<t.length;i++){var r=this.review[t[i]];s.push({pass:r.pass,reason:r.reason,delType:r.delType,postType:r.isThread?"thread":"post",threadId:r.threadId,postId:r.pid,noticeType:r.noticeType.length>0,illegalType:r.illegalType.length>0})}this.post(s,0)},chooseAll:function(e){this.selectedPid;for(var t=0;t<this.selectedPid.length;t++){var s=this.selectedPid[t];this.review[s].pass=e}}}});e(window,{pid:s,review:i,app:a})}));
