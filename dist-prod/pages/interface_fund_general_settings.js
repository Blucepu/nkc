!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";window.submit=function(){var n={enableFund:!1,fundName:"",description:"",terms:"",donationDescription:"",readOnly:!1,closed:{status:!1,openingHours:0}};n.enableFund=$('input[name="enableFund"]').eq(0).is(":checked");var e=$("#fundName").val(),i=$("#description").val(),r=$("#terms").val(),t=$("#donationDescription").val(),o=$("#fundPoolDescription").val();if(!e)return screenTopWarning("请输入基金名称。");if(n.fundName=e,!i)return screenTopWarning("请输入基金介绍。");if(n.description=i,!r)return screenTopWarning("请输入基金条款。");if(n.terms=r,!t)return screenTopWarning("请输入基金赞助说明。");if(n.donationDescription=t,!o)return screenTopWarning("请输入资金池介绍。");n.fundPoolDescription=o,n.readOnly=$('input[name="readOnly"]').eq(0).is(":checked"),n.closed.status=$('input[name="closed"]').eq(0).is(":checked");var s=$("#reason").val(),a=$("#openingTime").val();if(""===a&&(a=parseInt($("#openingTime").attr("time"))),n.closed.status){if(""===s)return screenTopWarning("请输入临时关闭的原因。");if((a=new Date(a).getTime())<=(new Date).getTime())return screenTopWarning("请输入正确的开放时间。")}n.closed.reason=s,n.closed.openingHours=a,nkcAPI("/fund/settings","PUT",{settingsObj:n}).then((function(){screenTopAlert("提交成功。")})).catch((function(n){screenTopWarning(n.error)}))}}));
