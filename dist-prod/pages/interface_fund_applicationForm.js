!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(){return(n=Object.assign||function(n){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}).apply(this,arguments)}n(window,{agree:function(n){nkcAPI("/fund/a/"+n+"/member","PUT",{agree:!0}).then((function(){window.location.reload()})).catch((function(n){screenTopWarning(n.error)}))},disagree:function(n){nkcAPI("/fund/a/"+n+"/member","PUT",{agree:!1}).then((function(){window.location.reload()})).catch((function(n){screenTopWarning(n.error)}))},support:function(n){var o=$("#content").val();nkcAPI("/fund/a/"+n+"/vote","POST",{type:"support",c:o}).then((function(){window.location.reload()})).catch((function(n){screenTopWarning(n.error)}))},against:function(n){var o=$("#content").val();o?nkcAPI("/fund/a/"+n+"/vote","POST",{type:"against",c:o}).then((function(){window.location.reload()})).catch((function(n){screenTopWarning(n.error)})):screenTopWarning("请输入反对的理由。")},revoked:function(n,o){if("giveUp"===n){var e=prompt("请输入放弃的原因。","");if(!e)return;nkcAPI("/fund/a/"+o+"?type="+n+"&c="+e,"DELETE",{}).then((function(){screenTopAlert("操作成功！")})).catch((function(n){screenTopWarning(n.error)}))}},disableApplicationForm:function(n,o){!0===o&&!1===confirm("确定要封禁该基金申请？")||nkcAPI("/fund/a/"+n+"/disabled","PUT",{type:o}).then((function(){window.location.reload()})).catch((function(n){screenTopWarning(n.error)}))},excellent:function(n,o){nkcAPI("/fund/a/"+n+"/excellent","PUT",{type:o}).then((function(){window.location.reload()})).catch((function(n){screenTopWarning(n.error)}))},submitComment:function(n){var o=$("#commentContent").val();if(!o)return screenTopWarning("请输入评论内容。");nkcAPI("/fund/a/"+n+"/comment","POST",{comment:{c:o}}).then((function(){window.location.reload()})).catch((function(n){screenTopWarning(n.error)}))},disabledComment:function(n,o,e){nkcAPI("/fund/a/"+n+"/comment/"+o+"?type="+e,"DELETE",{}).then((function(){window.location.reload()})).catch((function(n){screenTopWarning(n.error)}))},restoreApplicationForm:function(n){nkcAPI("/fund/a/"+n,"POST",{operation:"restore"}).then((function(){window.location.reload()})).catch((function(n){screenTopWarning(n.error||n)}))},disabledReport:function(n,o,e){nkcAPI("/fund/a/"+n+"/report/"+o+"?type="+e,"DELETE",{}).then((function(){window.location.reload()})).catch((function(n){screenTopWarning(n.error)}))}})}));
