!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";var t=NKC.methods.getDataById("data");t.category||(t.category={name:"",description:"",parentId:""});var e=new Vue({el:"#app",data:{category:t.category,categoryList:t.categoryList,column:t.column,error:"",info:""},mounted:function(){moduleToColumn.init()},methods:{selectCategory:function(){moduleToColumn.show((function(t){e.category.parentId=t.categoryId,moduleToColumn.hide()}),{exclude:[e.category._id]})},getCategoryById:function(t){for(var e=0;e<this.categoryList.length;e++){var o=this.categoryList[e];if(t===o._id)return o}},getCategoryNameById:function(t){var e=this.getCategoryById(t);return e?e.name:"无"},save:function(){this.error="",this.info="";var t=this.category;return t.name?t.description?void(t._id?nkcAPI("/m/"+this.column._id+"/category/"+t._id,"PUT",t).then((function(){e.info="保存成功"})).catch((function(t){e.error=t.error||t})):nkcAPI("/m/"+this.column._id+"/category","POST",t).then((function(){e.info="保存成功"})).catch((function(t){e.error=t.error||t}))):this.error="请输入分类介绍":this.error="请输入分类名"}}})}));
