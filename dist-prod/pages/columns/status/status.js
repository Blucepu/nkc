!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";var t=NKC.methods.getDataById("data");function e(t,e){var o=document.getElementById(t);o.style.width=$(window).width(),o.style.height="20rem";for(var s=echarts.init(o),i=[],n=[],a=0;a<e.length;a++){var r=e[a];i.push(r.time),n.push(r.count)}var u={toolbox:{show:!0},tooltip:{trigger:"axis"},title:{show:!1,text:"订阅趋势"},xAxis:{type:"category",data:i},yAxis:{type:"value",minInterval:1},series:[{data:n,type:"line"}]};s.setOption(u)}e("subscriptionDom",t.subscriptions),e("hitDom",t.hits),e("voteUpDom",t.voteUp),e("shareDom",t.share),window.app=new Vue({el:"#threadList",data:{columnId:t.column._id,sort:"hit",columnPosts:[],nav:[{type:"hit",name:"阅读量"},{type:"postCount",name:"回复数"},{type:"voteUp",name:"点赞数"}],paging:{page:0,buttonValue:[]}},mounted:function(){this.getPosts()},methods:{briefNumber:NKC.methods.tools.briefNumber,selectPage:function(t,e){"null"!==t&&this.getPosts(e)},getPosts:function(t){var e=this;void 0===t&&(t=this.paging.page);var o="/m/"+this.columnId+"/status?sort="+this.sort+"&page="+t;nkcAPI(o,"GET").then((function(t){e.columnPosts=t.columnPosts,e.paging=t.paging})).catch((function(t){sweetError(t)}))},switchSort:function(t){this.sort=t,this.getPosts(0)}}})}));
