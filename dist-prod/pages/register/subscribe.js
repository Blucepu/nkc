!function(s){"function"==typeof define&&define.amd?define(s):s()}((function(){"use strict";window.SubscribeTypes=void 0;var s=new Vue({el:"#app",data:{users:[],columns:[],forums:[],subUsersId:[],subColumnsId:[],subForumsId:[],loading:!0},mounted:function(){this.getUsers(),NKC.modules.SubscribeTypes&&(window.SubscribeTypes=new NKC.modules.SubscribeTypes)},methods:{getUrl:NKC.methods.tools.getUrl,visitUrl:function(s){NKC.methods.visitUrl(s,!0)},subscribeUser:function(e,u){SubscribeTypes.subscribeUserPromise(e,u).then((function(){if(u)s.subUsersId.push(e),screenTopAlert("关注成功");else{var n=s.subUsersId.indexOf(e);-1!==n&&s.subUsersId.splice(n,1)}})).catch((function(s){sweetSuccess(s)}))},getUsers:function(){this.loading=!0,nkcAPI("/register/subscribe?t=user","GET").then((function(e){s.users=e.users,s.subUsersId=e.subUsersId,s.loading=!1})).catch((function(e){sweetError(e),s.loading=!1}))},getColumns:function(){nkcAPI("/register/subscribe?t=column","GET").then((function(e){s.columns=e.columns,s.subColumnsId=e.subColumnsId})).catch((function(s){sweetError(s)}))},getForums:function(){nkcAPI("/register/subscribe?t=forums","GET").then((function(e){s.forums=e.forums,s.subForumsId=e.subForumsId})).catch((function(s){sweetError(s)}))}}});window.app=s}));
