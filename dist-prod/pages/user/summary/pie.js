!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";NKC.modules.SummaryPie=function(e){var t=this;t.dom=$(e),t.uid=t.dom.attr("data-uid"),t.getData=function(){nkcAPI("/u/"+t.uid+"/profile/summary/pie","GET").then((function(e){t.initEcharts(e.pie)})).catch(sweetError)},t.initEcharts=function(e){for(var o=[],a=[],i=[],r=0;r<e.length;r++){var n=e[r];o.push(n.forumName),i.push(n.color),a.push({value:n.count,name:n.forumName+"("+n.count+"条)"})}var s={title:{text:"活跃领域",subtext:"根据用户发表的文章和回复统计",x:"left"},tooltip:{trigger:"item",formatter:"{b} : {d}%"},legend:{show:!1,x:"center",y:"bottom",data:o},color:i,toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,series:[{name:"访问来源",type:"pie",radius:"50%",center:["50%","60%"],data:a,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};echarts.init(t.dom[0]).setOption(s)},t.getData()}}));
