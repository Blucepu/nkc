!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";var t=NKC.methods.getDataById("data"),e=new Vue({el:"#app",data:{authSettings:t.authSettings,certs:t.certs,selectCertId:"",error:"",info:"",auditorIdStr:t.authSettings.auditorId.join(", ")},mounted:function(){this.certs.length>0&&(this.selectCertId=this.certs[0]._id)},computed:{certsObj:function(){for(var t={},e=0;e<this.certs.length;e++){var i=this.certs[e];t[i._id]=i}return t},selectedCerts:function(){for(var t=this.authSettings.auditorCerts,e=[],i=0;i<t.length;i++){var r=t[i],s=this.certsObj[r];s&&e.push(s)}return e}},methods:{addCert:function(){-1===this.authSettings.auditorCerts.indexOf(this.selectCertId)&&this.authSettings.auditorCerts.push(this.selectCertId)},removeCert:function(t){var e=this.authSettings.auditorCerts.indexOf(t);-1!==e&&this.authSettings.auditorCerts.splice(e,1)},save:function(){for(var t=this.auditorIdStr.split(","),i=[],r=0;r<t.length;r++){var s=t[r];s=s.trim(),i.push(s)}this.authSettings.auditorId=i,nkcAPI("/e/settings/auth","PUT",{authSettings:this.authSettings}).then((function(){e.info="保存成功"})).catch((function(t){e.error=t.error}))}}})}));
