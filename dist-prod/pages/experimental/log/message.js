!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";new Vue({el:"#app",data:{messages:[],usersPaging:{},messagesPaging:{},skip:1,listType:"messages",c:"",filter:{uid:"",uidType:"username",tUidType:"username",tUid:"",ip:"",st:"",et:"",keyword:""}},computed:{paging:function(){return"messages"===this.listType?this.messagesPaging:this.usersPaging}},methods:{format:NKC.methods.format,fromNow:NKC.methods.fromNow,visitUrl:NKC.methods.visitUrl,getUrl:NKC.methods.tools.getUrl,reset:function(){this.filter={uid:"",tUid:"",ip:"",st:"",et:"",keyword:""},this.setC(),this.getData()},filterContent:function(){this.setC(),this.getData()},lastPage:function(){var t=this.paging;t.page<=0?this.getData(0):this.getData(t.page-1)},nextPage:function(){var t=this.paging;t.page+1>=t.pageCount?this.getData(t.pageCount-1):this.getData(t.page+1)},selectListType:function(t){this.listType=t},setPaging:function(t){"messages"===this.listType?this.messagesPaging=t:this.usersPaging=t},setC:function(){this.c=NKC.methods.strToBase64(JSON.stringify(this.filter))},skipPage:function(){this.skip=parseInt(this.skip),this.getData(this.skip-1)},getData:function(t){var e=this;void 0===t&&(t=0),Promise.resolve().then((function(){var s=e.c,i=e.listType;return nkcAPI("/e/log/message?page="+t+"&t="+i+"&c="+s,"GET")})).then((function(t){e.setPaging(t.paging),"messages"===e.listType?e.messages=t.messages:e.users=t.users})).catch((function(t){sweetError(t)}))}},mounted:function(){this.setC(),this.getData()}})}));
