!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}t(window,{editProductParamInfo:function(){},shelfRightNow:function(t,e){nkcAPI("/shop/manage/"+t+"/goodslist/shelfRightNow","PUT",{productId:e}).then((function(){sweetAlert("上架成功"),openToNewLocation("/shop/manage/"+t+"/goodslist")})).catch((function(t){sweetWarning(t||t.error)}))},stopSale:function(t,e){confirm("是否确认停售该商品?")&&nkcAPI("/shop/manage/"+t+"/goodslist/productStopSale","PUT",{productId:e}).then((function(t){sweetAlert("商品已停售"),window.location.reload()})).catch((function(t){sweetWarning(t.error||t)}))},goonSale:function(t,e){confirm("是否确认复售该商品?")&&nkcAPI("/shop/manage/"+t+"/goodslist/productGoonSale","PUT",{productId:e}).then((function(t){sweetAlert("商品已复售"),window.location.reload()})).catch((function(t){sweetWarning(t.error||t)}))},editParam:function(t){$("#save"+t).css("display",""),$("#edit"+t).css("display","none"),$("#originPrice"+t).attr("contenteditable","true"),$("#paramPrice"+t).attr("contenteditable","true"),$("#stocksSurplus"+t).attr("contenteditable","true"),$("#originPrice"+t).focus()},paramToEdit:function(t,e){var n=Number($("#originPrice"+e).text()),o=Number($("#paramPrice"+e).text()),i=Number($("#stocksSurplus"+e).text());if(n<=0||o<=0||i<=0)return sweetWarning("数值必须为正数");if(isNaN(n)||isNaN(o)||isNaN(i))return sweetWarning("数值必须为正数");if(n<o)return sweetWarning("原始价格不得小于优惠价");var r={paraId:e,originPrice:100*n.toFixed(2),price:100*o.toFixed(2),stocksSurplus:1*i.toFixed(0)};nkcAPI("/shop/manage/"+t+"/goodslist/editParam","PUT",{obj:r}).then((function(t){sweetAlert("修改成功"),$("#save"+e).css("display","none"),$("#edit"+e).css("display",""),$("#originPrice"+e).attr("contenteditable","false"),$("#paramPrice"+e).attr("contenteditable","false"),$("#stocksSurplus"+e).attr("contenteditable","false")})).catch((function(t){sweetWarning(t||t.error)}))}})}));
