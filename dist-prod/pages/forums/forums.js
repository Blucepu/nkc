!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function t(e){var t=$("div[data-button-fid='".concat(e,"']")),n=$("div[data-number-fid='".concat(e,"']"));t.addClass("cancel").attr("onclick","subscribeForum(false, '".concat(e,"')")).text("取关"),n.text(Number(n.eq(0).text()||0)+1),n.addClass("show"),setTimeout((function(){n.addClass("move"),setTimeout((function(){n.removeClass("show").removeClass("move")}),2e3)}),500)}function n(e){var t=$("div[data-button-fid='".concat(e,"']")),n=$("div[data-number-fid='".concat(e,"']"));t.removeClass("cancel").attr("onclick","subscribeForum(true, '".concat(e,"')")).text("关注");var o=Number(n.eq(0).text()||0);n.text(o?o-1:o)}window.subscribeForum=function(e,o){window.SubscribeTypes||(window.SubscribeTypes=new NKC.modules.SubscribeTypes),window.SubscribeTypes.subscribeForumPromise(o,e).then((function(){e?t(o):n(o)})).catch(sweetError)},e(window,{subscribed:t,unSubscribed:n})}));
