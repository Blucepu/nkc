!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e={init:function(t){var o=t.func,n=t.canChooseParentForum||!1;if(!o)throw"callback function is required";$("#vueSelectForum").modal({show:!1}),e.app=new Vue({el:"#vueSelectForum2",data:{forums:[],selectedForums:[]},computed:{childForums:function(){return 0===this.selectedForums.length?this.forums:this.selectedForums[this.selectedForums.length-1].childrenForums||[]}},mounted:function(){nkcAPI("/f","GET").then((function(t){e.app.forums=t.forums})).catch((function(e){screenTopWarning(e)}));var t=this;$("#vueSelectForum").on("hidden.bs.modal",(function(e){t.selectedForums=[]}))},methods:{all:function(){this.selectedForums=[]},backTo:function(e){for(var t=0;t<this.selectedForums.length;t++){if(this.selectedForums[t].fid===e.fid){this.selectedForums.splice(t+1,9999999);break}}},selectForum:function(e){this.selectedForums.push(e)},done:function(){var t=this.selectedForums;return 0===t.length?screenTopWarning("请选择专业"):n||0===this.childForums.length?($("#vueSelectForum").modal("hide"),o(t[t.length-1]),void setTimeout((function(){e.app.selectedForums=[]}),500)):screenTopWarning("请选择下级专业")},show:function(){$("#vueSelectForum").modal("show")},hide:function(){$("#vueSelectForum").modal("hide")}}})}};window.vueSelectForum=e}));
