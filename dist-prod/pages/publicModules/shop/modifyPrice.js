!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";NKC.modules.ShopModifyPrice=function(){return function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t);var i=this;i.dom=$("#moduleModifyPrice"),i.dom.modal({show:!1,backdrop:"static"}),i.app=new Vue({el:"#moduleModifyPriceApp",data:{price:0,type:"discount",number:"",warning:""},mounted:function(){this.checkData()},watch:{number:function(){this.checkData()},type:function(){this.checkData()}},computed:{resultPrice:function(){var t=this.price,i=this.number,n=this.type;return i=i||0,"input"===n?i.toFixed(2):"discount"===n?(i*t/100).toFixed(2):(t-i).toFixed(2)}},methods:{checkData:function(){this.warning="";var t=this.price,i=this.number,n=this.type;"discount"===n?i>=1&&i<=100||(this.warning="折扣数值不在规定的范围内"):"reduce"===n?i>=.01&&i<t||(this.warning="减去的数值不在规定的范围内"):i>=.01||(this.warning="改价后的数值不能小于0.01")},open:function(t,n){i.callback=t,i.app.price=n,i.dom.modal("show")},close:function(){i.dom.modal("hide")},submit:function(){i.callback(parseFloat(this.resultPrice)),this.close()}}}),i.open=i.app.open,i.close=i.app.close}}()}));
