!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(e,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}NKC.modules.ShopShip=function(){function o(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);var e=this;e.dom=$("#moduleShopShip"),e.dom.modal({show:!1,backdrop:"static"}),e.app=new Vue({el:"#moduleShopShipApp",data:{loading:!0,order:"",trackNumber:"",trackName:"AUTO",track:!0,trackNames:NKC.configs.trackNames,trackList:[]},methods:{copy:function(e){},open:function(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.orderId;e.dom.modal("show"),Promise.resolve().then((function(){return nkcAPI("/shop/manage/".concat(NKC.configs.uid,"/order/detail?orderId=").concat(a,"&t=").concat(Date.now()),"GET")})).then((function(o){e.app.loading=!1,e.app.order=o.order,e.app.trackName=o.order.trackName||"AUTO","no"===o.order.trackNumber?(e.app.track=!1,e.app.trackNumber=""):(e.app.trackNumber=o.order.trackNumber||"",e.app.track=!0)})).catch(sweetError)},close:function(){e.dom.modal("hide")},submit:function(){var o=this.track,r=this.order,a=this.trackName,t=this.trackNumber,n={orderId:r.orderId},c="/shop/manage/".concat(NKC.configs.uid,"/order/sendGoods");"unSign"===r.orderStatus&&(c="/shop/manage/".concat(NKC.configs.uid,"/order/editGoods")),o?(n.trackName=a,n.trackNumber=t):(n.trackName="",n.trackNumber="no"),nkcAPI(c,"PUT",{post:n}).then((function(){e.close(),sweetSuccess("保存成功")})).catch(sweetError)}}}),e.open=e.app.open,e.close=e.app.close}var r,a,t;return r=o,(a=[{key:"open",value:function(e,o){this.app.open(e,o)}},{key:"close",value:function(){this.app.close()}}])&&e(r.prototype,a),t&&e(r,t),o}()}));
